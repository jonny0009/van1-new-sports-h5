import{_ as a,a as e}from"./pitch.63ad02a2.js";import{u as s,C as l,b as t,s as n,E as u}from"./index.d6906b92.js";import{s as c,b as r,d as i,j as o,r as d,o as v,R as m,q as p,O as f,P as k,U as g,_ as b,W as h}from"./vue.469c5994.js";const x={class:"editName"},y={class:"content"},$={class:"edit-name"},N={class:"userName"},P={class:"explain"},I={key:0,class:"noPitch",src:a},_={key:1,class:"noPitch",src:e},j={class:"explain"},O={key:0,class:"noPitch",src:a},z={key:1,class:"noPitch",src:e},A={class:"explain"},C={key:0,class:"noPitch",src:a},E={key:1,class:"noPitch",src:e};var V=c({setup(a){const e=r((()=>n.state.user.userInfo)),c=h(),V=i(""),Z=i(!1),q=i(!1),w=i(!1),{t:S}=s(),U=i(S("user.EditNickname")),R=a=>{if(!a)return Z.value=!1,q.value=!1,void(w.value=!1);-1!==a.indexOf(" ")?Z.value=!1:Z.value=!0;if(/^[a-zA-Z0-9]{4,16}$/.test(a)?w.value=!0:w.value=!1,a.indexOf("admin")>0||a.indexOf("test")>0)q.value=!1;else{/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{2,16}$/.test(a)?q.value=!0:q.value=!1}};o((()=>{W()}));const W=async()=>{const a={fPlayerId:e.value.playerId},s=await l(a);if(200!==s.code)return t(s.msg);V.value=s.data.nickName,R(s.data.nickName)};return(a,e)=>{const s=d("van-nav-bar"),l=d("van-field");return v(),m("div",x,[p(s,{class:"bg-title",title:U.value,border:!1},{left:f((()=>[k("span",{onClick:e[0]||(e[0]=a=>{c.back()})},g(a.$t("user.cancellation")),1)])),right:f((()=>[k("span",{onClick:e[1]||(e[1]=a=>(async()=>{if(!w.value||!w.value||!w.value)return t(S("user.text11"));const a={nickName:V.value,lang:localStorage.getItem("locale")},e=await u(a);if(200!==e.code)return t(e.msg);t(S("user.EditSuccessfully")),n.dispatch("user/userInfo"),c.push("/user/userInfo")})())},g(a.$t("user.save")),1)])),_:1},8,["title"]),k("div",y,[p(l,{modelValue:V.value,"onUpdate:modelValue":[e[2]||(e[2]=a=>V.value=a),R],class:b([V.value?"bb":""]),name:"",label:"",placeholder:a.$t("user.nickname"),maxlength:"16",clearable:"",rules:[{required:!0,message:a.$t("user.nickname")}]},null,8,["modelValue","class","placeholder","rules"]),k("p",$,g(a.$t("user.fontNickName")),1),k("p",N,g(a.$t("user.text3"))+":",1),k("p",P,[w.value?(v(),m("img",_)):(v(),m("img",I)),k("span",null,g(a.$t("user.font5")),1)]),k("p",j,[q.value?(v(),m("img",z)):(v(),m("img",O)),k("span",null,g(a.$t("user.font6")),1)]),k("p",A,[Z.value?(v(),m("img",E)):(v(),m("img",C)),k("span",null,g(a.$t("user.text6")),1)])])])}}});V.__scopeId="data-v-7bb885c2";export{V as default};
