var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{u as s,s as n,I as o,A as v,r as u}from"./index.739c8877.js";import{u as c}from"./useMatch.9bfb5ef8.js";import{s as m,a as r}from"./s_hot2.bba3cb3a.js";import{s as d,b as p,d as g,r as h,E as y,o as f,R as b,P as T,q as _,O as k,u as I,W as w,$ as B,c as O,x,M as S,e as R,F as V,S as j,_ as E,Y as M,Z as N}from"./vue.97c0c246.js";import{a as D,g as C,n as F}from"./index.a751d091.js";import{l as H}from"./live-bg-error.28d01b38.js";import"./getScore.d0536e65.js";const L={class:"item"},$={class:"item-photo"},P=["src"],z={key:0,class:"state"},U={class:"footer"},A=["innerHTML"],K={key:1},q={key:1,class:"mask-reseve"},W={class:"item-title"},Y={class:"item-team"},Z={class:"cell"},G={class:"head"},J={type:4,alt:""},Q={class:"score"},X={class:"cell"},ee={class:"head"},ae={type:5,alt:""},le={class:"score"},te={class:"item-desc"},ie={class:"name"},se={class:"hots"},ne=["src"];var oe=d({props:{item:{type:Object,default:()=>{}}},setup(e){const a=e,{t:l}=s(),t=p((()=>n.state.app.theme)),i=p((()=>"blue"==t.value?m:r)),u=g(o),d=c(),S=p((()=>{var e;return null==(e=a.item)?void 0:e.gameInfo})),R=p((()=>{const e=a.item;return e.anchorId?o+e.cover:"BK"==e.gameType?o+"FE/common/live/img_video_bg_BK.jpg":o+"FE/common/live/img_video_bg_FT.jpg"})),V=p((()=>{const e=a.item.watchTotal.toLocaleString();return"RB"==a.item.showType?l("live.xLooks",{num:e}):l("live.xReserve",{num:e})})),j=p((()=>({FT:"live-football",BK:"live-basketball",TN:"live-tennisball",OP_BM:"live-badminton"}[a.item.gameType])));return(l,t)=>{const s=h("van-image"),n=h("SvgIcon"),o=y("img");return f(),b("div",L,[T("div",$,[_(s,{src:I(R),fit:"cover"},{error:k((()=>[T("img",{src:u.value+"FE/common/live/img_video_bg_FT.jpg",alt:""},null,8,P)])),_:1},8,["src"]),"RB"==e.item.showType?(f(),b("div",z,w(l.$t("live.hotNow")),1)):B("",!0),T("div",U,["RB"==e.item.showType?(f(),b("span",{key:0,innerHTML:I(d).showRBTime(e.item)},null,8,A)):(f(),b("span",K,w(I(v)(e.item.gameDate,"MM-DD HH:mm")),1))]),"RB"!=e.item.showType?(f(),b("div",q,[T("span",null,w(l.$t("live.xHas",{num:I(V)})),1),T("span",null,w(l.$t("live.playNow")),1)])):B("",!0)]),T("div",W,[I(j)?(f(),O(n,{key:0,name:I(j)},null,8,["name"])):B("",!0),T("strong",null,w(e.item.leagueName),1)]),T("div",Y,[T("div",Z,[T("div",G,[x(T("img",J,null,512),[[o,e.item.homeLogo]]),T("span",null,w(e.item.homeTeam),1)]),T("div",Q,[T("span",null,w(I(S).sc_game_H||I(S).sc_FT_H),1)])]),T("div",X,[T("div",ee,[x(T("img",ae,null,512),[[o,e.item.awayLogo]]),T("span",null,w(e.item.awayTeam),1)]),T("div",le,[T("span",null,w(I(S).sc_game_A||I(S).sc_FT_C||I(S).sc_FT_A),1)])])]),T("div",te,[T("div",ie,w(e.item.nickname||e.item.leagueShortName),1),T("div",se,[T("img",{src:I(i),alt:""},null,8,ne),T("span",null,w(a.item.watchTotal.toLocaleString()),1)])])])}}});oe.__scopeId="data-v-075ee586";const ve={class:"tab-title"},ue={key:0,class:"title-group"},ce={class:"title"},me={key:0,class:"next"},re=(e=>(M("data-v-5a7b42fc"),e=e(),N(),e))((()=>T("div",{class:"img"},[T("img",{src:"/assets/no_an_ma.134981fa.png",alt:""})],-1))),de=["innerHTML"],pe={class:"grid-wrapper"},ge={class:"title-group"},he={class:"title"},ye={class:"grid-wrapper"},fe={class:"title-group"},be={class:"title"},Te=["onClick"],_e=["errorImg"],ke={class:"video-user-info"},Ie={type:"1",alt:""},we={class:"name text-overflow"},Be={class:"video-content text-overflow-2"};var Oe=d({setup(e){S((()=>{A()}));const o=g(["HOT","ComingSoon","VIDEO"]),v=p((()=>n.state.app.showFixedBet)),{t:c}=s(),m=R([{type:"RB",title:c("live.hot"),iconName:"live-hot"},{type:"FT",title:c("live.football"),iconName:"live-football"},{type:"BK",title:c("live.basketball"),iconName:"live-basketball"},{type:"TN",title:c("live.tennisball"),iconName:"live-tennisball"},{type:"OP_BM",title:c("live.badminton"),iconName:"live-badminton"},{type:"VIDEO",title:c("home.shortVideoTitle"),iconName:"live-badminton"}]),r=g("RB"),d=g(-1),M=g("");let N=R({});const L=g([]),$=g(!0),P=g(!1),z=g(!1),U=()=>{A()},A=()=>{["VIDEO"].includes(r.value)?L.value=[]:(async()=>{L.value.length=0,z.value&&(z.value=!1),$.value=!0;const e={page:1,pageSize:100};"RB"===r.value?(e.rbType=1,e.gameType=void 0):(e.rbType=void 0,e.gameType=r.value);const a=await D(e).finally((()=>{$.value=!1})),l=a.data;if(200===a.code){if("RB"===r.value&&0===l.list.length){P.value=!0;const e=await F();return 200===e.code&&e.data&&e.data>e.systemTime?(d.value=e.data-e.systemTime,void(N=setInterval((()=>{d.value-=1e3,0===d.value&&clearInterval(N),q()}),1e3))):void 0}l.list.forEach((e=>{L.value.push(e)})),P.value=L.value.length===l.total}else P.value=!0})(),["RB"].includes(r.value)?Y():W.value=[],["RB","VIDEO"].includes(r.value)?(Q.value.page=0,X()):Z.value=[]},K=e=>{u.push(`/match/${e.gidm}`),n.dispatch("app/setMatchLiveIndex",1)},q=()=>{if(d.value<0)return clearInterval(N),void A();function e(e){return e<10?"0"+e:e}const a=Math.round(d.value/1e3);let l=parseInt(""+a/3600%24),t=parseInt(""+a/60%60),i=a%60;l=e(l),t=e(t),i=e(i),M.value=l+":"+t+":"+i},W=g([]),Y=async()=>{var e;const a=await D({page:1,pageSize:100,rbType:2}),l=(null==(e=null==a?void 0:a.data)?void 0:e.list)||[];200===a.code&&l.length&&(W.value=l)},Z=g([]),G=g(!0),J=g(0),Q=g({page:0,pageSize:10}),X=async()=>{var e,s;if(G.value=!0,J.value>0&&Q.value.page*Q.value.pageSize>=J.value)return!1;Q.value.page++,1===Q.value.page&&(Z.value.length=0);const n=await C(((e,s)=>{for(var n in s||(s={}))l.call(s,n)&&i(e,n,s[n]);if(a)for(var n of a(s))t.call(s,n)&&i(e,n,s[n]);return e})({},Q.value)).finally((()=>{G.value=!1})),o=(null==(e=null==n?void 0:n.data)?void 0:e.videoData)||[];J.value=(null==(s=null==n?void 0:n.data)?void 0:s.total)||0,200===n.code&&o.length&&Z.value.push(...o)};return(e,a)=>{const l=h("SvgIcon"),t=h("EmptyData"),i=h("van-list"),s=h("van-collapse-item"),n=h("van-collapse"),c=h("van-tab"),p=h("van-tabs"),g=h("van-pull-refresh"),S=y("img");return f(),b("div",{class:E(["live-page",{"has-bet":I(v)}])},[_(g,{modelValue:z.value,"onUpdate:modelValue":a[4]||(a[4]=e=>z.value=e),onRefresh:A},{default:k((()=>[_(p,{active:r.value,"onUpdate:active":a[3]||(a[3]=e=>r.value=e),swipeable:"",sticky:"",shrink:"",border:!1,"offset-top":"12.8vw","line-height":"0",onChange:U},{default:k((()=>[(f(!0),b(V,null,j(I(m),((v,m)=>(f(),O(c,{key:m,name:v.type},{title:k((()=>[T("div",ve,[T("span",null,w(v.title),1)])])),default:k((()=>[_(n,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e)},{default:k((()=>["VIDEO"!==r.value?(f(),O(s,{key:0,"is-link":!1,class:"collapse-item",name:"HOT"},{title:k((()=>["RB"===v.type?(f(),b("div",ue,[_(l,{class:"first-icon",name:"home-hot-match"}),T("span",ce,w(e.$t("home.hotMatchTitle")),1),_(l,{class:E(["title-icon",{open:o.value.includes("HOT")}]),name:"home-triangle"},null,8,["class"])])):B("",!0)])),default:k((()=>[0===L.value.length&&d.value>0&&"RB"===r.value?(f(),b("div",me,[re,T("p",{innerHTML:e.$t("live.nextAM",{num:M.value})},null,8,de)])):B("",!0),!$.value&&0===L.value.length||0===L.value.length&&d.value<0&&!$.value?(f(),O(t,{key:1})):B("",!0),_(i,{loading:$.value,"onUpdate:loading":a[0]||(a[0]=e=>$.value=e),finished:!$.value},{default:k((()=>[T("div",pe,[(f(!0),b(V,null,j(L.value,(e=>(f(),b("div",{key:e.gidm,class:"flex-item"},[_(oe,{item:e,onClick:a=>K(e)},null,8,["item","onClick"])])))),128))])])),_:1},8,["loading","finished"])])),_:2},1024)):B("",!0),W.value.length?(f(),O(s,{key:1,"is-link":!1,class:"collapse-item",name:"ComingSoon"},{title:k((()=>[T("div",ge,[_(l,{class:"first-icon",name:"home-coming"}),T("span",he,w(e.$t("home.comingSoonTitle")),1),_(l,{class:E(["title-icon",{open:o.value.includes("ComingSoon")}]),name:"home-triangle"},null,8,["class"])])])),default:k((()=>[T("div",ye,[(f(!0),b(V,null,j(W.value,(e=>(f(),b("div",{key:e.gidm,class:"flex-item"},[_(oe,{item:e,onClick:a=>K(e)},null,8,["item","onClick"])])))),128))])])),_:1})):B("",!0),["RB","VIDEO"].includes(r.value)?(f(),O(s,{key:2,"is-link":!1,class:"collapse-item",name:"VIDEO"},{title:k((()=>[T("div",fe,[_(l,{class:"first-icon",name:"home-short-video"}),T("span",be,w(e.$t("home.shortVideoTitle")),1),_(l,{class:E(["title-icon",{open:o.value.includes("VIDEO")}]),name:"home-triangle"},null,8,["class"])])])),default:k((()=>[G.value||Z.value.length?(f(),O(i,{key:0,loading:G.value,"onUpdate:loading":a[1]||(a[1]=e=>G.value=e),finished:Q.value.page*Q.value.pageSize>=J.value&&!G.value,"finished-text":0==Z.value.length?"":e.$t("live.noMore"),onLoad:X,class:"list-group"},{default:k((()=>[(f(!0),b(V,null,j(Z.value,((e,a)=>(f(),b("div",{class:"group-item-box",key:a,onClick:a=>(e=>{u.push({name:"Svideo",query:{videoId:e.videoId}})})(e)},[x(T("img",{class:"bg",errorImg:I(H),type:"1",alt:""},null,8,_e),[[S,e.videoImg]]),T("div",ke,[x(T("img",Ie,null,512),[[S,e.leagueIcon]]),T("span",we,w(e.leagueName||e.leagueNameCn),1)]),T("div",Be,w(e.videoTitle),1)],8,Te)))),128))])),_:2},1032,["loading","finished","finished-text"])):G.value?B("",!0):(f(),O(t,{key:1}))])),_:2},1024)):B("",!0)])),_:2},1032,["modelValue"])])),_:2},1032,["name"])))),128))])),_:1},8,["active"])])),_:1},8,["modelValue"])],2)}}});Oe.__scopeId="data-v-5a7b42fc";export{Oe as default};
