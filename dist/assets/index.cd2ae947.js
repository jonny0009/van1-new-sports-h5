import{t as e}from"./title-hot.985ded28.js";import{s as a,i as s,f as t}from"./index.48a0a403.js";import{f as n,r as o}from"./index.884ad8e0.js";import{s as l,b as r,d as c,w as u,e as i,M as m,r as p,o as d,R as v,q as h,u as y,P as g,c as T,F as f,Z as k,Y as b,a1 as M,O as w,W as S,X as H,j as x,_ as j}from"./vue.85a22cc6.js";import{t as C}from"./title-recommend.cbc3e195.js";import{t as D}from"./title-time.5b0f96b3.js";const I=e=>(S("data-v-5a4c6081"),e=e(),H(),e),R={key:0,class:"Hot-Match-Group-Warp"},_=I((()=>g("div",{class:"onImgError"},null,-1))),q=I((()=>g("div",{class:"mask-left",style:{display:"none"}},null,-1))),A=I((()=>g("div",{class:"mask-right"},null,-1)));var E=l({setup(o){const l=r((()=>a.state.home.refreshChangeTime)),S=r((()=>0===x.length)),H=c("");u(l,(e=>{e&&(clearTimeout(H.value),H.value=setTimeout((()=>{C()}),100))}));const x=i([]),j=c(!1),C=async()=>{j.value=!1;const e=await n();if(j.value=!0,200===e.code){const a=(null==e?void 0:e.data)||[];x.length=0,x.push(...a)}};m((()=>{C()}));const D=c(!1),I=e=>{D.value=e},E=(e,a,s,t)=>{var n=s-e,o=t-a,l=0;if(Math.abs(n)<2&&Math.abs(o)<2)return l;var r=((e,a)=>180*Math.atan2(a,e)/Math.PI)(n,o);return r>=-135&&r<=-45?l=1:r>45&&r<135?l=2:r>=135&&r<=180||r>=-180&&r<-135?l=3:r>=-45&&r<=45&&(l=4),l},L=c({}),F=c({}),G=c({});return(a,n)=>{const o=p("ArrowTitle"),l=p("Loading"),r=p("HomeEmpty"),c=p("van-loading"),u=p("van-image");return d(),v(f,null,[h(o,{class:"mt10 mb10",src:y(e),text:"热门赛事",onReturnSuccess:I},null,8,["src"]),D.value?M("",!0):(d(),v("div",R,[g("div",{class:b(["Hot-Match-Group",[{noData:y(S)}]]),onTouchstart:n[0]||(n[0]=e=>(e=>{const a=e.targetTouches[0];L.value={x:a.pageX,y:a.pageY,time:new Date}})(e)),onTouchmove:n[1]||(n[1]=e=>(e=>{const a=e.changedTouches[0];F.value={x:a.pageX,y:a.pageY,timeStemp:new Date};const{x:s,y:t}=L.value;G.value=E(s,t,F.value.x,F.value.y)})(e))},[j.value?(d(),v(f,{key:1},[y(S)?(d(),T(r,{key:0})):(d(!0),v(f,{key:1},k(y(x),((e,a)=>(d(),T(u,{key:a,src:y(s)(e.icon),fit:"contain","lazy-load":"",onClick:a=>(e=>{const{leagueId:a,gameType:s}=e;t.push({name:"Sport",query:{leagueId:a},params:{type:s}})})(e)},{loading:w((()=>[h(c,{type:"spinner",class:"van-new-loading",size:"36px"})])),error:w((()=>[_])),_:2},1032,["src","onClick"])))),128))],64)):(d(),T(l,{key:0}))],34),y(S)?M("",!0):(d(),v(f,{key:0},[q,A],64))]))],64)}}});E.__scopeId="data-v-5a4c6081";var L=l({setup(e){const s=r((()=>a.state.home.refreshChangeTime)),t=c("");u(s,(e=>{e&&(clearTimeout(t.value),t.value=setTimeout((()=>{g()}),100))}));const n=i([]),l=c(!1),g=async(e="FT")=>{const a={gradeType:1,gameType:e};l.value=!1;const s=await o(a);if(l.value=!0,200===s.code){const e=(null==s?void 0:s.data)||{},{baseData:a}=e;n.length=0,n.push(...a)}},b=e=>{g(e)};m((()=>{g()}));const w=c(!1),S=e=>{w.value=e};return(e,a)=>{const s=p("ArrowTitle"),t=p("SportsTabs"),o=p("Loading"),r=p("HomeEmpty"),c=p("HomeMatchHandicap");return d(),v(f,null,[h(s,{class:"mt10 mb10",src:y(C),text:"推荐比赛",onReturnSuccess:S},null,8,["src"]),w.value?M("",!0):(d(),v(f,{key:0},[h(t,{onReturnSportsSuccess:b}),l.value?(d(),v(f,{key:1},[y(n).length?M("",!0):(d(),T(r,{key:0})),(d(!0),v(f,null,k(y(n),((e,a)=>(d(),T(c,{key:a,"send-params":e,class:"mt20"},null,8,["send-params"])))),128))],64)):(d(),T(o,{key:0}))],64))],64)}}});const F=[g("span",null," 查看更多比赛 ",-1)];var G=l({setup(e){const s=r((()=>a.state.home.refreshChangeTime)),n=c("");u(s,(e=>{e&&(clearTimeout(n.value),n.value=setTimeout((()=>{b()}),100))}));const l=i([]),g=c(!1),b=async(e="FT")=>{g.value=!1;const a={gradeType:2,gameType:e},s=await o(a);if(g.value=!0,200===s.code){const e=(null==s?void 0:s.data)||{},{baseData:a}=e;l.length=0,l.push(...a)}},w=()=>{const e={name:"HomeTime",params:{refreshTime:(new Date).getTime()}};a.dispatch("app/setKeyValue",{key:"imgChangeTime",value:(new Date).getTime()}),t.push(e)},S=e=>{b(e)};m((()=>{b()}));const H=c(!1),x=e=>{H.value=e};return(e,a)=>{const s=p("ArrowTitle"),t=p("SportsTabs"),n=p("Loading"),o=p("HomeEmpty"),r=p("HomeMatchHandicap");return d(),v(f,null,[h(s,{class:"mt10 mb10",src:y(D),text:"早盘",onReturnSuccess:x},null,8,["src"]),H.value?M("",!0):(d(),v(f,{key:0},[h(t,{onReturnSportsSuccess:S}),g.value?(d(),v(f,{key:1},[y(l).length?(d(!0),v(f,{key:1},k(y(l),((e,a)=>(d(),T(r,{key:a,"send-params":e,class:"mt20"},null,8,["send-params"])))),128)):(d(),T(o,{key:0,class:"marginAuto"}))],64)):(d(),T(n,{key:0})),y(l).length?(d(),v("div",{key:2,class:"Button-MatchMore mt20",onClick:w},F)):M("",!0)],64))],64)}}});const P={class:"home-page"},X=(e=>(S("data-v-27bc153e"),e=e(),H(),e))((()=>g("div",{class:"footerHeight"},null,-1)));var Y=l({setup(e){const s=j();return x((()=>{if(s.query.gidm){const e=JSON.parse(s.query.obj);a.dispatch("betting/setMoreShow",{status:!0,moreParams:e})}})),(e,a)=>(d(),v("div",P,[h(E,{ref:"refHotMatch"},null,512),h(L,{ref:"refGoodMatch"},null,512),h(G,{ref:"refLatestMatch"},null,512),X]))}});Y.__scopeId="data-v-27bc153e";export{Y as default};
