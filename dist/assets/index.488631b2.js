import{u as a,C as e,a0 as s,d as t,I as l,a1 as n}from"./index.18c6eb63.js";import{d as i,U as o,f as r,n as c,a as u,r as d,o as v,R as p,m as f,O as g,u as m,P as h,W as b,$ as y,F as k,S as x,c as _,Y as w,Z as $}from"./vue.23388646.js";const C={class:"notice"},T={class:"content"},D={key:0,class:"noData"},I=(a=>(w("data-v-7b8613e4"),a=a(),$(),a))((()=>h("img",{class:"img_1",src:n},null,-1))),L={key:1,class:"list"},M=["onClick"],j={style:{"-webkit-box-orient":"vertical"},class:"font_1"},A=["innerHTML"],E={class:"font_3"};var H=i({setup(n){const{t:i}=a(),w=o(),$=i("user.news"),H=r(!1),S=r(!1),U=c({arr:[]});u((async()=>{}));let q=0;const z=async()=>{q++;const a={page:q,pageSize:20},e=await s(a),l=e.data;if(200===e.code){let a=[];a=l.messages?l.messages:[],a.forEach((a=>{U.arr.push(a)})),H.value=!1,S.value=U.arr.length===l.totalCount}else t(e.msg),H.value=!1,S.value=!0},F=a=>{if("string"==typeof a){const e=a.match(/<img.*?>/g);return Array.isArray(e)&&e.forEach((e=>{const s=e.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(s,`${l}${s}`)})),a}return""},O=a=>{console.log(a,"单个删除====")};return(a,s)=>{const t=d("van-icon"),l=d("van-nav-bar"),n=d("van-swipe-cell"),i=d("van-list");return v(),p("div",C,[f(l,{class:"bg-title",title:m($)},{left:g((()=>[f(t,{name:"arrow-left",class:"img_1",onClick:s[0]||(s[0]=a=>{w.push({path:"/home"})})})])),_:1},8,["title"]),h("div",T,[!m(U).arr.length&&S.value?(v(),p("div",D,[I,h("p",null,b(a.$t("user.noData")),1)])):y("",!0),m(U).arr.length||!S.value?(v(),p("div",L,[f(i,{loading:H.value,"onUpdate:loading":s[1]||(s[1]=a=>H.value=a),finished:S.value,"finished-text":a.$t("live.noMore"),"loading-text":a.$t("user.loadingText"),onLoad:z},{default:g((()=>[(v(!0),p(k,null,x(m(U).arr,((s,t)=>(v(),_(n,{key:t,"before-close":O,class:"itemContent"},{default:g((()=>[h("div",{class:"cell",onClick:a=>(a=>{w.push({path:"/user/noticeDetail",query:{id:a.id}})})(s)},[h("p",j,b(s.title),1),h("div",{style:{"-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":"3","text-overflow":"ellipsis"},class:"font_2",innerHTML:F(s.content)},null,8,A),h("div",E,[h("span",null,b(a.$t("user.lookInfo")),1),h("span",null,b(m(e)(s.optTime)),1)])],8,M)])),_:2},1024)))),128))])),_:1},8,["loading","finished","finished-text","loading-text"])])):y("",!0)])])}}});H.__scopeId="data-v-7b8613e4";export{H as default};
