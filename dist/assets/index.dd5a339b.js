import{g as e,b as a,c as t}from"./index.ef7d38da.js";import{A as s,M as l,s as n}from"./index.82ee6083.js";import{s as o,b as i,r as c,E as r,o as d,S as u,P as v,x as p,F as b,_ as f,Z as m,u as h,V as g,q as y,B as I,c as w,X as k,Y as T,d as x,M as $,a as _,w as j,R as C,W as M,$ as E}from"./vue.7833d4f2.js";const A=e=>(e=>{const a=[];let t=-1,s=-1,l=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(s++,l=s,n=0,o=!1,t=c,a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n++]=1e3*e[i],0===t&&a[s][0]++):0===c?a[l][n-1]++:o||6===n||0!==a[s][n]?(o=!0,l++,1===n&&(s=l),a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n-1]=1e3*e[i]):a[s][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),D=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)},O={class:"content"},R={class:"table-cover"},z={style:{"object-fit":"contain"}},B={class:"table-road-list"},L={class:"good-bg"},U={class:"title-1"},P={class:"title-2"},S={class:"bottom"},V={class:"table-name"},X={class:"right"},F={class:"bet-money"},K={class:"number"};var N=o({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,n=["he","xian","zhuang","zhuang"],o=i((()=>{let e=A(t.tableInfo.wins);if(D(e)){const a=[];let t=0;e.forEach(((e,s)=>{0===s&&e[0]<1e3?t=e[0]:1===s&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const s=e[t];for(let e=0;e<s.length;e++){let l=s[e],o="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===l){a[t][e].push(o);continue}const i=document.createElement("div");let c=0;c=l<10?l:l>1e3?l%1e3:l%10,1===l&&(l=0);l=Math.floor(l/1e3)%10,3===l&&(l=2);const r=l%10;c?(c>1&&(i.innerText=`${c}`),o=`box ${n[r]} line`):o=`box ${n[r]}`,a[t][e].push(o)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),w=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},k=async()=>{const a=t.tableInfo.tableId;l({duration:2e4,message:"加载中..."});const s=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==s?void 0:s.code)){const e=s.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.host)}};return(e,t)=>{const l=c("SvgIcon"),n=r("img");return d(),u("div",{class:"table-info-component",onClick:k},[v("div",O,[v("div",R,[p(v("img",z,null,512),[[n,a.tableInfo.tableCover]])]),v("div",B,[(d(!0),u(b,null,f(h(o),((e,a)=>(d(),u("div",{class:"road-col",key:a},[(d(!0),u(b,null,f(e,((e,a)=>(d(),u("div",{class:"road-item",key:a},[v("span",{class:m(["round",e])},null,2)])))),128))])))),128))]),v("div",L,[v("div",U,g(w(a.tableInfo.goodRoadTitle).str1),1),v("div",P,"x"+g(w(a.tableInfo.goodRoadTitle).str2),1)])]),v("div",S,[v("span",V,g(a.tableInfo.tableName),1),v("div",X,[v("div",F,[y(s,{"class-name":"mr3 fs24"}),I(" "+g(a.tableInfo.tableLimitMin),1)]),v("div",K,[y(l,{name:"home-users",class:"users-icon"}),I(" "+g(a.tableInfo.tablePlayers),1)])])])])}}});N.__scopeId="data-v-6bebe9a2";const q={class:"good-road-view"},W=(e=>(k("data-v-b4ca94a8"),e=e(),T(),e))((()=>v("div",{class:"title"},"好路推荐",-1))),Y={key:0,class:"list"};var Z=o({props:{list:{type:Object,default:()=>{}}},setup:e=>(a,t)=>{const s=c("EmptyData");return d(),u("section",q,[W,e.list.length?(d(),u("div",Y,[(d(!0),u(b,null,f(e.list,((e,a)=>(d(),w(N,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(d(),w(s,{key:1}))])}});Z.__scopeId="data-v-b4ca94a8";const G={class:"table-cover"},H={style:{"object-fit":"contain"}},J={class:"table-road-list"},Q={class:"table-name"},ee={class:"bottom"},ae={class:"bet-money"},te={class:"number"};var se=o({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,n=["he","xian","zhuang","zhuang"],o=i((()=>{let e=A(t.tableInfo.wins);if(D(e)){const a=[];let t=0;e.forEach(((e,s)=>{0===s&&e[0]<1e3?t=e[0]:1===s&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];for(let t=0;t<e.length;t++){const s=e[t];for(let e=0;e<s.length;e++){let l=s[e],o="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===l){a[t][e].push(o);continue}const i=document.createElement("div");let c=0;c=l<10?l:l>1e3?l%1e3:l%10,1===l&&(l=0);l=Math.floor(l/1e3)%10,3===l&&(l=2);const r=l%10;c?(c>1&&(i.innerText=`${c}`),o=`box ${n[r]} line`):o=`box ${n[r]}`,a[t][e].push(o)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),w=async()=>{const a=t.tableInfo.tableId;l({duration:2e4,message:"加载中..."});const s=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==s?void 0:s.code)){const e=s.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.host)}};return(e,t)=>{const l=c("SvgIcon"),n=r("img");return d(),u("div",{class:"table-info-component",onClick:w},[v("div",G,[p(v("img",H,null,512),[[n,a.tableInfo.tableCover]])]),v("div",J,[(d(!0),u(b,null,f(h(o),((e,a)=>(d(),u("div",{class:"road-col",key:a},[(d(!0),u(b,null,f(e,((e,a)=>(d(),u("div",{class:"road-item",key:a},[v("span",{class:m(["round",e])},null,2)])))),128))])))),128))]),v("div",Q,g(a.tableInfo.tableName),1),v("div",ee,[v("span",ae,[y(s,{"class-name":"mr3 fs24"}),I(" "+g(a.tableInfo.tableLimitMin),1)]),v("span",te,[y(l,{name:"home-users",class:"users-icon"}),I(" "+g(a.tableInfo.tablePlayers),1)])])])}}});se.__scopeId="data-v-31747b93";const le={class:"good-road-view"},ne=(e=>(k("data-v-984e44c8"),e=e(),T(),e))((()=>v("div",{class:"title"},"真人百家乐",-1))),oe={key:0,class:"list"};var ie=o({props:{list:{type:Object,default:()=>{}}},setup:e=>(a,t)=>{const s=c("EmptyData");return d(),u("section",le,[ne,e.list.length?(d(),u("div",oe,[(d(!0),u(b,null,f(e.list,((e,a)=>(d(),w(se,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(d(),w(s,{key:1}))])}});ie.__scopeId="data-v-984e44c8";const ce={key:0,class:"maintenance-view"},re=(e=>(k("data-v-14d82f51"),e=e(),T(),e))((()=>v("div",{class:"maintenance-title"},"赌场维护中...",-1))),de={key:0,class:"maintenance-subtitle"},ue={key:1,class:"maintenance-timer"};var ve=o({setup(e){const s=i((()=>n.state.app.showFixedBet)),l=i((()=>n.state.app.theme)),o=i((()=>"blue"===l.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),c=x(!1),r=x(!1),p=x({}),f=x([]),I=x([]),w=x(),k=x("");$((()=>{T(),A()})),_((()=>{clearInterval(w.value)})),clearInterval(w.value),w.value=setInterval((()=>{T(),A()}),1e4);const T=async()=>{const e=await a(),t=(null==e?void 0:e.data)||[];f.value=t.slice(0,2)},A=async()=>{var e,a,s;const l=await t();503===(null==(e=null==l?void 0:l.data)?void 0:e.code)?(c.value=!0,p.value=null==(a=null==l?void 0:l.data)?void 0:a.data):c.value=!1,I.value=(null==(s=null==l?void 0:l.data)?void 0:s.data)||[]};j((()=>c.value),(()=>{c.value&&D()}));const D=()=>{const e=p.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return r.value=!1,!1;r.value=!0;const t=a-(new Date).getTime();let s,l,n;t>=0&&(s=Math.floor(t/1e3/60/60),l=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),s=s<10?"0"+s:s,l=l<10?"0"+l:l,n=n<10?"0"+n:n,k.value=`${s}:${l}:${n}`,setTimeout(D,1e3))},O=C(),R=()=>{O.push("/home")};return(e,a)=>(d(),u("div",{class:m(["casino-page",{"has-bet":h(s)}])},[c.value?(d(),u("div",ce,[v("div",{class:"maintenance-icon",style:M({backgroundImage:`url(${h(o)})`})},null,4),re,r.value?(d(),u("div",de,"预计维护倒计时")):E("",!0),r.value?(d(),u("div",ue,g(k.value),1)):E("",!0),v("div",{class:"go-btn",onClick:R},"去首页")])):(d(),u(b,{key:1},[y(Z,{list:f.value},null,8,["list"]),y(ie,{list:I.value},null,8,["list"])],64))],2))}});ve.__scopeId="data-v-14d82f51";export{ve as default};
