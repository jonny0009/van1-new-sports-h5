import{u as e,s as a,I as l,z as t,r as s}from"./index.0b71fcee.js";import{u as i}from"./useMatch.14b7715e.js";import{s as n,a as o}from"./s_hot2.bba3cb3a.js";import{s as v,b as m,d as c,r as u,E as r,o as d,S as p,P as g,q as h,O as f,u as y,X as b,a0 as _,c as T,x as k,M as w,e as B,F as I,U as x,$ as R,Z as M,_ as N}from"./vue.d0f5f7c0.js";import{a as F,g as S,n as j}from"./index.2b5beb23.js";import"./getScore.a5f5a985.js";const L={class:"item"},C={class:"item-photo"},H=["src"],$={key:0,class:"state"},E={class:"footer"},D=["innerHTML"],V={key:1},z={key:1,class:"mask-reseve"},K={class:"item-title"},O={class:"item-team"},U={class:"cell"},A={class:"head"},P={type:4,alt:""},q={class:"score"},X={class:"cell"},Z={class:"head"},G={type:5,alt:""},J={class:"score"},Q={class:"item-desc"},W={class:"name"},Y={class:"hots"},ee=["src"];var ae=v({props:{item:{type:Object,default:()=>{}}},setup(s){const v=s,{t:w}=e(),B=m((()=>a.state.app.theme)),I=m((()=>"blue"==B.value?n:o)),x=c(l),R=i(),M=m((()=>{var e;return null==(e=v.item)?void 0:e.gameInfo})),N=m((()=>{const e=v.item;return e.anchorId?l+e.cover:"BK"==e.gameType?l+"FE/common/live/img_video_bg_BK.jpg":l+"FE/common/live/img_video_bg_FT.jpg"})),F=m((()=>{const e=v.item.watchTotal.toLocaleString();return"RB"==v.item.showType?w("live.xLooks",{num:e}):w("live.xReserve",{num:e})})),S=m((()=>({FT:"live-football",BK:"live-basketball",TN:"live-tennisball",OP_BM:"live-badminton"}[v.item.gameType])));return(e,a)=>{const l=u("van-image"),i=u("SvgIcon"),n=r("img");return d(),p("div",L,[g("div",C,[h(l,{src:y(N),fit:"cover"},{error:f((()=>[g("img",{src:x.value+"FE/common/live/img_video_bg_FT.jpg",alt:""},null,8,H)])),_:1},8,["src"]),"RB"==s.item.showType?(d(),p("div",$,b(e.$t("live.hotNow")),1)):_("",!0),g("div",E,["RB"==s.item.showType?(d(),p("span",{key:0,innerHTML:y(R).showRBTime(s.item)},null,8,D)):(d(),p("span",V,b(y(t)(s.item.gameDate,"MM-DD HH:mm")),1))]),"RB"!=s.item.showType?(d(),p("div",z,[g("span",null,b(e.$t("live.xHas",{num:y(F)})),1),g("span",null,b(e.$t("live.playNow")),1)])):_("",!0)]),g("div",K,[y(S)?(d(),T(i,{key:0,name:y(S)},null,8,["name"])):_("",!0),g("strong",null,b(s.item.leagueName),1)]),g("div",O,[g("div",U,[g("div",A,[k(g("img",P,null,512),[[n,s.item.homeLogo]]),g("span",null,b(s.item.homeTeam),1)]),g("div",q,[g("span",null,b(y(M).sc_game_H||y(M).sc_FT_H),1)])]),g("div",X,[g("div",Z,[k(g("img",G,null,512),[[n,s.item.awayLogo]]),g("span",null,b(s.item.awayTeam),1)]),g("div",J,[g("span",null,b(y(M).sc_game_A||y(M).sc_FT_C||y(M).sc_FT_A),1)])])]),g("div",Q,[g("div",W,b(s.item.nickname||s.item.leagueShortName),1),g("div",Y,[g("img",{src:y(I),alt:""},null,8,ee),g("span",null,b(v.item.watchTotal.toLocaleString()),1)])])])}}});ae.__scopeId="data-v-075ee586";const le={class:"tab-title"},te={class:"title-group"},se={class:"title"},ie={key:0,class:"next"},ne=(e=>(M("data-v-1d257cea"),e=e(),N(),e))((()=>g("div",{class:"img"},[g("img",{src:"/assets/no_an_ma.134981fa.png",alt:""})],-1))),oe=["innerHTML"],ve={class:"grid-wrapper"},me={class:"title-group"},ce={class:"title"},ue={class:"grid-wrapper"},re={class:"title-group"},de={class:"title"},pe={class:"list-group"},ge=["onClick"],he=["errorImg"],fe={class:"video-user-info"},ye={type:"1",alt:""},be={class:"name text-overflow"},_e={class:"video-content text-overflow-2"};var Te=v({setup(l){w((()=>{D(),P(),U()}));const t=m((()=>a.state.app.showFixedBet)),{t:i}=e(),n=B([{type:"RB",title:i("live.hot"),iconName:"live-hot"},{type:"FT",title:i("live.football"),iconName:"live-football"},{type:"BK",title:i("live.basketball"),iconName:"live-basketball"},{type:"TN",title:i("live.tennisball"),iconName:"live-tennisball"},{type:"OP_BM",title:i("live.badminton"),iconName:"live-badminton"}]),o=c("RB"),v=c(-1),M=c("");let N=B({}),L=0;const C=c([]),H=c(!1),$=c(!1),E=c(!1),D=()=>{L=0,$.value=!1,(async()=>{if(E.value&&(C.value=[],E.value=!1),v.value>0&&"RB"===o.value)return void(H.value=!1);L++;const e={page:L,pageSize:4};"RB"===o.value?e.rbType=1:e.gameType=o.value;const a=await F(e),l=a.data;if(H.value=!1,200===a.code){if("RB"===o.value&&0===l.list.length){$.value=!0;const e=await j();return 200===e.code&&e.data&&e.data>e.systemTime?(v.value=e.data-e.systemTime,void(N=setInterval((()=>{v.value-=1e3,0===v.value&&clearInterval(N),K()}),1e3))):void 0}l.list.forEach((e=>{C.value.push(e)})),$.value=C.value.length===l.total}else $.value=!0})(),P(),U()},V=()=>{E.value=!0,D()},z=e=>{s.push(`/match/${e.gidm}`),a.dispatch("app/setMatchLiveIndex",1)},K=()=>{if(v.value<0)return clearInterval(N),void D();function e(e){return e<10?"0"+e:e}const a=Math.round(v.value/1e3);let l=parseInt(""+a/3600%24),t=parseInt(""+a/60%60),s=a%60;l=e(l),t=e(t),s=e(s),M.value=l+":"+t+":"+s},O=c([]),U=async()=>{var e;const a=await F({page:1,pageSize:2,rbType:2}),l=(null==(e=null==a?void 0:a.data)?void 0:e.list)||[];200===a.code&&l.length&&(O.value=l)},A=c([]),P=async()=>{var e;const a=await S({page:1,pageSize:4}),l=(null==(e=null==a?void 0:a.data)?void 0:e.videoData)||[];200===a.code&&l.length&&(A.value=l)};return(e,a)=>{const l=u("SvgIcon"),i=u("EmptyData"),m=u("van-list"),c=u("van-tab"),w=u("van-tabs"),B=u("van-pull-refresh"),N=r("img");return d(),p("div",{class:R(["live-page",{"has-bet":y(t)}])},[h(B,{modelValue:E.value,"onUpdate:modelValue":a[2]||(a[2]=e=>E.value=e),onRefresh:D},{default:f((()=>[h(w,{active:o.value,"onUpdate:active":a[1]||(a[1]=e=>o.value=e),swipeable:"",sticky:"",shrink:"",border:!1,"offset-top":"12.8vw","line-height":"0",onChange:V},{default:f((()=>[(d(!0),p(I,null,x(y(n),((t,s)=>(d(),T(c,{key:s,name:t.type},{title:f((()=>[g("div",le,[h(l,{name:t.iconName},null,8,["name"]),g("span",null,b(t.title),1)])])),default:f((()=>[g("div",te,[h(l,{class:"first-icon",name:"home-hot-match"}),g("span",se,b(e.$t("home.hotMatchTitle")),1),h(l,{class:"title-icon",name:"home-triangle"})]),0===C.value.length&&v.value>0&&"RB"===o.value?(d(),p("div",ie,[ne,g("p",{innerHTML:e.$t("live.nextAM",{num:M.value})},null,8,oe)])):_("",!0),g("div",null,[$.value&&0===C.value.length&&"RB"!==o.value||0===C.value.length&&v.value<0&&"RB"===o.value&&$.value?(d(),T(i,{key:0})):_("",!0),h(m,{loading:H.value,"onUpdate:loading":a[0]||(a[0]=e=>H.value=e),finished:!0},{default:f((()=>[g("div",ve,[(d(!0),p(I,null,x(C.value,(e=>(d(),p("div",{key:e.gidm,class:"flex-item"},[h(ae,{item:e,onClick:a=>z(e)},null,8,["item","onClick"])])))),128))])])),_:1},8,["loading"])])])),_:2},1032,["name"])))),128))])),_:1},8,["active"]),O.value.length?(d(),p(I,{key:0},[g("div",me,[h(l,{class:"first-icon",name:"home-coming"}),g("span",ce,b(e.$t("home.comingSoonTitle")),1),h(l,{class:"title-icon",name:"home-triangle"})]),g("div",ue,[(d(!0),p(I,null,x(O.value,(e=>(d(),p("div",{key:e.gidm,class:"flex-item"},[h(ae,{item:e,onClick:a=>z(e)},null,8,["item","onClick"])])))),128))])],64)):_("",!0),g("div",re,[h(l,{class:"first-icon",name:"home-short-video"}),g("span",de,b(e.$t("home.shortVideoTitle")),1),h(l,{class:"title-icon",name:"home-triangle"})]),g("div",pe,[(d(!0),p(I,null,x(A.value,((e,a)=>(d(),p("div",{class:"group-item-box",key:a,onClick:a=>(e=>{s.push({name:"ShortVideo",params:{videoId:e.videoId}})})(e)},[k(g("img",{class:"bg",errorImg:y("/assets/live-bg-error.d3afd559.svg"),type:"1",alt:""},null,8,he),[[N,e.videoImg]]),g("div",fe,[k(g("img",ye,null,512),[[N,e.leagueIcon]]),g("span",be,b(e.leagueName||e.leagueNameCn),1)]),g("div",_e,b(e.videoTitle),1)],8,ge)))),128))])])),_:1},8,["modelValue"])],2)}}});Te.__scopeId="data-v-1d257cea";export{Te as default};
