const a={};import{h as s}from"./head-img.2b5edb0e.js";import{d as e,b as l,a as c,f as i,r as t,o as n,u,m as r,p as o,q as v,D as d,F as m,E as g,O as f,A as p}from"./vue.3b4f9705.js";import{p as k,u as y}from"./index.19388678.js";import{d as _,I as b,s as h}from"./index.e96292d5.js";const I={class:"editName"},$={class:"title"},C={class:"area-btn_1"},j={class:"content"},x={key:0,class:"img-style"},w={key:1,class:"img-style"},E={key:2,class:"img-style"};var F=e({setup(e){const F=p(),N=l((()=>h.state.user.userInfo)),q=c(1),A=c(s),D=c(""),L=c("编辑头像"),O=(s,e)=>1===e?`${b}${`/FE/common/head/${s}_s_248x248.jpg`}`:2===e?new URL(`../../assets/images/user/else/${s}.png`,a.url).href:void 0;i((()=>{P()}));const P=async()=>{const a={fPlayerId:N.value.playerId},s=await k(a);if(200!==s.code)return _(s.msg);D.value=s.data.headImg||"",R(D.value)},R=a=>{a&&(A.value=`${b}${a}`)};return(a,s)=>{const e=t("van-nav-bar"),l=t("van-image");return n(),u("div",I,[r(e,{class:"bg-title",title:L.value,border:!1},{left:o((()=>[v("span",{onClick:s[0]||(s[0]=a=>{F.back()})},"取消")])),right:o((()=>[v("span",{onClick:s[1]||(s[1]=a=>(async()=>{const a={headImg:D.value,nickName:N.value.nickName,lang:localStorage.getItem("locale")},s=await y(a);if(200!==s.code)return _(s.msg);_("编辑成功"),h.dispatch("user/userInfo"),F.push("/user/userInfo")})())},"保存")])),_:1},8,["title"]),v("div",$,[r(l,{class:"img_1",fit:"contain",src:A.value},null,8,["src"])]),v("div",C,[v("span",{class:d(1==q.value?"active":""),onClick:s[2]||(s[2]=a=>q.value=1)},"足球明星",2),v("span",{class:d(2==q.value?"active":""),onClick:s[3]||(s[3]=a=>q.value=2)},"其他人物",2),v("span",{class:d(3==q.value?"active":""),onClick:s[4]||(s[4]=a=>q.value=3)},"背景颜色",2)]),v("div",j,[1===q.value?(n(),u("div",x,[(n(),u(m,null,g(48,(a=>v("div",{key:a,class:"select-img"},[r(l,{class:"img_1",fit:"contain",src:O(a,q.value),onClick:s=>{return e=a,D.value=`/FE/common/head/${e}_s_248x248.jpg`,void R(D.value);var e}},null,8,["src","onClick"])]))),64))])):f("",!0),2===q.value?(n(),u("div",w,[(n(),u(m,null,g(16,(a=>v("div",{key:a,class:"select-img"},[r(l,{class:"img_1",fit:"contain",src:O(a,q.value)},null,8,["src"])]))),64))])):f("",!0),3===q.value?(n(),u("div",E,[(n(),u(m,null,g(16,(a=>v("div",{key:a,class:"select-img"},[v("div",{class:d(["img_2",[`background-${a}`]])},null,2)]))),64))])):f("",!0)])])}}});F.__scopeId="data-v-5fcc96f6";export{F as default};
