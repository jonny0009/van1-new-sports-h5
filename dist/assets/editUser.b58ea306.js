import{_ as a}from"./edit.79b297c6.js";import{_ as s}from"./pitch.1c8ceb67.js";import{s as e,b as l,d as c,j as i,r as t,o as r,R as o,q as d,O as n,P as u,B as v,V as p,W as m,X as f}from"./vue.85a22cc6.js";import{D as g,d as y,s as h,F as k,G as I,I as _,C as b}from"./index.4fb7c56f.js";const x=a=>(m("data-v-61c1d181"),a=a(),f(),a),C={class:"editUser"},w={class:"content"},j={class:"head"},V=["src"],N={class:"edit-name"},P=x((()=>u("span",null,"编辑昵称",-1))),U=x((()=>u("p",{class:"explain"},"个人简介",-1))),$={class:"explain-box"},q=x((()=>u("p",{class:"explain privacy"},"隐私设置",-1))),z={class:"account-1"},B={class:"top-1"},D={key:0,class:"img_1",src:s,alt:""},F=v(" 公开帐户（推荐） "),G=x((()=>u("div",{class:"top-2"}," 其他用户可以直接关注你，查看你的档案和注单。你还是可以隐藏具体的注单。这是默认设置。 ",-1))),O={class:"account-1"},R={class:"top-1"},W={key:0,class:"img_1",src:s,alt:""},X=v(" 私密帐户 "),A=x((()=>u("div",{class:"top-2"}," 其他用户只有在你接受他们的关注请求时才能看到你的档案和注单。你在平台的体验会比较私密。 ",-1)));var E=e({setup(s){const e=l((()=>h.state.user.userInfo)),v=p(),m=c(""),f=c(0),x=c({}),E=a=>{v.push("/user"+a)},H=async a=>{if(f.value===a)return;f.value=a;const s={privacy:f.value},e=await I(s);if(200!==e.code)return y(e.msg);y("编辑成功")},J=c("编辑档案");i((()=>{K()}));const K=async()=>{const a={fPlayerId:e.value.playerId},s=await g(a);if(200!==s.code)return y(s.msg);m.value=s.data.profiles,f.value=s.data.privacy,x.value=s.data};return(s,e)=>{const l=t("van-nav-bar"),c=t("van-field");return r(),o("div",C,[d(l,{class:"bg-title",title:J.value,border:!1},{left:n((()=>[u("span",{onClick:e[0]||(e[0]=a=>{v.push("/user/userInfo")})},"取消")])),right:n((()=>[u("span",{onClick:e[1]||(e[1]=a=>(async()=>{const a={nickName:"",headImg:"",profiles:m.value},s=await k(a);if(200!==s.code)return y(s.msg);y("编辑成功"),h.dispatch("user/userInfo"),v.push("/user/userInfo")})())},"保存")])),_:1},8,["title"]),u("div",w,[u("div",j,[u("img",{class:"img_1",src:(i=x.value.headImg,i?`${_}${i}`:b),alt:""},null,8,V),u("div",{class:"edit",onClick:e[2]||(e[2]=a=>E("/editImg"))},"编辑")]),u("div",N,[P,u("img",{class:"img_1",src:a,alt:"",onClick:e[3]||(e[3]=a=>E("/editName"))})]),U,u("div",$,[d(c,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),rows:"10",autosize:"",type:"textarea",maxlength:"256","show-word-limit":""},null,8,["modelValue"])]),q,u("div",z,[u("div",B,[0===f.value?(r(),o("img",D)):(r(),o("div",{key:1,class:"round",onClick:e[5]||(e[5]=a=>H(0))})),F]),G]),u("div",O,[u("div",R,[1===f.value?(r(),o("img",W)):(r(),o("div",{key:1,class:"round",onClick:e[6]||(e[6]=a=>H(1))})),X]),A])])]);var i}}});E.__scopeId="data-v-61c1d181";export{E as default};
