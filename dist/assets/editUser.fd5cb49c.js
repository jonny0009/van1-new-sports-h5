import{_ as s}from"./edit.e9e1a670.js";import{_ as a}from"./pitch.1af7f81e.js";import{s as e,b as t,d as l,j as i,r,o as c,R as u,q as n,O as o,P as d,S as v,B as p,V as m}from"./vue.e791136f.js";import{E as f,d as g,s as y,G as k,H as $,I as h,D as I}from"./index.3fdc477b.js";const x={class:"editUser"},_={class:"content"},b={class:"head"},w=["src"],C={class:"edit-name"},P={class:"explain"},j={class:"explain-box"},V={class:"explain privacy"},N={class:"account-1"},A={class:"top-1"},E={key:0,class:"img_1",src:a,alt:""},S={class:"top-2"},U={class:"account-1"},q={class:"top-1"},z={key:0,class:"img_1",src:a,alt:""},B={class:"top-2"};var D=e({setup(a){const e=t((()=>y.state.user.userInfo)),D=m(),G=l(""),H=l(0),O=l({}),R=s=>{D.push("/user"+s)},T=async s=>{if(H.value===s)return;H.value=s;const a={privacy:H.value},e=await $(a);if(200!==e.code)return g(e.msg);g("编辑成功")},F=l("编辑档案");i((()=>{J()}));const J=async()=>{const s={fPlayerId:e.value.playerId},a=await f(s);if(200!==a.code)return g(a.msg);G.value=a.data.profiles,H.value=a.data.privacy,O.value=a.data};return(a,e)=>{const t=r("van-nav-bar"),l=r("van-field");return c(),u("div",x,[n(t,{class:"bg-title",title:F.value,border:!1},{left:o((()=>[d("span",{onClick:e[0]||(e[0]=s=>{D.push("/user/userInfo")})},v(a.$t("user.cancellation")),1)])),right:o((()=>[d("span",{onClick:e[1]||(e[1]=s=>(async()=>{const s={nickName:"",headImg:"",profiles:G.value},a=await k(s);if(200!==a.code)return g(a.msg);g("编辑成功"),y.dispatch("user/userInfo"),D.push("/user/userInfo")})())},v(a.$t("user.save")),1)])),_:1},8,["title"]),d("div",_,[d("div",b,[d("img",{class:"img_1",src:(i=O.value.headImg,i?`${h}${i}`:I),alt:""},null,8,w),d("div",{class:"edit",onClick:e[2]||(e[2]=s=>R("/editImg"))},v(a.$t("user.editText")),1)]),d("div",C,[d("span",null,v(a.$t("user.EditNickname")),1),d("img",{class:"img_1",src:s,alt:"",onClick:e[3]||(e[3]=s=>R("/editName"))})]),d("p",P,v(a.$t("user.Personal")),1),d("div",j,[n(l,{modelValue:G.value,"onUpdate:modelValue":e[4]||(e[4]=s=>G.value=s),rows:"10",autosize:"",type:"textarea",maxlength:"256","show-word-limit":""},null,8,["modelValue"])]),d("p",V,v(a.$t("user.PrivacySettings")),1),d("div",N,[d("div",A,[0===H.value?(c(),u("img",E)):(c(),u("div",{key:1,class:"round",onClick:e[5]||(e[5]=s=>T(0))})),p(" "+v(a.$t("user.PublicAccount")),1)]),d("div",S,v(a.$t("user.font2")),1)]),d("div",U,[d("div",q,[1===H.value?(c(),u("img",z)):(c(),u("div",{key:1,class:"round",onClick:e[6]||(e[6]=s=>T(1))})),p(" "+v(a.$t("user.PrivateAccount")),1)]),d("div",B,v(a.$t("user.font3")),1)])])]);var i}}});D.__scopeId="data-v-099b489a";export{D as default};
