import{_ as s}from"./index.061b9c70.js";import{ad as e,ae as a,af as t,s as c,ag as n,ah as o}from"./index.48a0a403.js";import{s as r,d as i,r as l,E as m,o as u,R as _,P as d,q as v,S as p,x as h,u as g,O as f,a1 as H,B as A,M as b,g as $,h as w,f as T,b as y,w as P,F as x,Z as O,c as S,W as N,X as I}from"./vue.85a22cc6.js";import{a as J,b as k}from"./index.884ad8e0.js";const j=s=>{const e=s.se_now?+s.se_now.replace(/[^0-9]/gi,""):0;let a,t;s.sc_adv?"40"===s.sc_game_A&&"40"===s.sc_game_H?"0"===s.sc_adv?(a="A",t=+s.sc_game_H):"1"===s.sc_adv?(t="A",a=s.sc_game_A):(a=s.sc_game_A,t=s.sc_game_H):(a=s.sc_game_A,t=s.sc_game_H):"Adv"===s.sc_game_A||"A"===s.sc_game_A?(a="A",t=s.sc_game_H):"Adv"===s.sc_game_H||"A"===s.sc_game_H?(t="A",a=s.sc_game_A):(a=s.sc_game_A,t=s.sc_game_H);const c=s&&s.sc_iwd&&s.sc_iwd.trim()?JSON.parse(s.sc_iwd):"",n={sc1stA:s?+s.sc_1st_A:0,sc1stH:s?+s.sc_1st_H:0,sc2stA:s?+s.sc_2nd_A:0,sc2stH:s?+s.sc_2nd_H:0,sc3stA:s?+s.sc_3th_A:0,sc3stH:s?+s.sc_3th_H:0,sc4stA:s?+s.sc_4th_A:0,sc4stH:s?+s.sc_4th_H:0,sc5stA:s?+s.sc_5th_A:0,sc5stH:s?+s.sc_5th_H:0};let o={};const r=[];let i=1,l={scoreA:0,scoreH:0},m={};for(let A=1;A<5;A++){const s=B(A,n,l);if(r.push(s.scoreObj),!s.hasNext){i=A,l=s.scorePan,m=s.scoreJu;break}5===A&&(i=A,l=s.scorePan,m=s.scoreJu)}let u="",_="",d="",v="",p="",h="";const g=(""+(t||a?t+":"+a:"")).split(":"),f=g[0],H=g[1];return e?(u=`第${e}盘${n[`sc${e}stH`]}:${n[`sc${e}stA`]}(${t||a?(t||0)+":"+(a||0):""})`,_=`第${e}盘`,d=`${n[`sc${e}stH`]||0}:${n[`sc${e}stA`]||0}`,v=`(${t||a?(t||0)+":"+(a||0):""})`,p=n[`sc${e}stH`]||0,h=n[`sc${e}stA`]||0):i&&(u=`第${i}盘${n[`sc${i}stH`]||0}:${n[`sc${i}stA`]||0}(${t||a?(t||0)+":"+(a||0):""})`,_=`第${i}盘`,d=`${n[`sc${i}stH`]||0}:${n[`sc${i}stA`]||0}`,p=n[`sc${i}stH`]||0,h=n[`sc${i}stA`]||0,v=`(${t||a?(t||0)+":"+(a||0):""})`),o={scoreArr:r,currPanNum:i,sciwd:c,senow:e>0?e:i,showText:u,scorePan:l,scoreJu:m,score1:d,score2:v,score1Home:p,score1Away:h,score2Home:f,score2Away:H,panNum:_},o},B=(s,e,a)=>{const t={hasNext:!1},c=`sc${s}stA`,n=`sc${s}stH`,o=e[c],r=e[n];return o>=7||r>=7?t.hasNext=!0:6!==o&&6!==r||Math.abs(o-r)>=2&&(t.hasNext=!0),t.hasNext&&(o>r?a.scoreA+=1:a.scoreH+=1),t.scoreObj={[c]:o,[n]:r},t.scoreJu={scoreA:o,scoreH:r},t.scorePan=a,t},R=(s,e=5)=>{var a;if(!s)return"";const t={sc1stA:1*s.sc_1st_A||0,sc1stH:1*s.sc_1st_H||0,sc2stA:1*s.sc_2nd_A||0,sc2stH:1*s.sc_2nd_H||0,sc3stA:1*s.sc_3th_A||0,sc3stH:1*s.sc_3th_H||0,sc4stA:1*s.sc_4th_A||0,sc4stH:1*s.sc_4th_H||0,sc5stA:1*s.sc_5th_A||0,sc5stH:1*s.sc_5th_H||0,sc6stA:1*s.sc_6th_A||0,sc6stH:1*s.sc_6th_H||0,sc7stA:1*s.sc_7th_A||0,sc7stH:1*s.sc_7th_H||0,sc8stA:1*s.sc_8th_A||0,sc8stH:1*s.sc_8th_H||0,sc9stA:1*s.sc_9th_A||0,sc9stH:1*s.sc_9th_H||0,sc10stA:1*s.sc_10th_A||0,sc10stH:1*s.sc_10th_H||0};let c={};const n=[];let o=1;const r={scoreA:0,scoreH:0};let i={};for(let l=1;l<e+1;l++){const s=F(l,t,r);n.push(s.scoreObj),o=l,r.scoreA+=s.scoreJu.scoreA,r.scoreH+=s.scoreJu.scoreH,r.num=s.scorePan.num,(s.scoreJu.scoreA||s.scoreJu.scoreH)&&(i=s.scoreJu)}return r.num=(null==(a=s.se_now)?void 0:a.replace(/[^0-9]/gi,""))||null,s.inningNum&&"0"!==s.inningNum&&(r.num=s.inningNum),c={scoreArr:n,currPanNum:o,showText:`第${r.num}局 (${r.scoreH} : ${r.scoreA})`,scorePan:r,scoreJu:i},c},F=(s,e,a)=>{const t={},c=`sc${s}stA`,n=`sc${s}stH`,o=1*e[c],r=1*e[n];return t.scoreJu={},o>0||r>0?(t.hasNext=!0,a.num=s,t.scoreJu={scoreA:o,scoreH:r}):(a.num||(a.num=1),t.scoreJu.scoreA||(t.scoreJu={scoreA:o,scoreH:r})),t.scoreObj={[c]:o,[n]:r},t.scorePan=a,t},M=s=>{const e={};return e.se_now=s.se_now&&"0"!==s.se_now?s.se_now.replace(/[^0-9]/gi,""):"",e.sc_half=s.sc_half?+s.sc_half?"下":"上":"",e.score=R(s,9).scorePan,e.sc_ot=s.sc_ot?+s.sc_ot:"",e.sc_fb=s.sc_fb?JSON.parse(s.sc_fb):"",e.sc_sb=s.sc_sb?JSON.parse(s.sc_sb):"",e.sc_tb=s.sc_tb?JSON.parse(s.sc_tb):"",e},L=(s,e="H")=>{if((null==s?void 0:s.gameInfo)&&("RB"===(null==s?void 0:s.showtype)||"RB"===(null==s?void 0:s.showType))){let a,t;if("TN"===(null==s?void 0:s.gameType)){const a=j(null==s?void 0:s.gameInfo);return"H"===e?a.scorePan.scoreH||"0":a.scorePan.scoreA||"0"}if("BS"===s.gameType&&s.gidm.indexOf("ib")>-1){const a=M(s.gameInfo);return"H"===e?a.score.scoreH||"0":a.score.scoreA||"0"}return"FT"===s.gameType&&s.gidm.indexOf("ib")>-1&&s.homeTeamSuffix&&s.gameScene&&s.gameScene.scene&&s.gameScene.scene.score&&s.gameScene.scene.score.fullScore?"H"===e?s.gameScene.scene.score.fullScore.team1||"0":s.gameScene.scene.score.fullScore.team2||"0":"H"===e?((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(a=s.gameInfo.sc_FT_H||0),a||"0"):((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(t=s.gameInfo.sc_FT_A||s.gameInfo.sc_FT_C||0),t||"0")}},C={class:"homeMatchHandicap"},E={class:"home-tabs-play"},q={class:"home-match"},Q={class:"up-match-group__body"},D={class:"up-match"},K={class:"match-info-live__header border-bottom"},U={class:"up-match-league"},V={class:"text"},X={class:"flex-cross-center"},z={class:"up-match-time"},W=["innerHTML"],Y={class:"up-match-score border-bottom"},Z={class:"item mb5"},G={type:4,class:"my-image img",style:{"object-fit":"contain"},alt:""},ss={class:"name"},es={class:"container"},as={class:"value"},ts={class:"item"},cs={class:"my-image img",type:5,style:{"object-fit":"contain"},alt:""},ns={class:"name"},os={class:"container"},rs={class:"value"},is={class:"up-match__body"},ls={key:0,class:"match-betting-item"},ms={class:"match-betting-item__title"},us={class:"flex-cross-center"},_s=A(" 全场 亚洲让分盘 "),ds=d("div",{class:"popover-text"},"全场让分盘",-1),vs={class:"match-betting-item__content"},ps={class:"betting-select"},hs={class:"betting-select__list"},gs={key:1,class:"match-betting-item"},fs=d("div",{class:"match-betting-item__title"},[d("div",{class:"flex-cross-center"}," 全场 大小盘 ")],-1),Hs={class:"match-betting-item__content"},As={class:"betting-select"},bs={class:"betting-select__list"},$s={key:2,class:"match-betting-item"},ws=d("div",{class:"match-betting-item__title"},[d("div",{class:"flex-cross-center"}," 全场 1X2 ")],-1),Ts={class:"match-betting-item__content"},ys={class:"betting-select"},Ps={class:"betting-select__list"},xs={class:"up-match__footer"},Os={class:"match-footer"},Ss=d("span",null,"更多玩法",-1),Ns=d("span",null,"投注动态",-1);var Is=r({props:{sendParams:{type:Object,default:function(){return{}}}},setup(s){const r=s,A=()=>{n({message:"投注动态即将推出",theme:"round-button"}).then((()=>{}))},b={0:"",Q1:"第一节",Q2:"第二节",Q3:"第三节",Q4:"第四节","1h":"第一节","2h":"第二节","3h":"第三节","4h":"第四节",OT:"加时赛",HT:"中场休息",H1:"上半场",H2:"下半场",q1:"第一节",q2:"第二节",q3:"第三节",q4:"第四节",ot:"加时赛",ht:"中场休息",h1:"上半场",h2:"下半场"},$=s=>b[s],w=i(""),T=(s={})=>{const{showtype:e,gameType:a,gameInfo:t,showType:c,homeTeamSuffix:n,gidm:r}=s,i=R(t,5),l=t&&t.se_now;if("RB"===e||"RB"===c){switch(a){case"FT":if(!t)return"进行中";if(((null==n?void 0:n.includes("点球"))||(null==n?void 0:n.includes("點球")))&&(t.raceType="dianqiu",t.teamSuffix="点球大战"),((null==n?void 0:n.includes("加时赛"))||(null==n?void 0:n.includes("加時賽")))&&(t.raceType="jiashi",t.teamSuffix="加时"),t.raceType){if("jiashi"===(null==t?void 0:t.raceType)&&("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time)))return"中场休息";if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return"暂停";if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[s,e]=t.re_time.split("^"),a="1H"===s?`上${e}`:`下${e}`;return`${t.teamSuffix}<span class='time-h-number'>${a}</span>`}}if("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time))return"中场休息";if((null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return"暂停";if((null==t?void 0:t.re_time)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[s,e]=t.re_time.split("^");let a="";if(e.indexOf("'")>-1){const[s]=e.split("'");a=`${s}<span class="time-h-dot">'</span>`}else a=e;return"1H"===s?`上半场<span class='time-h-Up'>${a}</span>`:`下半场<span class='time-h-d'>${a}</span>`}return(null==t?void 0:t.re_time)?t.re_time:"-:-";case"TN":if(t){const s=j(t);if(null==s?void 0:s.sciwd)return"暂停";const{panNum:e,score1:a,score2:c}=s;return`${e}<span>${a}${c}</span>`}return"进行中";case"BS":if(t){if(r&&r.indexOf("ic")>-1)return"进行中";const s=t?M(t):"";return`<span class="">第${t.inningNum?null==t?void 0:t.inningNum:s.se_now>0?s.se_now:s.score.num}局</span>`}return"进行中";case"BK":return"HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now)?"中场休息":(null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1?`加时<span>${o(1e3*w.value,"mm:ss")}</span>`:l&&w?`${$(null==t?void 0:t.se_now)}<span>${o(1e3*w.value,"mm:ss")}</span>`:!w.value&&l?`${$(t.se_now)}<span>00:00</span>`:"";case"BK_AFT":if(t){if("HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now))return"中场休息";if((null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1)return`加时 <span>${o(1e3*t.t_count,"mm:ss")}</span>`;const s=t&&t.se_now,e=t&&+t.t_count;return s&&e?`${$(t.se_now)}<span>${o(1e3*t.t_count,"mm:ss")}</span>`:""}return"进行中";case"OP_TN":if(t){return(null==t?void 0:t.se_now.replace(/[^0-9]/gi,""))||""}return"进行中";case"OP_VB":return i?`第${i.scorePan.num}局`:"";case"OP_DJ":case"OP_IH":return"进行中"}return"进行中"}return"进行中"},y=({leagueShortName:s,leagueName:e})=>s&&e?`${s||e}`:"";return(n,o)=>{const i=l("van-icon"),b=l("van-popover"),$=m("img");return u(),_("div",C,[d("div",E,[v(e,{"time-send-params":s.sendParams},null,8,["time-send-params"])]),d("div",q,[d("div",Q,[d("div",D,[d("div",K,[d("div",U,[d("div",V,p(y(s.sendParams)),1)]),d("div",X,[d("div",z,[d("div",{class:"up-match-time-html",innerHTML:T(s.sendParams)},null,8,W)])])]),d("div",Y,[d("div",Z,[h(d("img",G,null,512),[[$,s.sendParams.homeLogo]]),d("div",ss,p(s.sendParams.homeTeamAbbr||s.sendParams.homeTeam),1),d("div",es,[d("div",as,p(g(L)(s.sendParams,"H")),1)])]),d("div",ts,[h(d("img",cs,null,512),[[$,s.sendParams.awayLogo]]),d("div",ns,p(s.sendParams.awayTeamAbbr||s.sendParams.awayTeam),1),d("div",os,[d("div",rs,p(g(L)(s.sendParams,"C")),1)])])]),d("div",is,[s.sendParams.RE?(u(),_("div",ls,[d("div",ms,[d("div",us,[_s,v(b,{placement:"top",theme:"dark",trigger:"click",class:"newPopover",to:`.flex-cross-center-${s.sendParams.gidm}${s.sendParams.systemId}`},{reference:f((()=>[v(i,{name:"info"})])),default:f((()=>[ds])),_:1},8,["to"])])]),d("div",vs,[d("div",ps,[d("div",hs,[v(t,{"send-params":g(a)("RE",s.sendParams)},null,8,["send-params"])])])])])):H("",!0),s.sendParams.ROU?(u(),_("div",gs,[fs,d("div",Hs,[d("div",As,[d("div",bs,[v(t,{"send-params":g(a)("ROU",s.sendParams)},null,8,["send-params"])])])])])):H("",!0),s.sendParams.RM?(u(),_("div",$s,[ws,d("div",Ts,[d("div",ys,[d("div",Ps,[v(t,{"send-params":g(a)("RM",s.sendParams)},null,8,["send-params"])])])])])):H("",!0)])])]),d("div",xs,[d("div",Os,[d("div",{class:"match-footer__item",onClick:o[0]||(o[0]=s=>g(c).dispatch("betting/setMoreShow",{status:!0,moreParams:r.sendParams}))},[Ss,v(i,{class:"arrow",name:"arrow"})]),d("div",{class:"match-footer__item",onClick:A},[Ns,v(i,{class:"arrow",name:"arrow"})])])])])])}}});const Js={class:"sportlive"},ks={key:0,class:"sportlive-Match-Tabs"},js=(s=>(N("data-v-04b4527b"),s=s(),I(),s))((()=>d("div",{class:"footerHeight"},null,-1)));var Bs=r({setup(e){const a=i(),t=i(!1),n=async(s=!0)=>{await m(),await p(s)},o=i(["FT","BK","TN","OP_BM"]),r=i([]),m=async()=>{const s=await J({})||{};if(200===s.code&&s.data){const e=s.data||[];r.value=e.filter((s=>o.value.includes(s.gameType)))}},d=i([]),p=async(s=!0)=>{var e,c,n,r;const i={gameType:a.value||"",showtype:"RB",timeStage:0,dateStage:0,gameSort:1,isNovice:"Y",onlyFavorite:0,leagueIds:"",gameTypeSon:"",page:1,pageSize:200};s&&(t.value=!1);const l=await k(i)||{};if(s&&(t.value=!0),200===l.code&&(null==(c=null==(e=l.data)?void 0:e.matchList)?void 0:c.baseData)){const s=(null==(r=null==(n=l.data)?void 0:n.matchList)?void 0:r.baseData)||[];d.value=s.filter((s=>o.value.includes(s.gameType)))}else d.value=[]},h=s=>{a.value=s.gameType,p()};b((async()=>{A(),t.value=!1,n()})),$((()=>{A()})),w((()=>{B()})),T((()=>{B()}));const g=y((()=>c.state.app.businessConfig.pushSwitch));P(g,(()=>{A()}));const f=i(),A=()=>{clearTimeout(f),f.value=setTimeout((()=>{I()}),100)},N=i(15e3),I=()=>{1==+g.value&&(N.value=12e4),B(),j.value=setInterval((()=>{n(!1)}),N.value)},j=i(),B=()=>{clearInterval(j.value)};return(e,c)=>{const n=l("SportsButton"),o=l("Loading"),i=l("HomeEmpty");return u(),_("div",Js,[r.value.length?(u(),_("div",ks,[v(s,{text:"推荐",active:!a.value,onClick:c[0]||(c[0]=s=>h({}))},null,8,["active"]),(u(!0),_(x,null,O(r.value,((s,e)=>(u(),S(n,{key:e,text:s.gameType,active:a.value===s.gameType,onClick:e=>h(s)},null,8,["text","active","onClick"])))),128))])):H("",!0),t.value?(u(),_(x,{key:2},[(u(!0),_(x,null,O(d.value,((s,e)=>(u(),S(Is,{key:e,"send-params":s},null,8,["send-params"])))),128)),d.value.length?H("",!0):(u(),S(i,{key:0}))],64)):(u(),S(o,{key:1})),js])}}});Bs.__scopeId="data-v-04b4527b";export{Bs as default};
