var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,u=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{t as n}from"./title-time.ab77a541.js";import{t as i}from"./title-recommend.753ea118.js";import{s as c,d as v,r,o as p,R as d,P as m,F as g,_ as y,c as f,O as h,S as b,B as k,q as _,Z as T,X as D,Y as x,E as I,u as j,x as w,y as M,W as O,$,M as S,w as C,a2 as V}from"./vue.b4a9caec.js";import{c as z}from"./league-icon.f74f56e6.js";import{_ as P}from"./index.7ded5b9f.js";import{c as B}from"./index.eb9641f9.js";import{f as L,r as A}from"./index.df8f3fa9.js";import{ap as H}from"./index.c63178ba.js";const E={class:"league-champion-item__content"},G={class:"betting-select"},R={class:"betting-select__list"},U={class:"up-betting-name betslipLine"},q={class:"text"},F=(e=>(D("data-v-d8df1f1e"),e=e(),x(),e))((()=>m("span",{class:"point"},null,-1))),N={class:"details"},W={class:"container"},X={class:"item"};var Y=c({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=v(!1),t=v();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,s)=>{const o=r("BettingOption"),u=r("van-icon");return p(),d("div",E,[m("div",G,[m("div",R,[(p(!0),d(g,null,y(t.value,((e,a)=>(p(),f(o,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:h((()=>[m("span",U,[m("span",q,b(e.ratio),1),F]),m("div",N,[m("div",W,[m("div",X,b(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),m("div",{class:"betting-select__more",onClick:s[0]||(s[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(b(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),_(u,{class:T(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});Y.__scopeId="data-v-d8df1f1e";const Z={class:"sport-champion-list"},J={class:"champion-title"},K={class:"champion-group-body"},Q={class:"league-champion-item__header"},ee={class:"icon"},ae={class:"title"};var le=c({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const a=v(!0),l=e=>{a.value=!e};return(t,s)=>{const o=r("ArrowTitle"),u=I("img");return p(),d("div",Z,[m("div",J,[_(o,{class:"mt10 mb10",src:j(i),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),w(m("div",K,[(p(!0),d(g,null,y(e.championList,((e,a)=>(p(),d("div",{key:a,class:"league-champion-item"},[m("div",Q,[w(m("img",ee,null,512),[[u,j(z)]]),m("div",ae,b(e.champion.championType),1)]),_(Y,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[M,a.value]])])}}});le.__scopeId="data-v-e37cf91c";const te={class:"sport-page"},se={class:"my-scroll__content"},oe={class:"betting-sport-nav"},ue={key:0,class:"recommend-list"},ne={key:0,class:"recommend-list"},ie={key:0,class:"early-list"};var ce=c({setup(e){const{currentRoute:c}=O(),k=$(),D=v("1"),x=v("b1"),I=v("c1"),w=v(k.query.leagueId),M=v(k.params.type),z=v(),E=v(),G=v(1),R=v(10),U=v(1),q=v(10),F=v(!1),N=v(!1);S((async()=>{Y(),W()})),C((()=>c.value),(e=>{M.value=e.params.type,w.value="",G.value=1,U.value=1,console.log(M.value),Y(),W()}));const W=async()=>{if(w.value){const e=v({gameType:M.value,leagueId:w.value,page:1,pageSize:20});ve(e.value),pe()}else{const e=v({gameType:M.value,gradeType:1,page:G.value,pageSize:R.value});ve(e.value);const a=v({gameType:M.value,gradeType:2,page:U.value,pageSize:q.value});ve(a.value)}},X=v([]),Y=async()=>{if(M.value){const e=await L({gameType:M.value})||{};200===e.code&&e.data?X.value=e.data:X.value=[]}},Z=v(!1),J=async()=>{var e,a;if(F.value)return;U.value=U.value+1;const l=v({gameType:M.value,gradeType:2,page:U.value,pageSize:q.value});Z.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&(ae.value.push(...t.data.baseData),console.log(ae.value.length)),ae.value.length<U.value*q.value?F.value=!0:F.value=!1,Z.value=!1},K=v(!1),Q=async()=>{var e,a;if(N.value)return;G.value=G.value+1;const l=v({gameType:M.value,gradeType:1,page:G.value,pageSize:R.value});K.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&ee.value.push(...t.data.baseData),ee.value.length<G.value*R.value?N.value=!0:N.value=!1,K.value=!1},ee=v([]),ae=v([]),ce=v(!1),ve=async e=>{var a,l;if(M.value){ce.value=!1;const t=await A(e)||{};ce.value=!0;let s=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(s=t.data.baseData),1===e.gradeType||w.value?s.length?(z.value=s[0].leagueLogo,E.value=s[0].leagueShortName,ee.value=s):(z.value="",E.value="",ee.value=[]):2===e.gradeType&&(s.length?ae.value=s:ae.value=[])}},re=v([]),pe=async()=>{var e;if(w.value){const n=await B({page:1,pageSize:10,leagueIds:w.value})||{};if(200===n.code&&n.data){const i=((null==(e=null==n?void 0:n.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:n,gameId:i,gidm:c,gameType:v}=e,r=e.champion.playType,p=e.champion.championType,d=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new H((m=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&u(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&u(e,l,a[l]);return e})({},e),a(m,l({systemId:n,gameId:i,gidm:c,gameType:v,playType:r,sw:d,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));re.value=i}}else re.value=[]},de=e=>{w.value=e.leagueId,W()};return(e,a)=>{const l=r("ImageButton"),t=r("ArrowTitle"),s=r("Loading"),o=r("HomeMatchHandicap"),u=r("HomeEmpty"),c=r("van-collapse-item"),v=r("van-collapse"),k=r("FooterHeight");return p(),d("div",te,[m("div",se,[m("div",oe,[_(P,{text:e.$t("sport.recommend"),active:!w.value,onClick:a[0]||(a[0]=e=>de({}))},null,8,["text","active"]),(p(!0),d(g,null,y(X.value,((e,a)=>(p(),f(l,{key:a,text:e.leagueNameAbbr,src:e.icon,active:w.value===e.leagueId,onClick:a=>de(e)},null,8,["text","src","active","onClick"])))),128))])]),ee.value.length&&w.value?(p(),f(v,{key:0,modelValue:D.value,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:h((()=>[_(c,{name:"1"},{title:h((()=>[_(t,{class:"mt10 mb10",src:z.value,type:"6",text:E.value},null,8,["src","text"])])),default:h((()=>[ce.value?(p(),d(g,{key:1},[ee.value.length?(p(),d("div",ue,[(p(!0),d(g,null,y(ee.value,((e,a)=>(p(),f(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),f(u,{key:1}))],64)):(p(),f(s,{key:0}))])),_:1})])),_:1},8,["modelValue"])):V("",!0),w.value?V("",!0):(p(),f(v,{key:1,modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:h((()=>[_(c,{name:"b1"},{title:h((()=>[_(t,{class:"mt10 mb10",src:j(i),text:e.$t("sport.recommend")},null,8,["src","text"])])),default:h((()=>[ce.value?(p(),d(g,{key:1},[ee.value.length?(p(),d("div",ne,[(p(!0),d(g,null,y(ee.value,((e,a)=>(p(),f(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),f(u,{key:1}))],64)):(p(),f(s,{key:0})),!K.value&&ee.value.length?(p(),d("div",{key:2,class:T(["Button-MatchMore mt20",N.value?"no-more":""]),onClick:Q},[m("span",null,b(N.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):V("",!0),K.value?(p(),f(s,{key:3})):V("",!0)])),_:1})])),_:1},8,["modelValue"])),w.value?V("",!0):(p(),f(v,{key:2,modelValue:I.value,"onUpdate:modelValue":a[3]||(a[3]=e=>I.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:h((()=>[_(c,{name:"c1"},{title:h((()=>[_(t,{class:"mt10 mb10",src:j(n),text:e.$t("sport.early")},null,8,["src","text"])])),default:h((()=>[ce.value?(p(),d(g,{key:1},[ae.value.length?(p(),d("div",ie,[(p(!0),d(g,null,y(ae.value,((e,a)=>(p(),f(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),f(u,{key:1}))],64)):(p(),f(s,{key:0})),!Z.value&&ae.value.length?(p(),d("div",{key:2,class:T(["Button-MatchMore mt20",F.value?"no-more":""]),onClick:J},[m("span",null,b(F.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):V("",!0),Z.value?(p(),f(s,{key:3})):V("",!0)])),_:1})])),_:1},8,["modelValue"])),re.value.length&&w.value?(p(),f(le,{key:3,"champion-list":re.value},null,8,["champion-list"])):V("",!0),_(k)])}}});ce.__scopeId="data-v-229cd656";export{ce as default};
