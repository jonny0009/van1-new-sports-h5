import{_ as s,a}from"./pitch.940af881.js";import{s as e,b as t,d as l,j as i,r as c,o as r,R as u,q as n,O as o,P as d,S as v,B as p,W as m}from"./vue.5fad807b.js";import{u as f,J as g,b as y,s as k,L as $,M as h,I,H as b}from"./index.0b5c5324.js";const x={class:"editUser"},_={class:"content"},P={class:"head"},w=["src"],C={class:"edit-name"},j={class:"explain"},E={class:"explain-box"},N={class:"explain privacy"},S={class:"account-1"},V={class:"top-1"},A={key:0,class:"img_1",src:a,alt:""},U={class:"top-2"},q={class:"account-1"},z={class:"top-1"},B={key:0,class:"img_1",src:a,alt:""},H={class:"top-2"};var J=e({setup(a){const e=t((()=>k.state.user.userInfo)),J=m(),L=l(""),M=l(0),O=l({}),{t:R}=f(),T=l(R("user.EditProfile")),W=s=>{J.push("/user"+s)},D=async s=>{if(M.value===s)return;M.value=s;const a={privacy:M.value},e=await h(a);if(200!==e.code)return y(e.msg);y(R("user.EditSuccessfully"))};i((()=>{F()}));const F=async()=>{const s={fPlayerId:e.value.playerId},a=await g(s);if(200!==a.code)return y(a.msg);L.value=a.data.profiles,M.value=a.data.privacy,O.value=a.data};return(a,t)=>{const l=c("van-nav-bar"),i=c("van-field");return r(),u("div",x,[n(l,{class:"bg-title",title:T.value,border:!1},{left:o((()=>[d("span",{onClick:t[0]||(t[0]=s=>{J.push("/user/userInfo")})},v(a.$t("user.cancellation")),1)])),right:o((()=>[d("span",{onClick:t[1]||(t[1]=s=>(async()=>{const s={nickName:e.value.nickName,headImg:"",profiles:L.value},a=await $(s);if(200!==a.code)return y(a.msg);y(R("user.EditSuccessfully")),k.dispatch("user/userInfo"),J.push("/user/userInfo")})())},v(a.$t("user.save")),1)])),_:1},8,["title"]),d("div",_,[d("div",P,[d("img",{class:"img_1",src:(m=O.value.headImg,m?`${I}${m}`:b),alt:""},null,8,w),d("div",{class:"edit",onClick:t[2]||(t[2]=s=>W("/editImg"))},v(a.$t("user.editText")),1)]),d("div",C,[d("span",null,v(a.$t("user.EditNickname")),1),d("img",{class:"img_1",src:s,alt:"",onClick:t[3]||(t[3]=s=>W("/editName"))})]),d("p",j,v(a.$t("user.Personal")),1),d("div",E,[n(i,{modelValue:L.value,"onUpdate:modelValue":t[4]||(t[4]=s=>L.value=s),rows:"10",autosize:"",type:"textarea",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),d("p",N,v(a.$t("user.PrivacySettings")),1),d("div",S,[d("div",V,[0===M.value?(r(),u("img",A)):(r(),u("div",{key:1,class:"round",onClick:t[5]||(t[5]=s=>D(0))})),p(" "+v(a.$t("user.PublicAccount")),1)]),d("div",U,v(a.$t("user.font2")),1)]),d("div",q,[d("div",z,[1===M.value?(r(),u("img",B)):(r(),u("div",{key:1,class:"round",onClick:t[6]||(t[6]=s=>D(1))})),p(" "+v(a.$t("user.PrivateAccount")),1)]),d("div",H,v(a.$t("user.font3")),1)])])]);var m}}});J.__scopeId="data-v-6e53fc27";export{J as default};
