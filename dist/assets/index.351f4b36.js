import{_ as e}from"./index.7ded5b9f.js";import{s as a,b as s,d as t,r as i,E as n,o as l,R as o,q as r,O as c,P as m,Z as u,u as v,S as d,a2 as h,x as p,y as f,M as g,g as _,h as y,f as b,w,F as T,_ as H,c as P}from"./vue.b4a9caec.js";import{g as x,o as k,b as O,t as S}from"./getScore.40ef3d51.js";import{u as $,s as R,as as M,at as Q,au as L,Q as B,g as N}from"./index.c0da5462.js";import{a as j,b as C}from"./index.2a4beb1f.js";const I=["data-val"],K={class:"home-tabs-play"},V={class:"play"},E=m("div",{class:"flex-1"},null,-1),U={class:"home-match"},q={class:"up-match-group__body"},F={class:"up-match"},A={class:"match-info-live__header border-bottom"},D=[m("i",{v:"",class:"iconfont icon-footer-live"},null,-1)],z={class:"up-match-league"},J={class:"text"},W={class:"flex-cross-center"},Y={class:"up-match-time"},Z=["innerHTML"],G={class:"up-match-score border-bottom"},X={class:"item mb5"},ee={type:4,class:"my-image img",style:{"object-fit":"contain"},alt:""},ae={class:"name"},se={class:"container"},te={class:"value"},ie={class:"item"},ne={class:"my-image img",type:5,style:{"object-fit":"contain"},alt:""},le={class:"name"},oe={class:"container"},re={class:"value"},ce={class:"up-match__body"},me={key:0,class:"match-betting-item"},ue={class:"match-betting-item__title"},ve={class:"flex-cross-center"},de={class:"match-betting-item__content"},he={class:"betting-select"},pe={class:"betting-select__list"},fe={key:1,class:"match-betting-item"},ge={class:"match-betting-item__title"},_e={class:"flex-cross-center"},ye={class:"match-betting-item__content"},be={class:"betting-select"},we={class:"betting-select__list"},Te={key:2,class:"match-betting-item"},He={class:"match-betting-item__title"},Pe={class:"flex-cross-center"},xe={class:"match-betting-item__content"},ke={class:"betting-select"},Oe={class:"betting-select__list"},Se={class:"up-match__footer"},$e={class:"match-footer"};var Re=a({props:{sendParams:{type:Object,default:function(){return{}}}},setup(e){const a=e,{t:g}=$(),_=s((()=>R.state.home.RrefShow)),y=()=>{R.dispatch("home/setKeyValue",{key:"RrefShow",value:!_.value})},b=s((()=>R.state.home.OUrefShow)),w=()=>{R.dispatch("home/setKeyValue",{key:"OUrefShow",value:!b.value})},T=s((()=>R.state.home.MrefShow)),H=()=>{R.dispatch("home/setKeyValue",{key:"MrefShow",value:!T.value})},P=t(null),j=s((()=>{const e=R.state.app.globalBarHeaderHeight||48;return e>60?48:e})),C={0:"",Q1:g("live.Q1"),Q2:g("live.Q2"),Q3:g("live.Q3"),Q4:g("live.Q4"),"1h":g("live.Q1"),"2h":g("live.Q2"),"3h":g("live.Q3"),"4h":g("live.Q4"),OT:g("live.OT"),HT:g("live.HT"),H1:g("live.H1"),H2:g("live.H2"),q1:g("live.Q1"),q2:g("live.Q2"),q3:g("live.Q3"),q4:g("live.Q4"),ot:g("live.OT"),ht:g("live.HT"),h1:g("live.H1"),h2:g("live.H2")},Re=e=>{const a=e.toLowerCase();return C[a]},Me=t(""),Qe=(e={})=>{const{showtype:a,gameType:s,gameInfo:t,showType:i,homeTeamSuffix:n,gidm:l}=e,o=k(t,5),r=t&&t.se_now;if("RB"===a||"RB"===i){switch(s){case"FT":if(!t)return g("home.img");if(((null==n?void 0:n.includes("点球"))||(null==n?void 0:n.includes("點球")))&&(t.raceType="dianqiu",t.teamSuffix=g("home.PenaltyKickWar")),((null==n?void 0:n.includes("加时赛"))||(null==n?void 0:n.includes("加時賽")))&&(t.raceType="jiashi",t.teamSuffix=g("live.OT")),t.raceType){if("jiashi"===(null==t?void 0:t.raceType)&&("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time)))return g("live.HT");if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return g("live.pause");if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[e,a]=t.re_time.split("^"),s="1H"===e?`上${a}`:`下${a}`;return`${t.teamSuffix}<span class='time-h-number'>${s}</span>`}}if("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time))return g("live.HT");if((null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return g("live.pause");if((null==t?void 0:t.re_time)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[e,a]=t.re_time.split("^");let s="";if(a.indexOf("'")>-1){const[e]=a.split("'");s=`${e}<span class="time-h-dot">'</span>`}else s=a;return g("1H"===e?"home.1HNumber":"home.2HNumber",{number:s})}return(null==t?void 0:t.re_time)?t.re_time:g("live.pause");case"TN":if(t){const e=S(t);if(null==e?void 0:e.sciwd)return g("live.pause");const{panNum:a,score1:s,score2:i}=e;return`${a}<span>${s}${i}</span>`}return g("home.img");case"BS":if(t){if(l&&l.indexOf("ic")>-1)return g("home.img");const e=t?O(t):"",a=t.inningNum?null==t?void 0:t.inningNum:e.se_now>0?e.se_now:e.score.num;return g("home.set",{number:a})}return g("home.img");case"BK":return"HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now)?g("live.HT"):(null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1?g("home.addTimeNumber",{number:B(1e3*Me.value,"mm:ss")}):r&&Me?`${Re(null==t?void 0:t.se_now)}<span>${B(1e3*Me.value,"mm:ss")}</span>`:!Me.value&&r?`${Re(t.se_now)}<span>00:00</span>`:"";case"BK_AFT":if(t){if("HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now))return g("live.HT");if((null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1)return g("home.addTimeNumber",{number:B(1e3*t.t_count,"mm:ss")});const e=t&&t.se_now,a=t&&+t.t_count;return e&&a?`${Re(t.se_now)}<span>${B(1e3*t.t_count,"mm:ss")}</span>`:""}return g("home.img");case"OP_TN":if(t){const e=(null==t?void 0:t.se_now.replace(/[^0-9]/gi,""))||"";return g("home.set",{number:e})}return g("home.img");case"OP_VB":return o?g("home.set",{number:o.scorePan.num}):"";case"OP_DJ":case"OP_IH":return g("home.img")}return g("home.img")}return g("home.img")},Le=({leagueShortName:e,leagueName:a})=>e&&a?`${e||a}`:"",Be=e=>{const{live:a,merchantAnchor:s,merchantStreamNa:t}=e;return!!(1*a!=1||s&&(null==s?void 0:s.length)&&t&&(null==t?void 0:t.length))};return(s,t)=>{const g=i("van-sticky"),k=i("SportsIcon"),O=i("van-icon"),S=n("img");return l(),o("div",{ref_key:"container",ref:P,class:"homeMatchHandicap","data-val":v(j)},[r(g,{"offset-top":v(j),container:P.value,"z-index":"5"},{default:c((()=>[m("div",K,[r(M,{"time-send-params":e.sendParams},null,8,["time-send-params"]),m("div",V,[E,m("span",{class:u(["btn R",[{active:v(_)}]]),onClick:y},d(s.$t("home.R")),3),m("span",{class:u(["btn OU",[{active:v(b)}]]),onClick:w},d(s.$t("home.OU")),3),m("span",{class:u(["btn M",[{active:v(T)}]]),onClick:H},d(s.$t("home.M")),3)])])])),_:1},8,["offset-top","container"]),m("div",U,[m("div",q,[m("div",F,[m("div",A,[Be(e.sendParams)?(l(),o("div",{key:0,class:"live-icon",onClick:t[0]||(t[0]=a=>{return s=e.sendParams,void N.push(`/broadcast/${s.gidm}`);var s})},D)):h("",!0),m("div",z,[m("div",J,d(Le(e.sendParams)),1)]),m("div",W,[m("div",Y,[p(r(k,{"icon-src":"live",class:"mr5"},null,512),[[f,Be(e.sendParams)]]),m("div",{class:u(["up-match-time-html",e.sendParams.gameType]),innerHTML:Qe(e.sendParams)},null,10,Z)])])]),m("div",G,[m("div",X,[p(m("img",ee,null,512),[[S,e.sendParams.homeLogo]]),m("div",ae,d(e.sendParams.homeTeamAbbr||e.sendParams.homeTeam),1),m("div",se,[m("div",te,d(v(x)(e.sendParams,"H")),1)])]),m("div",ie,[p(m("img",ne,null,512),[[S,e.sendParams.awayLogo]]),m("div",le,d(e.sendParams.awayTeamAbbr||e.sendParams.awayTeam),1),m("div",oe,[m("div",re,d(v(x)(e.sendParams,"C")),1)])])]),m("div",ce,[v(_)&&e.sendParams.RE?(l(),o("div",me,[m("div",ue,[m("div",ve,d(s.$t("home.RInfo")),1)]),m("div",de,[m("div",he,[m("div",pe,[r(L,{"send-params":v(Q)("RE",e.sendParams),type:"RB"},null,8,["send-params"])])])])])):h("",!0),v(b)&&e.sendParams.ROU?(l(),o("div",fe,[m("div",ge,[m("div",_e,d(s.$t("home.OUInfo")),1)]),m("div",ye,[m("div",be,[m("div",we,[r(L,{"send-params":v(Q)("ROU",e.sendParams),type:"RB"},null,8,["send-params"])])])])])):h("",!0),v(T)&&e.sendParams.RM?(l(),o("div",Te,[m("div",He,[m("div",Pe,d(s.$t("home.MInfo")),1)]),m("div",xe,[m("div",ke,[m("div",Oe,[r(L,{"send-params":v(Q)("RM",e.sendParams),type:"RB"},null,8,["send-params"])])])])])):h("",!0)])])]),m("div",Se,[m("div",$e,[m("div",{class:"match-footer__item",onClick:t[1]||(t[1]=e=>v(R).dispatch("betting/setMoreShow",{status:!0,moreParams:a.sendParams}))},[m("span",null,d(s.$t("home.morePlay")),1),r(O,{class:"arrow",name:"arrow"})])])])])],8,I)}}});const Me={},Qe={class:"swipeLive"};Me.render=function(e,a){return l(),o("div",Qe," swipeLive swipeLive swipeLive swipeLive swipeLive ")};var Le=Me;const Be={class:"sportlive"},Ne={key:0,class:"sportlive-Match-Tabs"};var je=a({setup(a){const n=t(),c=t(!1),u=async(e=!0)=>{await f(),await k(e)},v=t([""]),p=t([]),f=async()=>{const e=await j({})||{};if(200===e.code&&e.data){const a=e.data||[];p.value=a.filter((e=>!v.value.includes(e.gameType)))}},x=t([]),k=async(e=!0)=>{var a,s,t,i;const l={gameType:n.value||"",showtype:"RB",timeStage:0,dateStage:0,gameSort:1,isNovice:"Y",onlyFavorite:0,leagueIds:"",gameTypeSon:"",page:1,pageSize:200};e&&(c.value=!1);const o=await C(l)||{};if(e&&(c.value=!0),200===o.code&&(null==(s=null==(a=o.data)?void 0:a.matchList)?void 0:s.baseData)){const e=(null==(i=null==(t=o.data)?void 0:t.matchList)?void 0:i.baseData)||[];x.value=e.filter((e=>!v.value.includes(e.gameType)))}else x.value=[]},O=()=>{},S=e=>{n.value=e.gameType,k()};g((async()=>{Q(),c.value=!1,u()})),_((()=>{Q()})),y((()=>{I()})),b((()=>{I(),R.dispatch("home/setKeyValue",{key:"RrefShow",value:!0}),R.dispatch("home/setKeyValue",{key:"OUrefShow",value:!0}),R.dispatch("home/setKeyValue",{key:"MrefShow",value:!0})}));const $=s((()=>R.state.app.businessConfig.pushSwitch));w($,(()=>{Q()}));const M=t(),Q=()=>{clearTimeout(M),M.value=setTimeout((()=>{B()}),100)},L=t(5e3),B=()=>{1==+$.value&&(L.value=12e4),I(),N.value=setInterval((()=>{u(!1)}),L.value)},N=t(),I=()=>{clearInterval(N.value)};return(a,s)=>{const t=i("SportsButton"),u=i("Loading"),v=i("HomeEmpty"),f=i("FooterHeight");return l(),o("div",Be,[p.value.length?(l(),o("div",Ne,[r(e,{text:a.$t("sport.all"),active:!n.value,onClick:s[0]||(s[0]=e=>S({}))},null,8,["text","active"]),(l(!0),o(T,null,H(p.value,((e,a)=>(l(),P(t,{key:a,text:e.gameType,active:n.value===e.gameType,onClick:a=>S(e)},null,8,["text","active","onClick"])))),128))])):h("",!0),r(Le),c.value?(l(),o(T,{key:2},[(l(!0),o(T,null,H(x.value,((e,a)=>(l(),P(Re,{key:a,"send-params":e},null,8,["send-params"])))),128)),x.value.length?h("",!0):(l(),P(v,{key:0}))],64)):(l(),P(u,{key:1})),x.value.length?(l(),o("div",{key:3,class:"Button-MatchMore mt10",onClick:O},[m("span",null,d(a.$t("live.noMore")),1)])):h("",!0),r(f)])}}});je.__scopeId="data-v-3f270cc2";export{je as default};
