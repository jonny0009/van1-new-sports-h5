import{_ as a}from"./edit.5cf9bce8.js";import{_ as s}from"./pitch.eecb7edb.js";import{s as e,b as l,d as t,j as c,r as i,o as r,R as o,q as n,O as d,P as u,S as v,B as p,V as m,W as f,X as g}from"./vue.85a22cc6.js";import{D as y,d as h,s as k,F as I,G as _,I as b,C as x}from"./index.6fc4f0f3.js";const C=a=>(f("data-v-84a4732c"),a=a(),g(),a),w={class:"editUser"},j={class:"content"},V={class:"head"},$=["src"],N={class:"edit-name"},P=C((()=>u("span",null,"编辑昵称",-1))),U=C((()=>u("p",{class:"explain"},"个人简介",-1))),q={class:"explain-box"},z=C((()=>u("p",{class:"explain privacy"},"隐私设置",-1))),B={class:"account-1"},D={class:"top-1"},F={key:0,class:"img_1",src:s,alt:""},G=p(" 公开帐户（推荐） "),O=C((()=>u("div",{class:"top-2"}," 其他用户可以直接关注你，查看你的档案和注单。你还是可以隐藏具体的注单。这是默认设置。 ",-1))),R={class:"account-1"},S={class:"top-1"},W={key:0,class:"img_1",src:s,alt:""},X=p(" 私密帐户 "),A=C((()=>u("div",{class:"top-2"}," 其他用户只有在你接受他们的关注请求时才能看到你的档案和注单。你在平台的体验会比较私密。 ",-1)));var E=e({setup(s){const e=l((()=>k.state.user.userInfo)),p=m(),f=t(""),g=t(0),C=t({}),E=a=>{p.push("/user"+a)},H=async a=>{if(g.value===a)return;g.value=a;const s={privacy:g.value},e=await _(s);if(200!==e.code)return h(e.msg);h("编辑成功")},J=t("编辑档案");c((()=>{K()}));const K=async()=>{const a={fPlayerId:e.value.playerId},s=await y(a);if(200!==s.code)return h(s.msg);f.value=s.data.profiles,g.value=s.data.privacy,C.value=s.data};return(s,e)=>{const l=i("van-nav-bar"),t=i("van-field");return r(),o("div",w,[n(l,{class:"bg-title",title:J.value,border:!1},{left:d((()=>[u("span",{onClick:e[0]||(e[0]=a=>{p.push("/user/userInfo")})},v(s.$t("user.cancellation")),1)])),right:d((()=>[u("span",{onClick:e[1]||(e[1]=a=>(async()=>{const a={nickName:"",headImg:"",profiles:f.value},s=await I(a);if(200!==s.code)return h(s.msg);h("编辑成功"),k.dispatch("user/userInfo"),p.push("/user/userInfo")})())},v(s.$t("user.save")),1)])),_:1},8,["title"]),u("div",j,[u("div",V,[u("img",{class:"img_1",src:(c=C.value.headImg,c?`${b}${c}`:x),alt:""},null,8,$),u("div",{class:"edit",onClick:e[2]||(e[2]=a=>E("/editImg"))},"编辑")]),u("div",N,[P,u("img",{class:"img_1",src:a,alt:"",onClick:e[3]||(e[3]=a=>E("/editName"))})]),U,u("div",q,[n(t,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=a=>f.value=a),rows:"10",autosize:"",type:"textarea",maxlength:"256","show-word-limit":""},null,8,["modelValue"])]),z,u("div",B,[u("div",D,[0===g.value?(r(),o("img",F)):(r(),o("div",{key:1,class:"round",onClick:e[5]||(e[5]=a=>H(0))})),G]),O]),u("div",R,[u("div",S,[1===g.value?(r(),o("img",W)):(r(),o("div",{key:1,class:"round",onClick:e[6]||(e[6]=a=>H(1))})),X]),A])])]);var c}}});E.__scopeId="data-v-84a4732c";export{E as default};
