import{t as e}from"./title-hot.4c9ca139.js";import{s as a,i as t,f as s}from"./index.285ffc43.js";import{f as o,r as n}from"./index.19a9c807.js";import{s as l,b as r,d as c,w as u,e as m,M as i,r as p,o as h,R as d,q as v,u as y,P as g,c as f,F as T,Z as k,Y as M,a2 as b,O as x,W as S,X as w,S as H,j,_ as C}from"./vue.e791136f.js";import{t as D}from"./title-recommend.5cf4514a.js";import{t as I}from"./title-time.dad94643.js";const R=e=>(S("data-v-7368ade2"),e=e(),w(),e),_={key:0,class:"Hot-Match-Group-Warp"},q=R((()=>g("div",{class:"onImgError"},null,-1))),A=R((()=>g("div",{class:"mask-left",style:{display:"none"}},null,-1))),E=R((()=>g("div",{class:"mask-right"},null,-1)));var L=l({setup(n){const l=r((()=>a.state.home.refreshChangeTime)),S=r((()=>0===H.length)),w=c("");u(l,(e=>{e&&(clearTimeout(w.value),w.value=setTimeout((()=>{C()}),100))}));const H=m([]),j=c(!1),C=async()=>{j.value=!1;const e=await o();if(j.value=!0,200===e.code){const a=(null==e?void 0:e.data)||[];H.length=0,H.push(...a)}};i((()=>{C()}));const D=c(!1),I=e=>{D.value=e},R=(e,a,t,s)=>{var o=t-e,n=s-a,l=0;if(Math.abs(o)<2&&Math.abs(n)<2)return l;var r=((e,a)=>180*Math.atan2(a,e)/Math.PI)(o,n);return r>=-135&&r<=-45?l=1:r>45&&r<135?l=2:r>=135&&r<=180||r>=-180&&r<-135?l=3:r>=-45&&r<=45&&(l=4),l},L=c({}),$=c({}),F=c({});return(a,o)=>{const n=p("ArrowTitle"),l=p("Loading"),r=p("HomeEmpty"),c=p("van-loading"),u=p("van-image");return h(),d(T,null,[v(n,{class:"mt10 mb10",src:y(e),text:a.$t("home.hotMatch"),onReturnSuccess:I},null,8,["src","text"]),D.value?b("",!0):(h(),d("div",_,[g("div",{class:M(["Hot-Match-Group",[{noData:y(S)}]]),onTouchstart:o[0]||(o[0]=e=>(e=>{const a=e.targetTouches[0];L.value={x:a.pageX,y:a.pageY,time:new Date}})(e)),onTouchmove:o[1]||(o[1]=e=>(e=>{const a=e.changedTouches[0];$.value={x:a.pageX,y:a.pageY,timeStemp:new Date};const{x:t,y:s}=L.value;F.value=R(t,s,$.value.x,$.value.y)})(e))},[j.value?(h(),d(T,{key:1},[y(S)?(h(),f(r,{key:0})):(h(!0),d(T,{key:1},k(y(H),((e,a)=>(h(),f(u,{key:a,src:y(t)(e.icon),fit:"contain","lazy-load":"",onClick:a=>(e=>{const{leagueId:a,gameType:t}=e;s.push({name:"Sport",query:{leagueId:a},params:{type:t}})})(e)},{loading:x((()=>[v(c,{type:"spinner",class:"van-new-loading",size:"36px"})])),error:x((()=>[q])),_:2},1032,["src","onClick"])))),128))],64)):(h(),f(l,{key:0}))],34),y(S)?b("",!0):(h(),d(T,{key:0},[A,E],64))]))],64)}}});L.__scopeId="data-v-7368ade2";var $=l({setup(e){const t=r((()=>a.state.home.refreshChangeTime)),s=c("");u(t,(e=>{e&&(clearTimeout(s.value),s.value=setTimeout((()=>{g()}),100))}));const o=m([]),l=c(!1),g=async(e="FT")=>{const a={gradeType:1,gameType:e};l.value=!1;const t=await n(a);if(l.value=!0,200===t.code){const e=(null==t?void 0:t.data)||{},{baseData:a}=e;o.length=0,o.push(...a)}},M=e=>{g(e)};i((()=>{g()}));const x=c(!1),S=e=>{x.value=e};return(e,a)=>{const t=p("ArrowTitle"),s=p("SportsTabs"),n=p("Loading"),r=p("HomeEmpty"),c=p("HomeMatchHandicap");return h(),d(T,null,[v(t,{class:"mt10 mb10",src:y(D),text:e.$t("home.goofMatch"),onReturnSuccess:S},null,8,["src","text"]),x.value?b("",!0):(h(),d(T,{key:0},[v(s,{class:"mb10 mt20",onReturnSportsSuccess:M}),l.value?(h(),d(T,{key:1},[y(o).length?b("",!0):(h(),f(r,{key:0})),(h(!0),d(T,null,k(y(o),((e,a)=>(h(),f(c,{key:a,"send-params":e,class:"mb10"},null,8,["send-params"])))),128))],64)):(h(),f(n,{key:0}))],64))],64)}}}),F=l({setup(e){const t=r((()=>a.state.home.refreshChangeTime)),o=c("");u(t,(e=>{e&&(clearTimeout(o.value),o.value=setTimeout((()=>{x()}),100))}));const l=m([]),M=c(!1),x=async(e="FT")=>{M.value=!1;const a={gradeType:2,gameType:e},t=await n(a);if(M.value=!0,200===t.code){const e=(null==t?void 0:t.data)||{},{baseData:a}=e;l.length=0,l.push(...a)}},S=()=>{const e={name:"HomeTime",params:{refreshTime:(new Date).getTime()}};a.dispatch("app/setKeyValue",{key:"imgChangeTime",value:(new Date).getTime()}),s.push(e)},w=e=>{x(e)};i((()=>{x()}));const j=c(!1),C=e=>{j.value=e};return(e,a)=>{const t=p("ArrowTitle"),s=p("SportsTabs"),o=p("Loading"),n=p("HomeEmpty"),r=p("HomeMatchHandicap");return h(),d(T,null,[v(t,{class:"mt10 mb10",src:y(I),text:e.$t("home.latestMatch"),onReturnSuccess:C},null,8,["src","text"]),j.value?b("",!0):(h(),d(T,{key:0},[v(s,{class:"mb10 mt20",onReturnSportsSuccess:w}),M.value?(h(),d(T,{key:1},[y(l).length?(h(!0),d(T,{key:1},k(y(l),((e,a)=>(h(),f(r,{key:a,"send-params":e,class:"mb10"},null,8,["send-params"])))),128)):(h(),f(n,{key:0,class:"marginAuto"}))],64)):(h(),f(o,{key:0})),y(l).length?(h(),d("div",{key:2,class:"Button-MatchMore mt10",onClick:S},[g("span",null,H(e.$t("home.lookMoreMatch")),1)])):b("",!0)],64))],64)}}});const G={class:"home-page"},P=(e=>(S("data-v-27bc153e"),e=e(),w(),e))((()=>g("div",{class:"footerHeight"},null,-1)));var X=l({setup(e){const t=C();return j((()=>{if(t.query.gidm){const e=JSON.parse(t.query.obj);a.dispatch("betting/setMoreShow",{status:!0,moreParams:e})}})),(e,a)=>(h(),d("div",G,[v(L,{ref:"refHotMatch"},null,512),v($,{ref:"refGoodMatch"},null,512),v(F,{ref:"refLatestMatch"},null,512),P]))}});X.__scopeId="data-v-27bc153e";export{X as default};
