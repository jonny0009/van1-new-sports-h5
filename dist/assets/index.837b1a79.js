var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,l=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))o.call(t,a)&&n(e,a,t[a]);return e};import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.c1737efb.js";import{d as r,a as c,r as m,o as h,f as u,b as d,F as y,l as g,c as v,w as f,t as T,h as b,g as I,k as w,q as _,u as j,s as O,A as x,a3 as k,a5 as D,v as P}from"./vue.f12d2f32.js";import{c as $,d as C}from"./index.b6e7b25f.js";import{_ as S}from"./index.fc1488bc.js";import{t as A}from"./title-recommend.bfaab608.js";import{_ as N}from"./index.5825e611.js";import{k as L,g as M}from"./index.d677135c.js";const q={class:"league-champion-item__content"},B={class:"betting-select"},E={class:"betting-select__list"},H={class:"up-betting-name betslipLine"},z={class:"text"},F=d("span",{class:"point"},null,-1),R={class:"details"},G={class:"container"},J={class:"item"};var K=r({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const t=e,a=c(!1),s=c();s.value=t.gameDetail.champion.ratioData.slice(0,9);return(e,i)=>{const o=m("BettingOption"),n=m("van-icon");return h(),u("div",q,[d("div",B,[d("div",E,[(h(!0),u(y,null,g(s.value,((e,t)=>(h(),v(o,{key:t,"market-info":e.marketInfo,class:"betting-option"},{default:f((()=>[d("span",H,[d("span",z,T(e.ratio),1),F]),d("div",R,[d("div",G,[d("div",J,T(e.ior),1)])])])),_:2},1032,["market-info"])))),128))]),d("div",{class:"betting-select__more",onClick:i[0]||(i[0]=e=>(a.value=!a.value,void(a.value?s.value=t.gameDetail.champion.ratioData:s.value=t.gameDetail.champion.ratioData.slice(0,9))))},[b(T(a.value?"收起":"更多")+" ",1),I(n,{class:w(["icon",a.value?"up":""]),name:"play"},null,8,["class"])])])])}}});const Q={class:"sport-champion-list"},U={class:"champion-title"},V={class:"champion-group-body"},W={class:"league-champion-item__header"},X={class:"icon"},Y={class:"title"};var Z=r({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const t=c(!0),a=e=>{console.log(e),t.value=!e};return(s,i)=>{const o=_("img");return h(),u("div",Q,[d("div",U,[I(S,{class:"mt10 mb10",src:j(A),text:"冠军竞猜",onReturnSuccess:a},null,8,["src"])]),O(d("div",V,[(h(!0),u(y,null,g(e.championList,((e,t)=>(h(),u("div",{key:t,class:"league-champion-item"},[d("div",W,[O(d("img",X,null,512),[[o,j($)]]),d("div",Y,T(e.champion.championType),1)]),I(K,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[x,t.value]])])}}});const ee=["systemId","gidm","gameId","gameType","playType","ratioType","ratio","ior"];class te{constructor(e){this.isChampion=!1,this.ratioName="",this.systemId=e.systemId,this.leagueId=e.leagueId,this.gidm=e.gidm||"",this.hgid=e.hgid||"",this.sgidm=e.sgidm,this.gameId=e.gameId,this.pgidm=e.pgidm,this.optionId=e.optionId||e.id||"",this.sw=e.sw,this.championType=e.championType,this.oddfType=e.oddfType,this.showType=e.showType||e.showtype,this.showtype=e.showType||e.showtype,this.gameType=e.gameType,this.playType=e.playType||"",this.ratioType=e.ratioType||"",this.ratioIpo=e.ratioIpo,this.session=e.session,this.ratio=e.ratio||e.ratio1,this.ior=e.ior,this.leagueName=e.leagueName,this.homeTeam=e.homeTeam,this.awayTeam=e.awayTeam,this.suffix=e.suffix,this.homeTeamSuffix=e.homeTeamSuffix,this.sourceCompany=e.sourceCompany,"CP"===this.showtype||"CHAMPION"===this.playType?this.isChampion=!0:this.isChampion=!1;try{this.ratioName=L(l({},this))}catch(t){console.error(t)}this.checkoutAttrs(e),this.playOnlyId=this.getPlayOnlyId()}checkoutAttrs(e){const t=[];ee.forEach((a=>{e[a]||t.push(a)})),t.length&&console.warn(`缺少：${t.toString()}`)}getPlayOnlyId(){let e=this.gidm;return this.sgidm&&(e=this.sgidm),this.optionId?`${e}/${this.optionId}/${this.playType}${this.ratioType}`:`${e}/${this.gameId}/${this.playType}/${this.ratioType}`}get vior(){return this.ior}}const ae={class:"sport-page"},se={class:"my-scroll__content"},ie={class:"betting-sport-nav"},oe=d("div",{class:"Button-MatchMore mt20"},[d("span",null," 查看更多比赛 ")],-1),ne=d("div",{class:"footerHeight"},null,-1);var le=r({setup(e){k((async()=>{console.log(i.value),n()}));const s=D(),i=c(s.query.leagueId),o=c([]),n=async()=>{if(i.value){const e=await C({page:1,pageSize:10,leagueIds:i.value})||{};if(200===e.code&&e.data){const s=e.data.gameDetail.map((e=>{const{systemId:s,gameId:i,gidm:o,gameType:n}=e,p=e.champion.playType,r=e.champion.championType,c=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new te((m=l({},e),t(m,a({systemId:s,gameId:i,gidm:o,gameType:n,playType:p,sw:c,championType:r})))),e})),e}));o.value=s}}else o.value=[]};return(e,t)=>(h(),u("div",ae,[d("div",se,[d("div",ie,[I(N,{text:"推荐",active:!0}),(h(),u(y,null,g([1,2,3,4,5],(e=>I(M,{key:e,text:"和恢复顶顶顶帆帆",src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",active:!0}))),64))])]),I(p),o.value.length?(h(),v(Z,{key:0,"champion-list":o.value},null,8,["champion-list"])):P("",!0),oe,ne]))}});export{le as default};
