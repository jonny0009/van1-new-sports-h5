import{_ as a}from"./return@2x.16bf9d85.js";import{_ as s}from"./noData.663f85f3.js";import{m as e,d as t,k as l,I as n}from"./index.89996f67.js";import{s as o,d as r,e as i,j as c,r as u,o as d,R as p,q as f,O as m,P as v,u as g,S as h,a2 as _,F as y,Z as b,V as k,c as j,W as C,X as x}from"./vue.979f7bee.js";const D=a=>(C("data-v-18b9a379"),a=a(),x(),a),$={class:"notice"},L={class:"content"},T={key:0,class:"noData"},q=D((()=>v("img",{class:"img_1",src:s},null,-1))),w={class:"list"},A=["onClick"],E={class:"font_1"},H=["innerHTML"],I={class:"font_3"},M=D((()=>v("span",null,"查看完整讯息",-1)));var S=o({setup(s){const o=k(),C=r("消息"),x=r(!1),D=r(!1),S=i({arr:[]});c((async()=>{}));let z=0;const F=async()=>{z++;const a={page:z,pageSize:20},s=await e(a),l=s.data;200===s.code?(l.messages.forEach((a=>{S.arr.push(a)})),x.value=!1,D.value=S.arr.length===l.totalCount):t(s.msg)},O=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${n}${e}`)})),a}return""},P=a=>{console.log(a,"单个删除====")};return(s,e)=>{const t=u("van-nav-bar"),n=u("van-swipe-cell"),r=u("van-list");return d(),p("div",$,[f(t,{class:"bg-title",title:C.value},{left:m((()=>[v("img",{class:"img_1",src:a,alt:"",onClick:e[0]||(e[0]=a=>{o.push({path:"/home"})})})])),_:1},8,["title"]),v("div",L,[!g(S).arr.length&&D.value?(d(),p("div",T,[q,v("p",null,h(s.$t("user.noData")),1)])):_("",!0),v("div",w,[f(r,{loading:x.value,"onUpdate:loading":e[1]||(e[1]=a=>x.value=a),finished:D.value,"finished-text":"",onLoad:F},{default:m((()=>[(d(!0),p(y,null,b(g(S).arr,((a,s)=>(d(),j(n,{key:s,"before-close":P,class:"itemContent"},{default:m((()=>[v("div",{class:"cell",onClick:s=>(a=>{o.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[v("p",E,h(a.title),1),v("p",{class:"font_2",innerHTML:O(a.content)},null,8,H),v("div",I,[M,v("span",null,h(g(l)(a.optTime)),1)])],8,A)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});S.__scopeId="data-v-18b9a379";export{S as default};
