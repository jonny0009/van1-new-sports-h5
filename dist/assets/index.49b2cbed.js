import{_ as a}from"./noData.663f85f3.js";import{u as s,m as e,b as t,k as n,I as l}from"./index.c94de0dd.js";import{s as o,d as i,e as r,j as c,r as u,o as d,R as v,q as f,O as p,u as g,P as m,S as h,a2 as _,F as y,Z as k,V as x,c as $,W as b,X as C}from"./vue.e791136f.js";const j={class:"notice"},w={class:"content"},D={key:0,class:"noData"},T=(a=>(b("data-v-8d0a3b90"),a=a(),C(),a))((()=>m("img",{class:"img_1",src:a},null,-1))),I={key:1,class:"list"},L=["onClick"],M={class:"font_1"},q=["innerHTML"],A={class:"font_3"};var E=o({setup(a){const{t:o}=s(),b=x(),C=o("user.news"),E=i(!1),H=i(!1),S=r({arr:[]});c((async()=>{}));let z=0;const F=async()=>{z++;const a={page:z,pageSize:20},s=await e(a),n=s.data;200===s.code?(n.messages.forEach((a=>{S.arr.push(a)})),E.value=!1,H.value=S.arr.length===n.totalCount):(t(s.msg),E.value=!1,H.value=!0)},O=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${l}${e}`)})),a}return""},P=a=>{console.log(a,"单个删除====")};return(a,s)=>{const e=u("van-icon"),t=u("van-nav-bar"),l=u("van-swipe-cell"),o=u("van-list");return d(),v("div",j,[f(t,{class:"bg-title",title:g(C)},{left:p((()=>[f(e,{name:"arrow-left",class:"img_1",onClick:s[0]||(s[0]=a=>{b.push({path:"/home"})})})])),_:1},8,["title"]),m("div",w,[!g(S).arr.length&&H.value?(d(),v("div",D,[T,m("p",null,h(a.$t("user.noData")),1)])):_("",!0),g(S).arr.length||!H.value?(d(),v("div",I,[f(o,{loading:E.value,"onUpdate:loading":s[1]||(s[1]=a=>E.value=a),finished:H.value,"finished-text":a.$t("live.noMore"),"loading-text":a.$t("user.loadingText"),onLoad:F},{default:p((()=>[(d(!0),v(y,null,k(g(S).arr,((s,e)=>(d(),$(l,{key:e,"before-close":P,class:"itemContent"},{default:p((()=>[m("div",{class:"cell",onClick:a=>(a=>{b.push({path:"/user/noticeDetail",query:{id:a.id}})})(s)},[m("p",M,h(s.title),1),m("p",{class:"font_2",innerHTML:O(s.content)},null,8,q),m("div",A,[m("span",null,h(a.$t("user.lookInfo")),1),m("span",null,h(g(n)(s.optTime)),1)])],8,L)])),_:2},1024)))),128))])),_:1},8,["loading","finished","finished-text","loading-text"])])):_("",!0)])])}}});E.__scopeId="data-v-8d0a3b90";export{E as default};
