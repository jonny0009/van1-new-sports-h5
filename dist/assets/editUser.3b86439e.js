import{_ as a}from"./edit.4295f099.js";import{_ as s}from"./pitch.818e46e3.js";import{s as e,b as l,d as i,j as t,r as c,o as r,R as o,q as d,O as n,P as u,B as v,V as p,W as m,X as f}from"./vue.85a22cc6.js";import{p as g,u as y,s as h}from"./index.d5bee19a.js";import{d as k,s as I,I as x,j as _}from"./index.60680413.js";const j=a=>(m("data-v-6a78cc16"),a=a(),f(),a),b={class:"editUser"},w={class:"content"},C={class:"head"},V=["src"],N={class:"edit-name"},P=j((()=>u("span",null,"编辑昵称",-1))),U=j((()=>u("p",{class:"explain"},"个人简介",-1))),$={class:"explain-box"},q=j((()=>u("p",{class:"explain privacy"},"隐私设置",-1))),z={class:"account-1"},B={class:"top-1"},O={key:0,class:"img_1",src:s,alt:""},R=v(" 公开帐户（推荐） "),W=j((()=>u("div",{class:"top-2"}," 其他用户可以直接关注你，查看你的档案和注单。你还是可以隐藏具体的注单。这是默认设置。 ",-1))),X={class:"account-1"},A={class:"top-1"},D={key:0,class:"img_1",src:s,alt:""},E=v(" 私密帐户 "),F=j((()=>u("div",{class:"top-2"}," 其他用户只有在你接受他们的关注请求时才能看到你的档案和注单。你在平台的体验会比较私密。 ",-1)));var G=e({setup(s){const e=l((()=>I.state.user.userInfo)),v=p(),m=i(""),f=i(0),j=i({}),G=a=>{v.push("/user"+a)},H=async a=>{if(f.value===a)return;f.value=a;const s={privacy:f.value},e=await h(s);if(200!==e.code)return k(e.msg);k("编辑成功")},J=i("编辑档案");t((()=>{K()}));const K=async()=>{const a={fPlayerId:e.value.playerId},s=await g(a);if(200!==s.code)return k(s.msg);m.value=s.data.profiles,f.value=s.data.privacy,j.value=s.data};return(s,e)=>{const l=c("van-nav-bar"),i=c("van-field");return r(),o("div",b,[d(l,{class:"bg-title",title:J.value,border:!1},{left:n((()=>[u("span",{onClick:e[0]||(e[0]=a=>{v.push("/user/userInfo")})},"取消")])),right:n((()=>[u("span",{onClick:e[1]||(e[1]=a=>(async()=>{const a={nickName:"",headImg:"",profiles:m.value},s=await y(a);if(200!==s.code)return k(s.msg);k("编辑成功"),I.dispatch("user/userInfo"),v.push("/user/userInfo")})())},"保存")])),_:1},8,["title"]),u("div",w,[u("div",C,[u("img",{class:"img_1",src:(t=j.value.headImg,t?`${x}${t}`:_),alt:""},null,8,V),u("div",{class:"edit",onClick:e[2]||(e[2]=a=>G("/editImg"))},"编辑")]),u("div",N,[P,u("img",{class:"img_1",src:a,alt:"",onClick:e[3]||(e[3]=a=>G("/editName"))})]),U,u("div",$,[d(i,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),rows:"10",autosize:"",type:"textarea",maxlength:"256","show-word-limit":""},null,8,["modelValue"])]),q,u("div",z,[u("div",B,[0===f.value?(r(),o("img",O)):(r(),o("div",{key:1,class:"round",onClick:e[5]||(e[5]=a=>H(0))})),R]),W]),u("div",X,[u("div",A,[1===f.value?(r(),o("img",D)):(r(),o("div",{key:1,class:"round",onClick:e[6]||(e[6]=a=>H(1))})),E]),F])])]);var t}}});G.__scopeId="data-v-6a78cc16";export{G as default};
