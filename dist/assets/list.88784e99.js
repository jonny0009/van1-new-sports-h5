import{u as e,s as a,I as l,q as t,m as s}from"./index.8226d389.js";import{u as i}from"./useMatch.95997972.js";import{s as n,a as o}from"./s_hot2.bba3cb3a.js";import{s as v,b as m,d as u,r as c,E as r,o as d,S as p,P as g,q as h,O as _,u as y,V as f,a0 as b,c as T,x as k,j as w,e as B,F as x,Z as F,_ as N,X as I,Y as M}from"./vue.6c3ce548.js";import{a as j,n as R}from"./index.773c93cb.js";const H={class:"item"},L={class:"item-photo"},E=["src"],S={key:0,class:"state"},$={class:"footer"},D=["innerHTML"],C={key:1},K={key:1,class:"mask-reseve"},O={class:"item-title"},V={class:"item-team"},A={class:"cell"},P={class:"head"},U={type:4,alt:""},q={class:"score"},z={class:"cell"},X={class:"head"},Y={type:5,alt:""},Z={class:"score"},G={class:"item-desc"},J={class:"name"},Q={class:"hots"},W=["src"];var ee=v({props:{item:{type:Object,default:()=>{}}},setup(s){const v=s,{t:w}=e(),B=m((()=>a.state.app.theme)),x=m((()=>"blue"==B.value?n:o)),F=u(l),N=i(),I=m((()=>{var e;return null==(e=v.item)?void 0:e.gameInfo})),M=m((()=>{const e=v.item;return e.anchorId?l+e.cover:"BK"==e.gameType?l+"FE/common/live/img_video_bg_BK.jpg":l+"FE/common/live/img_video_bg_FT.jpg"})),j=m((()=>{const e=v.item.watchTotal.toLocaleString();return"RB"==v.item.showType?w("live.xLooks",{num:e}):w("live.xReserve",{num:e})})),R=m((()=>({FT:"live-football",BK:"live-basketball",TN:"live-tennisball",OP_BM:"live-badminton"}[v.item.gameType])));return(e,a)=>{const l=c("van-image"),i=c("SvgIcon"),n=r("img");return d(),p("div",H,[g("div",L,[h(l,{src:y(M),fit:"cover"},{error:_((()=>[g("img",{src:F.value+"FE/common/live/img_video_bg_FT.jpg",alt:""},null,8,E)])),_:1},8,["src"]),"RB"==s.item.showType?(d(),p("div",S,f(e.$t("live.hotNow")),1)):b("",!0),g("div",$,["RB"==s.item.showType?(d(),p("span",{key:0,innerHTML:y(N).showRBTime(s.item)},null,8,D)):(d(),p("span",C,f(y(t)(s.item.gameDate,"MM-DD HH:mm")),1))]),"RB"!=s.item.showType?(d(),p("div",K,[g("span",null,f(e.$t("live.xHas",{num:y(j)})),1),g("span",null,f(e.$t("live.playNow")),1)])):b("",!0)]),g("div",O,[y(R)?(d(),T(i,{key:0,name:y(R)},null,8,["name"])):b("",!0),g("strong",null,f(s.item.leagueName),1)]),g("div",V,[g("div",A,[g("div",P,[k(g("img",U,null,512),[[n,s.item.homeLogo]]),g("span",null,f(s.item.homeTeam),1)]),g("div",q,[g("span",null,f(y(I).sc_game_H||y(I).sc_FT_H),1)])]),g("div",z,[g("div",X,[k(g("img",Y,null,512),[[n,s.item.awayLogo]]),g("span",null,f(s.item.awayTeam),1)]),g("div",Z,[g("span",null,f(y(I).sc_game_A||y(I).sc_FT_C||y(I).sc_FT_A),1)])])]),g("div",G,[g("div",J,f(s.item.nickname||s.item.leagueShortName),1),g("div",Q,[g("img",{src:y(x),alt:""},null,8,W),g("span",null,f(y(j)),1)])])])}}});ee.__scopeId="data-v-183f013e";const ae={class:"tab-title"},le={key:0,class:"next"},te=(e=>(I("data-v-44698982"),e=e(),M(),e))((()=>g("div",{class:"img"},[g("img",{src:"/assets/no_an_ma.134981fa.png",alt:""})],-1))),se=["innerHTML"],ie={class:"grid-wrapper"};var ne=v({setup(l){w((()=>{}));const t=m((()=>a.state.app.showFixedBet)),{t:i}=e(),n=B([{type:"RB",title:i("live.hot"),iconName:"live-hot"},{type:"FT",title:i("live.football"),iconName:"live-football"},{type:"BK",title:i("live.basketball"),iconName:"live-basketball"},{type:"TN",title:i("live.tennisball"),iconName:"live-tennisball"},{type:"OP_BM",title:i("live.badminton"),iconName:"live-badminton"}]),o=u("RB"),v=u(-1),r=u("");let k=0;const I=u([]),M=u(!1),H=u(!1),L=u(!1),E=async()=>{L.value&&(I.value=[],L.value=!1),k++;const e={page:k,pageSize:20};"RB"===o.value?e.rbType=1:e.gameType=o.value;const a=await j(e),l=a.data;if(M.value=!1,200===a.code){if(0===l.list.length){const e=await R();return void(200===e.code&&e.data&&(H.value=!0,v.value=e.data-(new Date).getTime(),setInterval((()=>{v.value-=1,v.value<=0&&S(),D()}),1e3)))}l.list.forEach((e=>{I.value.push(e)})),H.value=I.value.length===l.total}else H.value=!0},S=()=>{k=0,H.value=!1,M.value=!0,E()},$=()=>{L.value=!0,S()},D=()=>{function e(e){return e<10?"0"+e:e}const a=v.value;let l=parseInt(a/3600%24),t=parseInt(a/60%60),s=parseInt(a%60);l=e(l),t=e(t),s=e(s),r.value=l+":"+t+":"+s};return(e,a)=>{const l=c("SvgIcon"),i=c("EmptyData"),m=c("van-list"),u=c("van-pull-refresh"),k=c("van-tab"),w=c("van-tabs");return d(),p("div",{class:N(["live-page",{"has-bet":y(t)}])},[h(w,{active:o.value,"onUpdate:active":a[2]||(a[2]=e=>o.value=e),swipeable:"",sticky:"",shrink:"","offset-top":"12.8vw","line-height":"0",onChange:$},{default:_((()=>[(d(!0),p(x,null,F(y(n),((t,n)=>(d(),T(k,{key:n,name:t.type},{title:_((()=>[g("div",ae,[h(l,{name:t.iconName},null,8,["name"]),g("span",null,f(t.title),1)])])),default:_((()=>[0===I.value.length&&v.value>0?(d(),p("div",le,[te,g("p",{innerHTML:e.$t("live.nextAM",{num:r.value})},null,8,se)])):b("",!0),v.value<=0?(d(),T(u,{key:1,modelValue:L.value,"onUpdate:modelValue":a[1]||(a[1]=e=>L.value=e),onRefresh:S},{default:_((()=>[H.value&&0===I.value.length?(d(),T(i,{key:0})):b("",!0),h(m,{loading:M.value,"onUpdate:loading":a[0]||(a[0]=e=>M.value=e),finished:H.value,"finished-text":0==I.value.length?"":e.$t("live.noMore"),onLoad:E},{default:_((()=>[g("div",ie,[(d(!0),p(x,null,F(I.value,(e=>(d(),p("div",{key:e.gidm,class:"flex-item"},[h(ee,{item:e,onClick:a=>(e=>{s.push(`/match/${e.gidm}`)})(e)},null,8,["item","onClick"])])))),128))])])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["modelValue"])):b("",!0)])),_:2},1032,["name"])))),128))])),_:1},8,["active"])],2)}}});ne.__scopeId="data-v-44698982";export{ne as default};
