import{g as e,b as a,c as t}from"./index.8c8eef35.js";import{u as s,A as l,N as n,O as o,p as i,s as c}from"./index.cb503d4e.js";import{s as r,d as u,b as d,r as p,o as m,S as v,P as f,u as h,F as g,_ as b,Z as y,V as I,q as w,B as $,c as k,O as T,X as M,Y as j,M as x,a as B,w as C,R as _,W as A,$ as O}from"./vue.7833d4f2.js";const R=e=>(e=>{const a=[];let t=-1,s=-1,l=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(s++,l=s,n=0,o=!1,t=c,a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n++]=1e3*e[i],0===t&&a[s][0]++):0===c?a[l][n-1]++:o||6===n||0!==a[s][n]?(o=!0,l++,1===n&&(s=l),a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n-1]=1e3*e[i]):a[s][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),E=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)},L={class:"content"},U={class:"table-cover"},D=["src"],S={class:"table-road-list"},W={class:"good-bg"},z={class:"title-1"},V={class:"title-2"},K={class:"bottom"},N={class:"table-name"},P={class:"right"},X={class:"bet-money"},F={class:"number"};var q=r({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,{t:c}=s(),r=u(!1),k=d((()=>{if(r.value||!t.tableInfo.tableCover){const e=Math.round(88*Math.random()+1);return new URL(`/casinoBg/user/${e}.png`,import.meta.url).href}return t.tableInfo.tableCover})),T=["he","xian","zhuang","zhuang"],M=d((()=>{let e=R(t.tableInfo.wins||[]);if(E(e)){const a=[];let t=0;e.forEach(((e,s)=>{0===s&&e[0]<1e3?t=e[0]:1===s&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const s=e[t];for(let e=0;e<s.length;e++){let l=s[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===l){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=l<10?l:l>1e3?l%1e3:l%10,1===l&&(l=0);l=Math.floor(l/1e3)%10,3===l&&(l=2);const c=l%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${T[c]} line`):n=`box ${T[c]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),j=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},x=async()=>{const a=t.tableInfo.tableId;n({duration:2e4,message:c("home.loading")});const s=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===s?.code){o();const e=`${s.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||i()}&brandType=1&tableId=${a}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=e}};return(e,t)=>{const s=p("SvgIcon");return m(),v("div",{class:"table-info-component",onClick:x},[f("div",L,[f("div",U,[f("img",{src:h(k),onError:t[0]||(t[0]=e=>r.value=!0),style:{"object-fit":"contain"}},null,40,D)]),f("div",S,[(m(!0),v(g,null,b(h(M),((e,a)=>(m(),v("div",{class:"road-col",key:a},[(m(!0),v(g,null,b(e,((e,a)=>(m(),v("div",{class:"road-item",key:a},[f("span",{class:y(["round",e])},null,2)])))),128))])))),128))]),f("div",W,[f("div",z,I(j(a.tableInfo.goodRoadTitle).str1),1),f("div",V,"x"+I(j(a.tableInfo.goodRoadTitle).str2),1)])]),f("div",K,[f("span",N,I(a.tableInfo.tableName),1),f("div",P,[f("div",X,[w(l,{"class-name":"mr3 fs24"}),$(" "+I(a.tableInfo.tableLimitMin||0),1)]),f("div",F,[w(s,{name:"home-users",class:"users-icon"}),$(" "+I(a.tableInfo.tablePlayers||0),1)])])])])}}});q.__scopeId="data-v-cfc56b74";class Y{constructor(e,a){e&&(this.iframe=e),window.addEventListener("message",(e=>{const{type:t,data:s}=e?.data;"close"==t&&a?.()}),!1)}resetDom(e){this.iframe=e}intoRoom(e){this.iframe&&this.iframe.contentWindow.postMessage({type:"intoRoom",tableId:e},"*")}closeBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"closeAudio"},"*")}openBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"openAudio"},"*")}refreshBalance(){this.iframe&&this.iframe.contentWindow.postMessage({type:"refreshBalance"},"*")}}const Z={class:"good-road-view"},G={class:"title"},H=(e=>(M("data-v-758acff4"),e=e(),j(),e))((()=>f("span",{class:"units-icon"},null,-1))),J={class:"units-title"},Q={key:1,class:"list"},ee=["src"];var ae=r({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(a){const{t:t}=s(),l=u(!1),c=u(),r=u(),d=u(""),h=async()=>{l.value=!l.value;n({duration:2e4,message:t("home.loading")});const a=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2}).finally((()=>{o()}));if(r.value||(r.value=new Y(c.value,(()=>{l.value=!1}))),200===a?.code){const e=localStorage.getItem("locale")||i(),t=a.data.url.replace("&isAi=1","");d.value=`${t}&language=${e}#/multiple`}};return(e,t)=>{const s=p("Loading"),n=p("EmptyData"),o=p("van-popup");return m(),v(g,null,[f("section",Z,[f("div",G,[f("span",null,I(e.$t("home.casinoTitleObj.title1")),1),f("div",{class:"multiple-units",onClick:h},[H,f("span",J,I(e.$t("home.mulBet")),1)])]),a.loading?(m(),k(s,{key:0})):a.list.length?(m(),v("div",Q,[(m(!0),v(g,null,b(a.list,((e,a)=>(m(),k(q,{key:a,"table-info":e},null,8,["table-info"])))),128))])):(m(),k(n,{key:2}))]),w(o,{round:"",show:l.value,"onUpdate:show":t[0]||(t[0]=e=>l.value=e),position:"bottom",teleport:"body",style:{height:"84%"}},{default:T((()=>[f("iframe",{width:"100%",ref_key:"iframeRef",ref:c,height:"100%",style:{border:"none"},src:d.value,frameborder:"0"},null,8,ee)])),_:1},8,["show"])],64)}}});ae.__scopeId="data-v-758acff4";const te={class:"table-cover"},se=["src"],le={class:"table-road-list"},ne={class:"table-name"},oe={class:"bottom"},ie={class:"bet-money"},ce={class:"number"};var re=r({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,{t:c}=s(),r=u(!1),k=d((()=>{if(r.value||!t.tableInfo.tableCover){let e=Math.round(29*Math.random()+1);return e>30&&(e%=30),new URL(`/casinoBg/bg/${e}.jpg`,import.meta.url).href}return t.tableInfo.tableCover})),T=["he","xian","zhuang","zhuang"],M=d((()=>{let e=R(t.tableInfo.wins||[]);if(E(e)){const a=[];let t=0;e.forEach(((e,s)=>{0===s&&e[0]<1e3?t=e[0]:1===s&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const s=e[t];for(let e=0;e<s.length;e++){let l=s[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===l){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=l<10?l:l>1e3?l%1e3:l%10,1===l&&(l=0);l=Math.floor(l/1e3)%10,3===l&&(l=2);const c=l%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${T[c]} line`):n=`box ${T[c]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),j=async()=>{const a=t.tableInfo.tableId;n({duration:2e4,message:c("home.loading")});const s=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===s?.code){o();const e=`${s.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||i()}&brandType=1&tableId=${a}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=e}};return(e,t)=>{const s=p("SvgIcon");return m(),v("div",{class:"table-info-component",onClick:j},[f("div",te,[f("img",{src:h(k),onError:t[0]||(t[0]=e=>r.value=!0),style:{"object-fit":"contain"}},null,40,se)]),f("div",le,[(m(!0),v(g,null,b(h(M),((e,a)=>(m(),v("div",{class:"road-col",key:a},[(m(!0),v(g,null,b(e,((e,a)=>(m(),v("div",{class:"road-item",key:a},[f("span",{class:y(["round",e])},null,2)])))),128))])))),128))]),f("div",ne,I(a.tableInfo.tableName),1),f("div",oe,[f("span",ie,[w(l,{"class-name":"mr3 fs24"}),$(" "+I(a.tableInfo.tableLimitMin||0),1)]),f("span",ce,[w(s,{name:"home-users",class:"users-icon"}),$(" "+I(a.tableInfo.tablePlayers||0),1)])])])}}});re.__scopeId="data-v-d24f492e";const ue={class:"good-road-view"},de={class:"title"},pe={key:1,class:"list"};var me=r({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const s=p("Loading"),l=p("EmptyData");return m(),v("section",ue,[f("div",de,I(a.$t("home.casinoTitleObj.title2")),1),e.loading?(m(),k(s,{key:0})):e.list.length?(m(),v("div",pe,[(m(!0),v(g,null,b(e.list,((e,a)=>(m(),k(re,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(m(),k(l,{key:2}))])}});me.__scopeId="data-v-ce3f15ec";const ve={key:0,class:"maintenance-view"},fe={class:"maintenance-title"},he={key:0,class:"maintenance-subtitle"},ge={key:1,class:"maintenance-timer"};var be=r({setup(e){const s=d((()=>c.state.app.showFixedBet)),l=d((()=>c.state.app.theme)),n=d((()=>"blue"===l.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),o=u(!1),i=u(!1),r=u({}),p=u([]),b=u([]),$=u(),k=u(""),T=u(!0),M=u(!0);x((()=>{j(),R()})),B((()=>{clearInterval($.value)})),clearInterval($.value),$.value=setInterval((()=>{j(),R()}),1e4);const j=async()=>{const e=await a();T.value=!1;const t=e?.data||[];p.value=t.slice(0,2)},R=async()=>{const e=await t();M.value=!1,503===e?.data?.code?(o.value=!0,r.value=e?.data?.data):o.value=!1,b.value=e?.data?.data||[]};C((()=>o.value),(()=>{o.value&&E()}));const E=()=>{const e=r.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return i.value=!1,!1;i.value=!0;const t=a-(new Date).getTime();let s,l,n;t>=0&&(s=Math.floor(t/1e3/60/60),l=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),s=s<10?"0"+s:s,l=l<10?"0"+l:l,n=n<10?"0"+n:n,k.value=`${s}:${l}:${n}`,setTimeout(E,1e3))},L=_(),U=()=>{L.push("/home")};return(e,a)=>(m(),v("div",{class:y(["casino-page",{"has-bet":h(s)}])},[o.value?(m(),v("div",ve,[f("div",{class:"maintenance-icon",style:A({backgroundImage:`url(${h(n)})`})},null,4),f("div",fe,I(e.$t("home.casinoTitleObj.title3")),1),i.value?(m(),v("div",he,I(e.$t("home.casinoTitleObj.title4")),1)):O("",!0),i.value?(m(),v("div",ge,I(k.value),1)):O("",!0),f("div",{class:"go-btn",onClick:U},I(e.$t("home.casinoTitleObj.gohome")),1)])):(m(),v(g,{key:1},[w(ae,{list:p.value,loading:T.value},null,8,["list","loading"]),w(me,{list:b.value,loading:M.value},null,8,["list","loading"])],64))],2))}});be.__scopeId="data-v-2b7a0d37";export{be as default};
