var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{t as n,a as i}from"./title-recommend.e2b9b6c8.js";import{s as v,d as c,r,o as d,S as m,P as p,F as g,Z as y,c as h,O as b,V as f,B as k,q as T,_ as S,X as _,Y as C,E as w,u as I,x as L,y as x,a5 as D,b as V,j as F,g as j,n as O,a0 as $}from"./vue.7b2d67a6.js";import{c as A,d as M}from"./index.ab790f87.js";import{_ as N}from"./index.522993d9.js";import{r as U,c as H}from"./index.b595174b.js";import{s as z,O as B}from"./index.b6f55c77.js";const P={class:"league-champion-item__content"},Y={class:"betting-select"},q={class:"betting-select__list"},E={class:"up-betting-name betslipLine"},G={class:"text"},R=(e=>(_("data-v-27cd4b68"),e=e(),C(),e))((()=>p("span",{class:"point"},null,-1))),X={class:"details"},Z={class:"container"},J={class:"item"};var K=v({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=c(!1),t=c();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,u)=>{const s=r("BettingOption"),o=r("van-icon");return d(),m("div",P,[p("div",Y,[p("div",q,[(d(!0),m(g,null,y(t.value,((e,a)=>(d(),h(s,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:b((()=>[p("span",E,[p("span",G,f(e.ratio),1),R]),p("div",X,[p("div",Z,[p("div",J,f(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),p("div",{class:"betting-select__more",onClick:u[0]||(u[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(f(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),T(o,{class:S(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});K.__scopeId="data-v-27cd4b68";const Q={class:"sport-champion-list"},W={class:"champion-title"},ee={class:"champion-group-body"},ae={class:"league-champion-item__header"},le={class:"icon"},te={class:"title"};var ue=v({props:{championList:{type:Array,default:function(){return[]}},championListLoading:{type:Boolean,default:function(){return!1}}},setup(e,{expose:a}){const l=c(),t=c(!0),u=e=>{l.value.activeVal=e,t.value=!e};return a({CloseClick:u}),(a,s)=>{const o=r("ArrowTitle"),i=r("Loading"),v=r("HomeEmpty"),c=w("img");return d(),m("div",Q,[p("div",W,[T(o,{class:"mt10 mb10 goodArrowTitle",ref_key:"championArrowTitle",ref:l,src:I(n),text:a.$t("sport.champion"),onReturnSuccess:u},null,8,["src","text"])]),L(p("div",ee,[e.championListLoading?(d(),h(i,{key:0})):(d(),m(g,{key:1},[e.championList.length?(d(!0),m(g,{key:0},y(e.championList,((e,a)=>(d(),m("div",{key:a,class:"league-champion-item"},[p("div",ae,[L(p("img",le,null,512),[[c,I(A)]]),p("div",te,f(e.champion.championType),1)]),T(K,{"game-detail":e},null,8,["game-detail"])])))),128)):(d(),h(v,{key:1}))],64))],512),[[x,t.value]])])}}});ue.__scopeId="data-v-1aad4ddc";const se={class:"sport-page"},oe={key:0,class:"tabs-cut"},ne={class:"league-match-num"},ie={class:"collapseAll"},ve={type:"1",class:"collapse-name"},ce={class:"collapse-title"},re={class:"collapse-num"},de=["onClick"],me=["onClick"],pe={class:"recommend-list"},ge={class:"early-list"},ye={key:0,class:"recommend-list"};var he=v({setup(e){const v=D(),k=V((()=>{var e;return(null==(e=v.params)?void 0:e.type)||"FT"})),_=c(k.value),C=c(),x=e=>{var a;P.value="b1",Y.value="c1",null==(a=null==G?void 0:G.value)||a.changeClick(!1),Ne.value=!1,q.value=[],_.value=e,z.dispatch("user/getLocationHeight",!1),be()},A=c("1"),P=c("b1"),Y=c("c1"),q=c([""]),E=c(),G=c(),R=c(v.query.leagueId),X=c(),Z=c(),J=c(1),K=c(10),Q=c(1),W=c(10),ee=c(!1),ae=c(!1),le=c(!1),te=V((()=>z.state.user.locationHeight));F((()=>{}));const he=()=>{le.value=!1,be()},be=()=>{R.value="",J.value=1,Q.value=1,_e(),fe()},fe=async()=>{if(R.value){const e=c({gradeType:1,gameTypeSon:"",showtype:"FU",timeStage:0,gameSort:1,dateStage:0,isNovice:"Y",onlyFavorite:0,gameType:_.value,leagueIds:R.value,page:1,pageSize:20});Fe(e.value),$e()}else{const e=c({gradeType:1,gameTypeSon:"",gameType:_.value,showtype:"FU",timeStage:0,gameSort:1,dateStage:0,isNovice:"Y",leagueIds:"",onlyFavorite:0,page:1,pageSize:10});Fe(e.value);const a=c({gradeType:2,gameTypeSon:"",gameType:_.value,showtype:"FT",timeStage:0,gameSort:1,dateStage:0,isNovice:"Y",leagueIds:"",onlyFavorite:0,page:1,pageSize:10});Fe(a.value)}},ke=c([]),Te=c({}),Se=c([]),_e=async()=>{var e;if(ke.value=[],q.value=[],_.value){const a=await U({gameType:_.value,showType:"FU"})||{};200===a.code&&a.data?(ke.value=a.data.list||[],Te.value=a.data,Se.value=null==(e=a.data.list)?void 0:e.reduce(((e,a)=>{let l=a.countryId;return e[l]||(e[l]=[]),e[l].push(a),e}),{})):ke.value=[]}},Ce=c(!1),we=async()=>{var e,a,l,t;if(ee.value)return;Q.value=Q.value+1;const u=c({gameTypeSon:"",showtype:"FT",timeStage:0,gameSort:1,dateStage:0,isNovice:"Y",leagueIds:"",onlyFavorite:0,gameType:_.value,gradeType:2,page:Q.value,pageSize:W.value});Ce.value=!0;const s=await H(u.value)||{};200===s.code&&(null==(a=null==(e=s.data)?void 0:e.matchList)?void 0:a.baseData)&&(null==(t=null==(l=s.data)?void 0:l.matchList)?void 0:t.baseData.length)&&De.value.push(...s.data.matchList.baseData),De.value.length<Q.value*W.value?ee.value=!0:ee.value=!1,Ce.value=!1},Ie=c(!1),Le=async()=>{var e,a,l,t;if(ae.value)return;J.value=J.value+1;const u=c({gameTypeSon:"",showtype:"FU",timeStage:0,gameSort:1,dateStage:0,isNovice:"Y",leagueIds:"",onlyFavorite:0,gameType:_.value,gradeType:1,page:J.value,pageSize:K.value});Ie.value=!0;const s=await H(u.value)||{};200===s.code&&(null==(a=null==(e=s.data)?void 0:e.matchList)?void 0:a.baseData)&&(null==(t=null==(l=s.data)?void 0:l.matchList)?void 0:t.baseData.length)&&xe.value.push(...s.data.matchList.baseData),xe.value.length<J.value*K.value?ae.value=!0:ae.value=!1,Ie.value=!1},xe=c([]),De=c([]),Ve=c(!1),Fe=async e=>{var a,l,t,u;if(_.value){Ve.value=!1;const s=await H(e)||{};Ve.value=!0;let o=[];200===s.code&&(null==(l=null==(a=s.data)?void 0:a.matchList)?void 0:l.baseData)&&(null==(u=null==(t=s.data)?void 0:t.matchList)?void 0:u.baseData.length)&&(o=s.data.matchList.baseData),1===e.gradeType||R.value?o.length?(X.value=o[0].leagueLogo,Z.value=o[0].leagueShortName,xe.value=o):(X.value="",Z.value="",xe.value=[]):2===e.gradeType&&(o.length?De.value=o:De.value=[])}},je=c([]),Oe=c(!1),$e=async()=>{var e;if(R.value){Oe.value=!0;const n=await M({page:1,pageSize:10,leagueIds:R.value})||{};if(Oe.value=!1,200===n.code&&n.data){const i=((null==(e=null==n?void 0:n.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:n,gameId:i,gidm:v,gameType:c}=e,r=e.champion.playType,d=e.champion.championType,m=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var p;return e.marketInfo=new B((p=((e,a)=>{for(var l in a||(a={}))u.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&o(e,l,a[l]);return e})({},e),a(p,l({systemId:n,gameId:i,gidm:v,gameType:c,playType:r,sw:m,championType:d})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));je.value=i}}else je.value=[]},Ae=e=>{var a,l;q.value=[],Ne.value=!1,A.value="1",null==(a=null==G?void 0:G.value)||a.changeClick(!1),null==(l=null==E?void 0:E.value)||l.CloseClick(!1),R.value=e.leagueId,fe()},Me=()=>{var e,a;q.value=[],A.value="1",null==(e=null==G?void 0:G.value)||e.changeClick(!1),null==(a=null==E?void 0:E.value)||a.CloseClick(!1),"all"===R.value&&(R.value=""),R.value&&(Ne.value=!1),fe()},Ne=c(!1),Ue=()=>{Ne.value=!Ne.value};return j((async()=>{var e,a,l,t,u,s;if(Ne.value=!1,te.value)return;"yes"===((null==(e=v.query)?void 0:e.ischampion)||"")?(A.value="2",null==(a=null==G?void 0:G.value)||a.changeClick(!0),null==(l=null==E?void 0:E.value)||l.CloseClick(!1)):(A.value="1",null==(t=null==G?void 0:G.value)||t.changeClick(!1),null==(u=null==E?void 0:E.value)||u.CloseClick(!1)),R.value=(null==(s=v.query)?void 0:s.leagueId)||"",_e(),fe(),O((()=>{var e;null==(e=C.value)||e.setSports(_.value)}))})),(e,a)=>{const l=r("SportsTabs"),t=r("SvgIcon"),u=r("van-tab"),s=r("ImageButton"),o=r("van-tabs"),v=r("van-collapse-item"),c=r("van-collapse"),k=r("ArrowTitle"),D=r("Loading"),V=r("HomeMatchHandicap"),F=r("HomeEmpty"),j=r("van-pull-refresh"),O=r("FooterHeight"),M=w("img");return d(),m("div",se,[T(l,{ref_key:"refSportsTabs",ref:C,class:"pt20",onReturnSportsSuccess:x},null,512),T(j,{modelValue:le.value,"onUpdate:modelValue":a[5]||(a[5]=e=>le.value=e),onRefresh:he},{default:b((()=>[ke.value.length?(d(),m("div",oe,[T(o,{duration:.2,active:R.value,"onUpdate:active":a[0]||(a[0]=e=>R.value=e),shrink:"","line-height":"0",onChange:Me,"swipe-threshold":3},{default:b((()=>[T(u,{name:"all"},{title:b((()=>[p("div",{class:S(["league-num tabs-cut-1",Ne.value?"league-num-1":""]),onClick:Ue},[p("span",null,f(e.$t(`user.sports.${_.value}`)),1),p("span",ne,f(Te.value.total||0),1),T(t,{name:"user-down",class:"icon-svg-1"})],2)])),_:1}),T(u,{name:""},{title:b((()=>[T(N,{class:"tabs-cut-1",text:e.$t("sport.recommend"),active:!R.value},null,8,["text","active"])])),_:1}),(d(!0),m(g,null,y(ke.value,((e,a)=>(d(),h(u,{key:a,name:e.leagueId},{title:b((()=>[T(s,{class:"tabs-cut-1",text:e.leagueName,src:e.homeLeagueLogo,active:R.value===e.leagueId,type:"6",count:e.gameTypeCount||"0",ifCircle:!0},null,8,["text","src","active","count"])])),_:2},1032,["name"])))),128))])),_:1},8,["duration","active"])])):$("",!0),Ne.value?(d(),h(c,{key:1,modelValue:q.value,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value=e),border:!1},{default:b((()=>[(d(!0),m(g,null,y(Se.value,((e,a)=>(d(),h(v,{name:e[0].countryId,border:!1,key:a},{title:b((()=>[p("div",ie,[L(p("img",ve,null,512),[[M,e[0].countryFlag]]),p("span",ce,f(e[0].countryName||"International"),1),p("span",re,f(e.length),1)])])),default:b((()=>[(d(!0),m(g,null,y(e,((e,a)=>(d(),m("div",{class:"collapse-concent",key:a},[e.gameTypeCount?(d(),m("div",{key:0,onClick:a=>Ae(e)},f(e.leagueName),9,de)):(d(),m("div",{key:1,class:"collapse-concent-1",onClick:a=>Ae(e)},f(e.leagueName),9,me))])))),128))])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])):$("",!0),R.value?$("",!0):(d(),m(g,{key:2},[T(c,{modelValue:P.value,"onUpdate:modelValue":a[2]||(a[2]=e=>P.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(v,{name:"b1"},{title:b((()=>[T(k,{class:"mt10 mb10 goodArrowTitle",src:I(n),text:e.$t("sport.recommend"),ref_key:"leagueArrowTitle",ref:G},null,8,["src","text"])])),default:b((()=>[!Ve.value||Ie.value?(d(),h(D,{key:0})):(d(),m(g,{key:1},[xe.value.length?(d(),m(g,{key:0},[p("div",pe,[(d(!0),m(g,null,y(xe.value,((e,a)=>(d(),h(V,{key:a,"send-params":e},null,8,["send-params"])))),128))]),p("div",{class:S(["Button-MatchMore mt20 mb20",ae.value?"no-more":""]),onClick:Le},[p("span",null,f(ae.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(d(),h(F,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"]),T(c,{modelValue:Y.value,"onUpdate:modelValue":a[3]||(a[3]=e=>Y.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(v,{name:"c1"},{title:b((()=>[T(k,{class:"mt10 mb10 latestArrowTitle",src:I(i),text:e.$t("sport.early"),ref_key:"leagueArrowTitle",ref:G},null,8,["src","text"])])),default:b((()=>[!Ve.value||Ce.value?(d(),h(D,{key:0})):(d(),m(g,{key:1},[De.value.length?(d(),m(g,{key:0},[p("div",ge,[(d(!0),m(g,null,y(De.value,((e,a)=>(d(),h(V,{key:a,"send-params":e},null,8,["send-params"])))),128))]),p("div",{class:S(["Button-MatchMore mt20 mb20",ee.value?"no-more":""]),onClick:we},[p("span",null,f(ee.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(d(),h(F,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"])],64)),R.value?(d(),m(g,{key:3},[T(c,{modelValue:A.value,"onUpdate:modelValue":a[4]||(a[4]=e=>A.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(v,{name:"1"},{title:b((()=>[T(k,{class:"mt10 mb10",src:X.value,type:"6",text:Z.value,ref_key:"leagueArrowTitle",ref:G},null,8,["src","text"])])),default:b((()=>[Ve.value?(d(),m(g,{key:1},[xe.value.length?(d(),m("div",ye,[(d(!0),m(g,null,y(xe.value,((e,a)=>(d(),h(V,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(d(),h(F,{key:1}))],64)):(d(),h(D,{key:0}))])),_:1})])),_:1},8,["modelValue"]),T(ue,{ref_key:"championGuessing",ref:E,"champion-list":je.value,"champion-list-loading":Oe.value},null,8,["champion-list","champion-list-loading"])],64)):$("",!0)])),_:1},8,["modelValue"]),T(O)])}}});he.__scopeId="data-v-0faa7a47";export{he as default};
