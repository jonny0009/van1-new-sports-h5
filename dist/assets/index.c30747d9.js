import{_ as a}from"./return@2x.4016f19d.js";import{_ as s}from"./noData.e74f2b7c.js";import{_ as e}from"./close.9f555966.js";import{m as t,d as l,h as n,I as c}from"./index.4fb7c56f.js";import{s as o,d as r,e as i,j as u,r as d,o as p,R as f,q as m,O as g,P as v,u as h,a1 as _,F as y,Z as b,V as j,c as k,S as C,W as x,X as D}from"./vue.85a22cc6.js";const L=a=>(x("data-v-e3c2ecbc"),a=a(),D(),a),T={class:"notice"},$={class:"content"},q={key:0,class:"noData"},w=[L((()=>v("img",{class:"img_1",src:s},null,-1))),L((()=>v("p",null," 未查询到相关数据 ",-1)))],A={class:"list"},E=["onClick"],H={class:"font_1"},I=["innerHTML"],M={class:"font_3"},S=L((()=>v("span",null,"查看完整讯息",-1))),z=L((()=>v("img",{class:"img_close",src:e},null,-1)));var F=o({setup(s){const e=j(),o=r("消息"),x=r(!1),D=r(!1),L=i({arr:[]});u((async()=>{}));let F=0;const O=async()=>{F++;const a={page:F,pageSize:20},s=await t(a),e=s.data;200===s.code?(e.messages.forEach((a=>{L.arr.push(a)})),x.value=!1,D.value=L.arr.length===e.totalCount):l(s.msg)},P=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${c}${e}`)})),a}return""},R=a=>{console.log(a,"单个删除====")};return(s,t)=>{const l=d("van-nav-bar"),c=d("van-swipe-cell"),r=d("van-list");return p(),f("div",T,[m(l,{class:"bg-title",title:o.value},{left:g((()=>[v("img",{class:"img_1",src:a,alt:"",onClick:t[0]||(t[0]=a=>{e.push({path:"/home"})})})])),_:1},8,["title"]),v("div",$,[h(L).arr.length?_("",!0):(p(),f("div",q,w)),v("div",A,[m(r,{loading:x.value,"onUpdate:loading":t[1]||(t[1]=a=>x.value=a),finished:D.value,"finished-text":"没有更多了",onLoad:O},{default:g((()=>[(p(!0),f(y,null,b(h(L).arr,((a,s)=>(p(),k(c,{key:s,"before-close":R,class:"itemContent"},{right:g((()=>[z])),default:g((()=>[v("div",{class:"cell",onClick:s=>(a=>{e.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[v("p",H,C(a.title),1),v("p",{class:"font_2",innerHTML:P(a.content)},null,8,I),v("div",M,[S,v("span",null,C(h(n)(a.optTime)),1)])],8,E)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});F.__scopeId="data-v-e3c2ecbc";export{F as default};
