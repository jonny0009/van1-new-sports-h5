var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{t as n,a as c}from"./title-recommend.e2b9b6c8.js";import{s as r,d as v,r as i,o as p,R as d,P as m,F as g,Z as y,c as h,O as b,U as f,B as k,q as _,_ as T,X as D,Y as x,E as I,u as w,x as S,y as j,W as M,a4 as O,b as $,w as C,M as V,n as z,a1 as P}from"./vue.469c5994.js";import{c as B,d as L}from"./index.aacea072.js";import{_ as A}from"./index.4eca95c6.js";import{j as H,M as R}from"./index.f54c84f2.js";import{f as U,r as E}from"./index.c082fb89.js";const F={class:"league-champion-item__content"},G={class:"betting-select"},q={class:"betting-select__list"},N={class:"up-betting-name betslipLine"},W={class:"text"},X=(e=>(D("data-v-d8df1f1e"),e=e(),x(),e))((()=>m("span",{class:"point"},null,-1))),Y={class:"details"},Z={class:"container"},J={class:"item"};var K=r({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=v(!1),t=v();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,s)=>{const u=i("BettingOption"),o=i("van-icon");return p(),d("div",F,[m("div",G,[m("div",q,[(p(!0),d(g,null,y(t.value,((e,a)=>(p(),h(u,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:b((()=>[m("span",N,[m("span",W,f(e.ratio),1),X]),m("div",Y,[m("div",Z,[m("div",J,f(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),m("div",{class:"betting-select__more",onClick:s[0]||(s[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(f(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),_(o,{class:T(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});K.__scopeId="data-v-d8df1f1e";const Q={class:"sport-champion-list"},ee={class:"champion-title"},ae={class:"champion-group-body"},le={class:"league-champion-item__header"},te={class:"icon"},se={class:"title"};var ue=r({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const a=v(!0),l=e=>{a.value=!e};return(t,s)=>{const u=i("ArrowTitle"),o=I("img");return p(),d("div",Q,[m("div",ee,[_(u,{class:"mt10 mb10",src:w(n),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),S(m("div",ae,[(p(!0),d(g,null,y(e.championList,((e,a)=>(p(),d("div",{key:a,class:"league-champion-item"},[m("div",le,[S(m("img",te,null,512),[[o,w(B)]]),m("div",se,f(e.champion.championType),1)]),_(K,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[j,a.value]])])}}});ue.__scopeId="data-v-e37cf91c";const oe={class:"sport-page"},ne={key:0,class:"my-scroll__content"},ce={class:"betting-sport-nav"},re={key:0,class:"recommend-list"},ve={key:0,class:"recommend-list"},ie={key:0,class:"early-list"};var pe=r({setup(e){const r=v(""),k=e=>{H.push({name:"Sport",params:{type:e}})},{currentRoute:D}=M(),x=O(),I=v("1"),S=v("b1"),j=v("c1"),B=v(x.query.leagueId),F=$((()=>{var e;return(null==(e=x.params)?void 0:e.type)||"FT"})),G=v(),q=v(),N=v(1),W=v(10),X=v(1),Y=v(10),Z=v(!1),J=v(!1);C((()=>D.value),(()=>{B.value="",N.value=1,X.value=1,ee(),K()}));const K=async()=>{if(B.value){const e=v({gameType:F.value,leagueId:B.value,page:1,pageSize:20});ge(e.value),he()}else{const e=v({gameType:F.value,gradeType:1,page:N.value,pageSize:W.value});ge(e.value);const a=v({gameType:F.value,gradeType:2,page:X.value,pageSize:Y.value});ge(a.value)}},Q=v([]),ee=async()=>{if(F.value){const e=await U({gameType:F.value})||{};200===e.code&&e.data?Q.value=e.data:Q.value=[]}},ae=v(!1),le=async()=>{var e,a;if(Z.value)return;X.value=X.value+1;const l=v({gameType:F.value,gradeType:2,page:X.value,pageSize:Y.value});ae.value=!0;const t=await E(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&de.value.push(...t.data.baseData),de.value.length<X.value*Y.value?Z.value=!0:Z.value=!1,ae.value=!1},te=v(!1),se=async()=>{var e,a;if(J.value)return;N.value=N.value+1;const l=v({gameType:F.value,gradeType:1,page:N.value,pageSize:W.value});te.value=!0;const t=await E(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&pe.value.push(...t.data.baseData),pe.value.length<N.value*W.value?J.value=!0:J.value=!1,te.value=!1},pe=v([]),de=v([]),me=v(!1),ge=async e=>{var a,l;if(F.value){me.value=!1;const t=await E(e)||{};me.value=!0;let s=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(s=t.data.baseData),1===e.gradeType||B.value?s.length?(G.value=s[0].leagueLogo,q.value=s[0].leagueShortName,pe.value=s):(G.value="",q.value="",pe.value=[]):2===e.gradeType&&(s.length?de.value=s:de.value=[])}},ye=v([]),he=async()=>{var e;if(B.value){const n=await L({page:1,pageSize:10,leagueIds:B.value})||{};if(200===n.code&&n.data){const c=((null==(e=null==n?void 0:n.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:n,gameId:c,gidm:r,gameType:v}=e,i=e.champion.playType,p=e.champion.championType,d=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new R((m=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))u.call(a,l)&&o(e,l,a[l]);return e})({},e),a(m,l({systemId:n,gameId:c,gidm:r,gameType:v,playType:i,sw:d,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));ye.value=c}}else ye.value=[]},be=e=>{B.value=e.leagueId,K()};return V((async()=>{ee(),K(),z((()=>{var e;null==(e=r.value)||e.setSports(F.value)}))})),(e,a)=>{const l=i("SportsTabs"),t=i("ImageButton"),s=i("ArrowTitle"),u=i("Loading"),o=i("HomeMatchHandicap"),v=i("HomeEmpty"),D=i("van-collapse-item"),x=i("van-collapse"),M=i("FooterHeight");return p(),d("div",oe,[_(l,{ref_key:"refSportsTabs",ref:r,class:"pt10",onReturnSportsSuccess:k},null,512),Q.value.length?(p(),d("div",ne,[m("div",ce,[_(A,{text:e.$t("sport.all"),active:!B.value,onClick:a[0]||(a[0]=e=>be({}))},null,8,["text","active"]),(p(!0),d(g,null,y(Q.value,((e,a)=>(p(),h(t,{key:a,text:e.leagueNameAbbr,src:e.icon,active:B.value===e.leagueId,onClick:a=>be(e)},null,8,["text","src","active","onClick"])))),128))])])):P("",!0),pe.value.length&&B.value?(p(),h(x,{key:1,modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[_(D,{name:"1"},{title:b((()=>[_(s,{class:"mt10 mb10",src:G.value,type:"6",text:q.value},null,8,["src","text"])])),default:b((()=>[me.value?(p(),d(g,{key:1},[pe.value.length?(p(),d("div",re,[(p(!0),d(g,null,y(pe.value,((e,a)=>(p(),h(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),h(v,{key:1}))],64)):(p(),h(u,{key:0}))])),_:1})])),_:1},8,["modelValue"])):P("",!0),B.value?P("",!0):(p(),h(x,{key:2,modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[_(D,{name:"b1"},{title:b((()=>[_(s,{class:"mt10 mb10",src:w(n),text:e.$t("sport.recommend")},null,8,["src","text"])])),default:b((()=>[me.value?(p(),d(g,{key:1},[pe.value.length?(p(),d("div",ve,[(p(!0),d(g,null,y(pe.value,((e,a)=>(p(),h(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),h(v,{key:1}))],64)):(p(),h(u,{key:0})),!te.value&&pe.value.length?(p(),d("div",{key:2,class:T(["Button-MatchMore mt20",J.value?"no-more":""]),onClick:se},[m("span",null,f(J.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):P("",!0),te.value?(p(),h(u,{key:3})):P("",!0)])),_:1})])),_:1},8,["modelValue"])),B.value?P("",!0):(p(),h(x,{key:3,modelValue:j.value,"onUpdate:modelValue":a[3]||(a[3]=e=>j.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[_(D,{name:"c1"},{title:b((()=>[_(s,{class:"mt10 mb10",src:w(c),text:e.$t("sport.early")},null,8,["src","text"])])),default:b((()=>[me.value?(p(),d(g,{key:1},[de.value.length?(p(),d("div",ie,[(p(!0),d(g,null,y(de.value,((e,a)=>(p(),h(o,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),h(v,{key:1}))],64)):(p(),h(u,{key:0})),!ae.value&&de.value.length?(p(),d("div",{key:2,class:T(["Button-MatchMore mt20",Z.value?"no-more":""]),onClick:le},[m("span",null,f(Z.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):P("",!0),ae.value?(p(),h(u,{key:3})):P("",!0)])),_:1})])),_:1},8,["modelValue"])),ye.value.length&&B.value?(p(),h(ue,{key:4,"champion-list":ye.value},null,8,["champion-list"])):P("",!0),_(M)])}}});pe.__scopeId="data-v-ae3289bc";export{pe as default};
