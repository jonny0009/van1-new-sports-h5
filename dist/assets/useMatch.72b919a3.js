import{u as e,m as s,E as c}from"./index.18c6eb63.js";import{n as r,a7 as t}from"./vue.23388646.js";const n=s=>{const{t:c}=e(),r=s.se_now?+s.se_now.replace(/[^0-9]/gi,""):0;let t,n;s.sc_adv?"40"===s.sc_game_A&&"40"===s.sc_game_H?"0"===s.sc_adv?(t="A",n=+s.sc_game_H):"1"===s.sc_adv?(n="A",t=s.sc_game_A):(t=s.sc_game_A,n=s.sc_game_H):(t=s.sc_game_A,n=s.sc_game_H):"Adv"===s.sc_game_A||"A"===s.sc_game_A?(t="A",n=s.sc_game_H):"Adv"===s.sc_game_H||"A"===s.sc_game_H?(n="A",t=s.sc_game_A):(t=s.sc_game_A,n=s.sc_game_H);const i=s&&s.sc_iwd&&s.sc_iwd.trim()?JSON.parse(s.sc_iwd):"",_={sc1stA:s?+s.sc_1st_A:0,sc1stH:s?+s.sc_1st_H:0,sc2stA:s?+s.sc_2nd_A:0,sc2stH:s?+s.sc_2nd_H:0,sc3stA:s?+s.sc_3th_A:0,sc3stH:s?+s.sc_3th_H:0,sc4stA:s?+s.sc_4th_A:0,sc4stH:s?+s.sc_4th_H:0,sc5stA:s?+s.sc_5th_A:0,sc5stH:s?+s.sc_5th_H:0};let a={};const u=[];let m=1,l={scoreA:0,scoreH:0},H={};for(let e=1;e<5;e++){const s=o(e,_,l);if(u.push(s.scoreObj),!s.hasNext){m=e,l=s.scorePan,H=s.scoreJu;break}5===e&&(m=e,l=s.scorePan,H=s.scoreJu)}let f="",p="",A="",T="",h="",g="";const $=(""+(n||t?n+":"+t:"")).split(":"),v=$[0],w=$[1];return r?(f=c("home.bout",{number:r})+`${_[`sc${r}stH`]}:${_[`sc${r}stA`]}(${n||t?(n||0)+":"+(t||0):""})`,p=c("home.bout",{number:r}),A=`${_[`sc${r}stH`]||0}:${_[`sc${r}stA`]||0}`,T=`(${n||t?(n||0)+":"+(t||0):""})`,h=_[`sc${r}stH`]||0,g=_[`sc${r}stA`]||0):m&&(f=c("home.bout",{number:m})+`${_[`sc${m}stH`]||0}:${_[`sc${m}stA`]||0}(${n||t?(n||0)+":"+(t||0):""})`,p=c("home.bout",{number:m}),A=`${_[`sc${m}stH`]||0}:${_[`sc${m}stA`]||0}`,h=_[`sc${m}stH`]||0,g=_[`sc${m}stA`]||0,T=`(${n||t?(n||0)+":"+(t||0):""})`),a={scoreArr:u,currPanNum:m,sciwd:i,senow:r>0?r:m,showText:f,scorePan:l,scoreJu:H,score1:A,score2:T,score1Home:h,score1Away:g,score2Home:v,score2Away:w,panNum:p},a},o=(e,s,c)=>{const r={hasNext:!1},t=`sc${e}stA`,n=`sc${e}stH`,o=s[t],i=s[n];return o>=7||i>=7?r.hasNext=!0:6!==o&&6!==i||Math.abs(o-i)>=2&&(r.hasNext=!0),r.hasNext&&(o>i?c.scoreA+=1:c.scoreH+=1),r.scoreObj={[t]:o,[n]:i},r.scoreJu={scoreA:o,scoreH:i},r.scorePan=c,r},i=(s,c=5)=>{const{t:r}=e();if(!s)return"";const t={sc1stA:1*s.sc_1st_A||0,sc1stH:1*s.sc_1st_H||0,sc2stA:1*s.sc_2nd_A||0,sc2stH:1*s.sc_2nd_H||0,sc3stA:1*s.sc_3th_A||0,sc3stH:1*s.sc_3th_H||0,sc4stA:1*s.sc_4th_A||0,sc4stH:1*s.sc_4th_H||0,sc5stA:1*s.sc_5th_A||0,sc5stH:1*s.sc_5th_H||0,sc6stA:1*s.sc_6th_A||0,sc6stH:1*s.sc_6th_H||0,sc7stA:1*s.sc_7th_A||0,sc7stH:1*s.sc_7th_H||0,sc8stA:1*s.sc_8th_A||0,sc8stH:1*s.sc_8th_H||0,sc9stA:1*s.sc_9th_A||0,sc9stH:1*s.sc_9th_H||0,sc10stA:1*s.sc_10th_A||0,sc10stH:1*s.sc_10th_H||0};let n={};const o=[];let i=1;const a={scoreA:0,scoreH:0};let u={};for(let e=1;e<c+1;e++){const s=_(e,t,a);o.push(s.scoreObj),i=e,a.scoreA+=s.scoreJu.scoreA,a.scoreH+=s.scoreJu.scoreH,a.num=s.scorePan.num,(s.scoreJu.scoreA||s.scoreJu.scoreH)&&(u=s.scoreJu)}return a.num=s.se_now?.replace(/[^0-9]/gi,"")||null,s.inningNum&&"0"!==s.inningNum&&(a.num=s.inningNum),n={scoreArr:o,currPanNum:i,showText:r("home.set",{number:a.num})+` (${a.scoreH} : ${a.scoreA})`,scorePan:a,scoreJu:u},n},_=(e,s,c)=>{const r={},t=`sc${e}stA`,n=`sc${e}stH`,o=1*s[t],i=1*s[n];return r.scoreJu={},o>0||i>0?(r.hasNext=!0,c.num=e,r.scoreJu={scoreA:o,scoreH:i}):(c.num||(c.num=1),r.scoreJu.scoreA||(r.scoreJu={scoreA:o,scoreH:i})),r.scoreObj={[t]:o,[n]:i},r.scorePan=c,r},a=s=>{const{t:c}=e(),r={};return r.se_now=s.se_now&&"0"!==s.se_now?s.se_now.replace(/[^0-9]/gi,""):"",r.sc_half=s.sc_half?+s.sc_half?c("home.down"):c("home.up"):"",r.score=i(s,9).scorePan,r.sc_ot=s.sc_ot?+s.sc_ot:"",r.sc_fb=s.sc_fb?JSON.parse(s.sc_fb):"",r.sc_sb=s.sc_sb?JSON.parse(s.sc_sb):"",r.sc_tb=s.sc_tb?JSON.parse(s.sc_tb):"",r},u=(e,s="H")=>{if(e?.gameInfo&&("RB"===e?.showtype||"RB"===e?.showType)){let c,r;if("TN"===e?.gameType){const c=n(e?.gameInfo);return"H"===s?c.scorePan.scoreH||"0":c.scorePan.scoreA||"0"}if("BS"===e.gameType&&e.gidm.indexOf("ib")>-1){const c=a(e.gameInfo);return"H"===s?c.score.scoreH||"0":c.score.scoreA||"0"}return"FT"===e.gameType&&e.gidm.indexOf("ib")>-1&&e.homeTeamSuffix&&e.gameScene&&e.gameScene.scene&&e.gameScene.scene.score&&e.gameScene.scene.score.fullScore?"H"===s?e.gameScene.scene.score.fullScore.team1||"0":e.gameScene.scene.score.fullScore.team2||"0":"H"===s?((e.gameInfo.sc_FT_H||e.gameInfo.sc_game_H)&&(c=e.gameInfo.sc_FT_H||0),c||"0"):((e.gameInfo.sc_FT_H||e.gameInfo.sc_game_H)&&(r=e.gameInfo.sc_FT_A||e.gameInfo.sc_FT_C||0),r||"0")}},{t:m}=s.global,l={0:"",Q1:m("live.Q1"),Q2:m("live.Q2"),Q3:m("live.Q3"),Q4:m("live.Q4"),"1h":m("live.Q1"),"2h":m("live.Q2"),"3h":m("live.Q3"),"4h":m("live.Q4"),OT:m("live.OT"),HT:m("live.HT"),H1:m("live.H1"),H2:m("live.H2"),q1:m("live.Q1"),q2:m("live.Q2"),q3:m("live.Q3"),q4:m("live.Q4"),ot:m("live.OT"),ht:m("live.HT"),h1:m("live.H1"),h2:m("live.H2")};function H(){const e=r({FT:{currTime:0,seNow:"",timer:null},BK:{currTime:0,seNow:"",timer:null}});_();const s=e=>l[e];function o(e){if(!e)return;return`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`}function _(s){if(s)clearInterval(e[s].timer),e[s].timer=null;else for(const c in e)if(Object.prototype.hasOwnProperty.call(e,c)){const{timer:s}=e[c];clearInterval(s),e[c].timer=null}}function H(s,c){if(!s)return m("live.inprogress");if((c?.includes("点球")||c?.includes("點球"))&&(s.raceType="dianqiu",s.teamSuffix="点球大战"),(c?.includes("加时赛")||c?.includes("加時賽"))&&(s.raceType="jiashi",s.teamSuffix="加时"),s.raceType){if("jiashi"===s?.raceType&&("HT^^"===s?.re_time||"HT"===s?.re_time))return m("live.HT");if("jiashi"===s?.raceType&&s?.re_time&&new RegExp("LIVE").test(s?.re_time))return m("live.pause");if("jiashi"===s?.raceType&&s?.re_time.indexOf("^")>-1){const[e,c]=s.re_time.split("^"),r="1H"===e?`上${c}`:`下${c}`;return`${s.teamSuffix}<span class='time-h-number'>${r}</span>`}}if("HT^^"===s?.re_time||"HT"===s?.re_time)return m("live.HT");if(s?.re_time&&new RegExp("LIVE").test(s?.re_time))return m("live.pause");if(s?.re_time&&s?.re_time.indexOf("^")>-1){const[c,r]=s.re_time.split("^");let t="";return t=r.indexOf("'")>-1?`${o(e.FT.currTime)}<span class="time-h-dot">'</span>`:`${o(e.FT.currTime)}`,"1H"===c?`${m("live.H1")}&nbsp;<span class='time-h-Up'>${t}</span>`:`${m("live.H2")}&nbsp;<span class='time-h-d'>${t}</span>`}return s?.re_time?s.re_time:"-:-"}function f(r,t){return"HT"===r?.se_now||"ht"===r?.se_now?m("live.HT"):r?.se_now.indexOf("OT")>-1||r?.se_now.indexOf("ot")>-1?`加时<span>${c(1e3*e.BK.currTime,"mm:ss")}</span>`:t&&e.BK.currTime?`${s(r?.se_now)}&nbsp;<span>${c(1e3*e.BK.currTime,"mm:ss")}</span>`:!e.BK.currTime&&t?`${s(r.se_now)}&nbsp;<span>00:00</span>`:""}return{BKSection:s,showRBTime:function(r={}){const{showtype:o,gameType:u,gameInfo:l,showType:p,homeTeamSuffix:A,gidm:T}=r,h=i(l,5),g=l&&l.se_now;if("RB"===o||"RB"===p){switch(t((()=>{!function(s={}){const{gameType:c,gameInfo:r}=s,t=["BK","FT","XNFT","XNBK"];if(!r||!c||!t.includes(c))return void _();if(!+r.t_count)return e[c].currTime=0,void _(c);e[c].seNow!==r.se_now&&(e[c].seNow=r.se_now,e[c].currTime=+r.t_count);["FT","XNFT"].includes(c)?e[c].currTime<=+r.t_count&&(e[c].currTime=+r.t_count,_(c),e[c].timer=setInterval((()=>{e[c].currTime++}),1e3)):e[c].currTime>=+r.t_count&&e[c].currTime>0&&(e[c].currTime=+r.t_count,_(c),e[c].timer=setInterval((()=>{e[c].currTime--,e[c].currTime<=0&&(e[c].currTime=0,_(c))}),1e3))}(r)})),u){case"FT":case"XNFT":return H(l,A);case"TN":if(l){const e=n(l);if(e?.sciwd)return m("live.pause");const{panNum:s,score1:c,score2:r}=e;return`${s}<span>${c}${r}</span>`}return m("live.inprogress");case"BS":if(l){if(T&&T.indexOf("ic")>-1)return m("live.inprogress");const e=l?a(l):"";return`<span class="">第${l.inningNum?l?.inningNum:e.se_now>0?e.se_now:e.score.num}局</span>`}return m("live.inprogress");case"BK":case"XNBK":return f(l,g);case"BK_AFT":if(l){if("HT"===l?.se_now||"ht"===l?.se_now)return m("live.inprogress");if(l?.se_now.indexOf("OT")>-1||l?.se_now.indexOf("ot")>-1)return`加时 <span>${c(1e3*l.t_count,"mm:ss")}</span>`;const e=l&&l.se_now,r=l&&+l.t_count;return e&&r?`${s(l.se_now)}&nbsp;<span>${c(1e3*l.t_count,"mm:ss")}</span>`:""}return m("live.notstarted");case"OP_TN":if(l){return l?.se_now.replace(/[^0-9]/gi,"")||""}return m("live.inprogress");case"OP_VB":return h?`第${h.scorePan.num}局`:"";case"OP_DJ":case"OP_IH":return m("live.inprogress")}return m("live.inprogress")}return _(),m("live.notstarted")},getScore:u}}export{u as g,H as u};
