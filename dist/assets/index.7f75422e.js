import{i as e,m as a,s as t}from"./index.b1fa4260.js";import{s,d as l,b as o,r,o as u,c as n,O as c,q as d,u as i,P as p,_ as m,S as A,F as g,Z as v,a0 as h,X as f,Y as y,w as k,V as T,j as L,e as D,f as b}from"./vue.845920bc.js";import{t as S,a as V}from"./title-recommend.e2b9b6c8.js";import{_ as I,r as j,a as M}from"./index.75efc8a9.js";import{h as x}from"./moment.40bc58bf.js";const C=e=>(f("data-v-700027e6"),e=e(),y(),e),F={class:"Hot-Match-Group-Warp"},H=C((()=>p("div",{class:"onImgError"},null,-1))),U=C((()=>p("div",{class:"mask-left",style:{display:"none"}},null,-1))),w=C((()=>p("div",{class:"mask-right"},null,-1)));var E=s({props:{firstLeaguesList:{type:Array,default:()=>[]}},setup(t,{expose:s}){const f=t,y=l("1"),k=l(!1),T=o((()=>0===f.firstLeaguesList.length));return s({isLoading:k,activeNames:y}),(s,l)=>{const o=r("ArrowTitle"),f=r("Loading"),L=r("HomeEmpty"),D=r("van-loading"),b=r("van-image"),S=r("van-collapse-item"),V=r("van-collapse");return u(),n(V,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:c((()=>[d(S,{name:"1"},{title:c((()=>[d(o,{class:"mt10 mb10 hotArrowTitle",src:i("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA8CAYAAAAgwDn8AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAPAAAAAAex4ENAAAG6klEQVRoBdVaaWxUVRS+905nOtOhpSxJNWpCkbDYTiU0Chjc8IdLBCOmCYu2RbAEl4hRf7glFX8IiRESDBqUdixKxJoYYzAuGP0l1opgF0FFKAoGwla6zZsZ5h2/OzrDmzfvzcx786aWO5nce8895zvn3H15nBUgjNRX388Eb+aMVeL/eUSNri1rO3S2AKoY8J0L1FQ7XglH3gTqMh3qd94pk27lzd9e1NHzzoq8Ef4DGGmsmadEIgcMjJccNylHz613SpcWx5EWUFYG1hCxLQB2a8F1aeKM7vQGe77S0fPK5uUANd9WpPSdfQMWrMnRilMxps4eF+w9mSN/VjbbXQj9vQTGf2LBeGlMhYu5Nme1ygKDrRYYqJ85yS3cu6FnrgVdSVbifF5Ja1dHkpBHwnILXFhVNdEjPHug05bx0lZO5NiAttQC/csDE7wetocYm5NHpUlRQs1dVxzsPpQnDsu5Bahuvq/Ywz5zwHhpMwdOrgM/o485OUDNTIT9w+8BaV5GNAuFcOA+C+ymrDk5ED4aeI0YLTFFsVdQGW4MzLQnekkqqwOhldUPYgV66pKIcynVYCyNrKxZFmoMPJKrlowOxGuI+Fu5glnnoyqtjPJwYCpmqB2gbcPW5FltmVna1AE5aFFDH0LQbyacP11UpGCo7DHkXZKGbcfGUENgRUq5QcbUgZB/8FXwBwxknCMRFSfAlIbqazGw1ybyiDl+raGGmjs0tLSkoQPDjVU3QPqJNG6nCYLQyFgUGqd4YXwQSZ/Ma4Kbc2ofWV1ztYaWkkxzQG7QsF/ZBq60shRJJzLEjsuVXWGluxnnC4wg4dgEHmNtcio3Kk8jho6eeRJT5mwjZudpfEFxTPwB3IUZsYluD/XVPG3Ek7KVoBXTysJuX5/02oj5f6ZFsBWfi634Aa0dKS2gFPnWjVHjpc0edG159kgJyRaQ+/twJHICDpSncIyxDKm0pKSt5+OEWckWUKLRurFuvDSaC75BTjRpDjCiVQniGI+nh/vONSVsjLdA6KGaShBuThDHeoxZ8pnEtBp3gAu6Z6wbrbOvMnysOm5z3AGV8bt0DGM+SypfLo3kmH3cuJA6j3QBN20FqY9B77A6WUSU8KzL0HhZI6Uhv2uOULkYpW2D862A/j9HYN992TqgMrUKLcCmOl83o4OILf8U2QJXjo66gmi5Bt2IX1EQ6NEBnSjXgUmjo6sAWoiNlw4kd6QOq5DHxbfx/8VhXC2cVzqATajjYRDXI3f7gt1NXLBF0DDkuAYJiAEsAO60AxdUQQu97/Z8KXV4W7qP4DT7ukwXIMQEDtPOvR4Su4hKqfO39PyoNTbmoq3IO11RUkU/uhCd0CrLJ02CnjN6Axv3Ts8p6DkMF+S7Ql8+OnSyZ9EC7LiOaCuLmWCfb2jWJnNh/hd3sTWoscXgUcz5LJWcFExlv1kSMWHGlvxx3t4eMylG3ypaKscDHjW6wfOyGZ8VOvrkIcE522tFyIS3syTY9b1JWZxc2rr/dKLcWxrahO6Ud8sLYgeFEok7kNcAI8Z3JozLJeZbDofRdeXtX15BJdEpynd2n4f1XXkhMZax9o2wcUn1qRHdAu2CLzR9n1zI5ARnqQb1SnwxJvu1peAfLvvVkoCOGZPGN3LMxR0gV5F8/zIdgDpZfZb4jq5hPTFbnrfvDYFH/m0FldMHUjDugL9l/99If2ELibEouqDd/VTygsqSbqIzviGK387924UgrXL+EiI7g9kTWl1zlSUDpCJ8moMo08chppCYOVt5e29EMiQd8Ld2/YS8rbEgImT5JUeJRmwdZdHU/RH14saEd0kH4gRVfR7xQKIw15gEb8iVN8HHVXvvxDgCr9d+/ZXigK+t90/c/jZCicWuREuU+uunJ4zLFstPFvB0a+cutsPn9qRcsac4IBXHr66Jb8hmhK7cTVzdPdBUO1lHT8tSXZUHnyx8hIKytMLMhFOkigf4tn1RLVuaA7LQW9n1IqIWLWPWNGfT3JFIB953l5rNSiP1gflKCf8aWAuz4qUyjGCiqytp+zlt55xx+sOL+XrgyNnJajgCJ7oF8d+JUwgdchpmjhmg2fnK5TRq/l4Y/4ORERkdkAJwohHRZvzltDe6gbODXKiLvdt7D5spNuxCWmaca4OxIpoB2vtaeoHTssu84B1SZ2cyXtqQtQW0huLp/xYc0tfheXoRJO2tolpAfVoe/jnfxVzRV3zbDx7TFxvlLTmQABhaXV0hopj7OVsOgGrQ4983JMotxlE8b3VAJuj10y6+tdfSDYYtB7QG0qNV45SQqCXiNwKsFktIBe4syzFg8dZM5RjAfgzgQeT7Effj7NAP2nHO1E6ViU4fGzjAg322j5j/AGp4EkUuRjZ+AAAAAElFTkSuQmCC"),text:s.$t("home.hotMatch")},null,8,["src","text"])])),default:c((()=>[p("div",F,[p("div",{class:m(["Hot-Match-Group",[{noData:i(T)}]])},[k.value?(u(),A(g,{key:1},[i(T)?(u(),n(L,{key:0})):(u(!0),A(g,{key:1},v(t.firstLeaguesList,((t,s)=>(u(),n(b,{key:s,src:i(e)(t.homeLeagueLogo),fit:"contain","lazy-load":"",onClick:e=>(e=>{const{leagueId:t,gameType:s,countryId:l}=e;a.push({name:"Sport",query:{leagueId:t,countryId:l},params:{type:s}})})(t)},{loading:c((()=>[d(D,{type:"spinner",class:"van-new-loading",size:"36px"})])),error:c((()=>[H])),_:2},1032,["src","onClick"])))),128))],64)):(u(),n(f,{key:0}))],2),i(T)?h("",!0):(u(),A(g,{key:0},[U,w],64))])])),_:1})])),_:1},8,["modelValue"])}}});E.__scopeId="data-v-700027e6";const O={class:"goodMatch"};var G=s({props:{leagueIdArr:{type:Array,default:()=>[]}},setup(e){const s=e,f=o((()=>{const e=t.state.app.globalBarHeaderHeight||48;return e>60?48:e})),y=o((()=>t.state.home.refreshChangeTime)),L=l(""),D=l(null),b=l("1"),V=l();k(y,(e=>{var a;e&&(null==(a=V.value)||a.resetParams(),b.value="1",clearTimeout(L.value),L.value=setTimeout((()=>{H()}),100))})),k((()=>s.leagueIdArr),((e,a)=>{e.join()!==a.join()&&H()}));const M=l([]),C=l([]),F=l(!1),H=async(e="FT")=>{const a={gradeType:1,gameType:e,leagueId:s.leagueIdArr.join(),page:1,pageSize:10};F.value=!1;const t=await j(a);if(F.value=!0,200===t.code){const e=(null==t?void 0:t.data)||{},{baseData:a}=e;M.value=[],C.value=[],C.value.push(...a);const s={},l=[];C.value.sort(((e,a)=>e.gameDate-a.gameDate)).map((e=>{const a=x(e.gameDate).format("YYYY/MM/DD");s[a]?s[a].list.push(e):s[a]={gameDate:e.gameDate,list:[e]}})),Object.keys(s).map((e=>{l.push(JSON.parse(JSON.stringify(s[e])))})),M.value=l}},U=e=>{w.value=e,H(e)},w=l("FT"),E=()=>{a.push({name:"Sport",params:{type:w.value}})};return(e,a)=>{const t=r("ArrowTitle"),s=r("SportsTabs"),l=r("Loading"),o=r("HomeEmpty"),y=r("van-sticky"),k=r("HomeMatchHandicap"),L=r("van-collapse-item"),j=r("van-collapse");return u(),n(j,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:c((()=>[d(L,{name:"1"},{title:c((()=>[d(t,{class:"mt10 goodArrowTitle",src:i(S),text:e.$t("home.goofMatch")},null,8,["src","text"])])),default:c((()=>[p("div",O,[d(s,{ref_key:"refSportsTabs",ref:V,class:"pb10 pt10",onReturnSportsSuccess:U},null,512),F.value?(u(),A(g,{key:1},[M.value.length?h("",!0):(u(),n(o,{key:0})),p("div",{ref_key:"newContainer",ref:D},[(u(!0),A(g,null,v(M.value,((e,a)=>(u(),A(g,{key:a},[d(y,{"offset-top":i(f),container:D.value,"z-index":"8",class:m({mt10:0!==a})},{default:c((()=>[d(I,{"send-params":e},null,8,["send-params"])])),_:2},1032,["offset-top","container","class"]),(u(!0),A(g,null,v(e.list,((e,a)=>(u(),n(k,{"play-title-toggle":!1,"send-params":e,class:m({mt10:0!==a})},null,8,["send-params","class"])))),256))],64)))),128))],512)],64)):(u(),n(l,{key:0})),M.value.length?(u(),A("div",{key:2,class:"Button-MatchMore mt10",onClick:E},[p("span",null,T(e.$t("home.lookMoreMatch")),1)])):h("",!0)])])),_:1})])),_:1},8,["modelValue"])}}});const R={class:"LatestMatch"};var Q=s({props:{leagueIdArr:{type:Array,default:()=>[]}},setup(e){const s=e,f=o((()=>{const e=t.state.app.globalBarHeaderHeight||48;return e>60?48:e})),y=o((()=>t.state.home.refreshChangeTime)),L=l(""),D=l(null),b=l("1"),S=l();k(y,(e=>{var a;e&&(null==(a=S.value)||a.resetParams(),b.value="1",clearTimeout(L.value),L.value=setTimeout((()=>{H()}),100))})),k((()=>s.leagueIdArr),((e,a)=>{e.join()!==a.join()&&H()}));const M=l([]),C=l([]),F=l(!1),H=async(e="FT")=>{F.value=!1;const a={gradeType:2,gameType:e,filterLeagueIds:s.leagueIdArr.join(),page:1,pageSize:10},t=await j(a);if(F.value=!0,200===t.code){const e=(null==t?void 0:t.data)||{},{baseData:a}=e;M.value=[],C.value=[],C.value.push(...a);const s={},l=[];C.value.sort(((e,a)=>e.gameDate-a.gameDate)).map((e=>{const a=x(e.gameDate).format("YYYY/MM/DD");s[a]?s[a].list.push(e):s[a]={gameDate:e.gameDate,list:[e]}})),Object.keys(s).map((e=>{l.push(JSON.parse(JSON.stringify(s[e])))})),M.value=l}},U=()=>{a.push({name:"HomeTime"})},w=e=>{H(e)};return(e,a)=>{const t=r("ArrowTitle"),s=r("SportsTabs"),l=r("Loading"),o=r("HomeEmpty"),y=r("van-sticky"),k=r("HomeMatchHandicap"),L=r("van-collapse-item"),j=r("van-collapse");return u(),n(j,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:c((()=>[d(L,{name:"1"},{title:c((()=>[d(t,{src:i(V),text:e.$t("home.latestMatch"),class:"mt10 latestArrowTitle"},null,8,["src","text"])])),default:c((()=>[p("div",R,[d(s,{ref_key:"refSportsTabs",ref:S,class:"pb10 pt10",onReturnSportsSuccess:w},null,512),F.value?(u(),A(g,{key:1},[M.value.length?h("",!0):(u(),n(o,{key:0,class:"marginAuto"})),p("div",{ref_key:"newContainer",ref:D},[(u(!0),A(g,null,v(M.value,((e,a)=>(u(),A(g,{key:a},[d(y,{"offset-top":i(f),container:D.value,"z-index":"8",class:m({mt10:0!==a})},{default:c((()=>[d(I,{"send-params":e},null,8,["send-params"])])),_:2},1032,["offset-top","container","class"]),(u(!0),A(g,null,v(e.list,((e,a)=>(u(),n(k,{"play-title-toggle":!1,"send-params":e,class:m({mt10:0!==a})},null,8,["send-params","class"])))),256))],64)))),128))],512)],64)):(u(),n(l,{key:0})),M.value.length?(u(),A("div",{key:2,class:"Button-MatchMore mt10 mb10",onClick:U},[p("span",null,T(e.$t("home.lookMoreMatch")),1)])):h("",!0)])])),_:1})])),_:1},8,["modelValue"])}}});const N={class:"home-page"};var z=s({setup(e){const a=l(),s=l(!1),n=()=>{s.value=!1,t.dispatch("home/setRefreshChangeTime",(new Date).getTime())};L((()=>{h()}));const p=o((()=>t.state.home.refreshChangeTime)),m=l("");k(p,(e=>{e&&(a.value.activeNames="1",clearTimeout(m.value),m.value=setTimeout((()=>{h()}),100))}));const g=D([]),v=l([]),h=async()=>{a.value.isLoading=!1;const e=await M({gameType:"home",showType:"FAST"});if(a.value.isLoading=!0,200===e.code){v.value=[];const a=(null==e?void 0:e.data.list)||[];g.length=0,g.push(...a),g.map((e=>{e.leagueId&&v.value.push(e.leagueId)})),v.value.length||(v.value=[{}])}};return b((()=>{t.dispatch("home/setKeyValue",{key:"RrefShow",value:!0}),t.dispatch("home/setKeyValue",{key:"OUrefShow",value:!0}),t.dispatch("home/setKeyValue",{key:"MrefShow",value:!0})})),(e,t)=>{const l=r("van-pull-refresh"),o=r("FooterHeight");return u(),A("div",N,[d(l,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),onRefresh:n},{default:c((()=>[d(E,{ref_key:"refHotMatch",ref:a,firstLeaguesList:i(g)},null,8,["firstLeaguesList"]),d(G,{ref:"refGoodMatch",leagueIdArr:v.value},null,8,["leagueIdArr"]),d(Q,{ref:"refLatestMatch",leagueIdArr:v.value},null,8,["leagueIdArr"])])),_:1},8,["modelValue"]),d(o)])}}});z.__scopeId="data-v-40435689";export{z as default};
