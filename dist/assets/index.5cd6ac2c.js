import{g as e,b as a,c as t}from"./index.019ad3b5.js";import{A as l,M as s,N as n,p as o,s as i}from"./index.1380e0a0.js";import{s as c,d as r,b as u,r as d,o as v,S as p,P as m,u as f,F as b,_ as g,Z as h,V as y,q as I,B as w,c as $,O as k,X as T,Y as j,M as x,a as C,w as M,R as _,W as A,$ as B}from"./vue.7833d4f2.js";const O=e=>(e=>{const a=[];let t=-1,l=-1,s=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(l++,s=l,n=0,o=!1,t=c,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n++]=1e3*e[i],0===t&&a[l][0]++):0===c?a[s][n-1]++:o||6===n||0!==a[l][n]?(o=!0,s++,1===n&&(l=s),a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n-1]=1e3*e[i]):a[l][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),E=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)};const R={class:"content"},L={class:"table-cover"},D=["src"],S={class:"table-road-list"},U={class:"good-bg"},W={class:"title-1"},z={class:"title-2"},V={class:"bottom"},K={class:"table-name"},N={class:"right"},P={class:"bet-money"},X={class:"number"};var F=c({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,i=r(!1),c=u((()=>i.value||!t.tableInfo.tableCover?"/assets/user.a56c1294.jpg":t.tableInfo.tableCover)),$=["he","xian","zhuang","zhuang"],k=u((()=>{let e=O(t.tableInfo.wins||[]);if(E(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${$[c]} line`):n=`box ${$[c]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),T=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},j=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=`${l.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||o()}&brandType=1&tableId=${a}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=e}};return(e,t)=>{const s=d("SvgIcon");return v(),p("div",{class:"table-info-component",onClick:j},[m("div",R,[m("div",L,[m("img",{src:f(c),onError:t[0]||(t[0]=e=>i.value=!0),style:{"object-fit":"contain"}},null,40,D)]),m("div",S,[(v(!0),p(b,null,g(f(k),((e,a)=>(v(),p("div",{class:"road-col",key:a},[(v(!0),p(b,null,g(e,((e,a)=>(v(),p("div",{class:"road-item",key:a},[m("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),m("div",U,[m("div",W,y(T(a.tableInfo.goodRoadTitle).str1),1),m("div",z,"x"+y(T(a.tableInfo.goodRoadTitle).str2),1)])]),m("div",V,[m("span",K,y(a.tableInfo.tableName),1),m("div",N,[m("div",P,[I(l,{"class-name":"mr3 fs24"}),w(" "+y(a.tableInfo.tableLimitMin||0),1)]),m("div",X,[I(s,{name:"home-users",class:"users-icon"}),w(" "+y(a.tableInfo.tablePlayers||0),1)])])])])}}});F.__scopeId="data-v-f4117240";class q{constructor(e,a){e&&(this.iframe=e),window.addEventListener("message",(e=>{const{type:t,data:l}=null==e?void 0:e.data;"close"==t&&(null==a||a())}),!1)}resetDom(e){this.iframe=e}intoRoom(e){this.iframe&&this.iframe.contentWindow.postMessage({type:"intoRoom",tableId:e},"*")}closeBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"closeAudio"},"*")}openBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"openAudio"},"*")}refreshBalance(){this.iframe&&this.iframe.contentWindow.postMessage({type:"refreshBalance"},"*")}}const Y={class:"good-road-view"},Z={class:"title"},G=(e=>(T("data-v-26c643cb"),e=e(),j(),e))((()=>m("span",{class:"units-icon"},null,-1))),H={class:"units-title"},J={key:1,class:"list"},Q=["src"];var ee=c({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(a){const t=r(!1),l=r(),i=r(),c=r(""),u=async()=>{t.value=!t.value;s({duration:2e4,message:"加载中..."});const a=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2}).finally((()=>{n()}));if(i.value||(i.value=new q(l.value,(()=>{t.value=!1}))),200===(null==a?void 0:a.code)){const e=localStorage.getItem("locale")||o(),t=a.data.url.replace("&isAi=1","");c.value=`${t}&language=${e}#/multiple`}};return(e,s)=>{const n=d("Loading"),o=d("EmptyData"),i=d("van-popup");return v(),p(b,null,[m("section",Y,[m("div",Z,[m("span",null,y(e.$t("home.casinoTitleObj.title1")),1),m("div",{class:"multiple-units",onClick:u},[G,m("span",H,y(e.$t("home.mulBet")),1)])]),a.loading?(v(),$(n,{key:0})):a.list.length?(v(),p("div",J,[(v(!0),p(b,null,g(a.list,((e,a)=>(v(),$(F,{key:a,"table-info":e},null,8,["table-info"])))),128))])):(v(),$(o,{key:2}))]),I(i,{show:t.value,"onUpdate:show":s[0]||(s[0]=e=>t.value=e),round:"",position:"bottom",teleport:"body",style:{height:"84%"}},{default:k((()=>[m("iframe",{ref_key:"iframeRef",ref:l,width:"100%",height:"100%",style:{border:"none"},src:c.value,frameborder:"0"},null,8,Q)])),_:1},8,["show"])],64)}}});ee.__scopeId="data-v-26c643cb";const ae={class:"table-cover"},te=["src"],le={class:"table-road-list"},se={class:"table-name"},ne={class:"bottom"},oe={class:"bet-money"},ie={class:"number"};var ce=c({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,i=r(!1),c=u((()=>i.value||!t.tableInfo.tableCover?"/assets/table-bg.55aac982.jpg":t.tableInfo.tableCover)),$=["he","xian","zhuang","zhuang"],k=u((()=>{let e=O(t.tableInfo.wins||[]);if(E(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${$[c]} line`):n=`box ${$[c]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),T=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=`${l.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||o()}&brandType=1&tableId=${a}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=e}};return(e,t)=>{const s=d("SvgIcon");return v(),p("div",{class:"table-info-component",onClick:T},[m("div",ae,[m("img",{src:f(c),onError:t[0]||(t[0]=e=>i.value=!0),style:{"object-fit":"contain"}},null,40,te)]),m("div",le,[(v(!0),p(b,null,g(f(k),((e,a)=>(v(),p("div",{class:"road-col",key:a},[(v(!0),p(b,null,g(e,((e,a)=>(v(),p("div",{class:"road-item",key:a},[m("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),m("div",se,y(a.tableInfo.tableName),1),m("div",ne,[m("span",oe,[I(l,{"class-name":"mr3 fs24"}),w(" "+y(a.tableInfo.tableLimitMin||0),1)]),m("span",ie,[I(s,{name:"home-users",class:"users-icon"}),w(" "+y(a.tableInfo.tablePlayers||0),1)])])])}}});ce.__scopeId="data-v-56351b84";const re={class:"good-road-view"},ue={class:"title"},de={key:1,class:"list"};var ve=c({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=d("Loading"),s=d("EmptyData");return v(),p("section",re,[m("div",ue,y(a.$t("home.casinoTitleObj.title2")),1),e.loading?(v(),$(l,{key:0})):e.list.length?(v(),p("div",de,[(v(!0),p(b,null,g(e.list,((e,a)=>(v(),$(ce,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(v(),$(s,{key:2}))])}});ve.__scopeId="data-v-ce3f15ec";const pe={key:0,class:"maintenance-view"},me={class:"maintenance-title"},fe={key:0,class:"maintenance-subtitle"},be={key:1,class:"maintenance-timer"};var ge=c({setup(e){const l=u((()=>i.state.app.showFixedBet)),s=u((()=>i.state.app.theme)),n=u((()=>"blue"===s.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),o=r(!1),c=r(!1),d=r({}),g=r([]),w=r([]),$=r(),k=r(""),T=r(!0),j=r(!0);x((()=>{O(),E()})),C((()=>{clearInterval($.value)})),clearInterval($.value),$.value=setInterval((()=>{O(),E()}),1e4);const O=async()=>{const e=await a();T.value=!1;const t=(null==e?void 0:e.data)||[];g.value=t.slice(0,2)},E=async()=>{var e,a,l;const s=await t();j.value=!1,503===(null==(e=null==s?void 0:s.data)?void 0:e.code)?(o.value=!0,d.value=null==(a=null==s?void 0:s.data)?void 0:a.data):o.value=!1,w.value=(null==(l=null==s?void 0:s.data)?void 0:l.data)||[]};M((()=>o.value),(()=>{o.value&&R()}));const R=()=>{const e=d.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return c.value=!1,!1;c.value=!0;const t=a-(new Date).getTime();let l,s,n;t>=0&&(l=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),l=l<10?"0"+l:l,s=s<10?"0"+s:s,n=n<10?"0"+n:n,k.value=`${l}:${s}:${n}`,setTimeout(R,1e3))},L=_(),D=()=>{L.push("/home")};return(e,a)=>(v(),p("div",{class:h(["casino-page",{"has-bet":f(l)}])},[o.value?(v(),p("div",pe,[m("div",{class:"maintenance-icon",style:A({backgroundImage:`url(${f(n)})`})},null,4),m("div",me,y(e.$t("home.casinoTitleObj.title3")),1),c.value?(v(),p("div",fe,y(e.$t("home.casinoTitleObj.title4")),1)):B("",!0),c.value?(v(),p("div",be,y(k.value),1)):B("",!0),m("div",{class:"go-btn",onClick:D},y(e.$t("home.casinoTitleObj.gohome")),1)])):(v(),p(b,{key:1},[I(ee,{list:g.value,loading:T.value},null,8,["list","loading"]),I(ve,{list:w.value,loading:j.value},null,8,["list","loading"])],64))],2))}});ge.__scopeId="data-v-2b7a0d37";export{ge as default};
