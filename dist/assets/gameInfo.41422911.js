const s=s=>{const _=s.se_now?+s.se_now.replace(/[^0-9]/gi,""):0;let t,e;s.sc_adv?"40"===s.sc_game_A&&"40"===s.sc_game_H?"0"===s.sc_adv?(t="A",e=+s.sc_game_H):"1"===s.sc_adv?(e="A",t=s.sc_game_A):(t=s.sc_game_A,e=s.sc_game_H):(t=s.sc_game_A,e=s.sc_game_H):"Adv"===s.sc_game_A||"A"===s.sc_game_A?(t="A",e=s.sc_game_H):"Adv"===s.sc_game_H||"A"===s.sc_game_H?(e="A",t=s.sc_game_A):(t=s.sc_game_A,e=s.sc_game_H);const o=s&&s.sc_iwd&&s.sc_iwd.trim()?JSON.parse(s.sc_iwd):"",r={sc1stA:s?+s.sc_1st_A:0,sc1stH:s?+s.sc_1st_H:0,sc2stA:s?+s.sc_2nd_A:0,sc2stH:s?+s.sc_2nd_H:0,sc3stA:s?+s.sc_3th_A:0,sc3stH:s?+s.sc_3th_H:0,sc4stA:s?+s.sc_4th_A:0,sc4stH:s?+s.sc_4th_H:0,sc5stA:s?+s.sc_5th_A:0,sc5stH:s?+s.sc_5th_H:0};let A={};const n=[];let H=1,a={scoreA:0,scoreH:0},u={};for(let N=1;N<5;N++){const s=c(N,r,a);if(n.push(s.scoreObj),!s.hasNext){H=N,a=s.scorePan,u=s.scoreJu;break}5===N&&(H=N,a=s.scorePan,u=s.scoreJu)}let h="",$="",m="",g="",l="",i="";const J=(""+(e||t?e+":"+t:"")).split(":"),b=J[0],w=J[1];return _?(h=`第${_}盘${r[`sc${_}stH`]}:${r[`sc${_}stA`]}(${e||t?(e||0)+":"+(t||0):""})`,$=`第${_}盘`,m=`${r[`sc${_}stH`]||0}:${r[`sc${_}stA`]||0}`,g=`(${e||t?(e||0)+":"+(t||0):""})`,l=r[`sc${_}stH`]||0,i=r[`sc${_}stA`]||0):H&&(h=`第${H}盘${r[`sc${H}stH`]||0}:${r[`sc${H}stA`]||0}(${e||t?(e||0)+":"+(t||0):""})`,$=`第${H}盘`,m=`${r[`sc${H}stH`]||0}:${r[`sc${H}stA`]||0}`,l=r[`sc${H}stH`]||0,i=r[`sc${H}stA`]||0,g=`(${e||t?(e||0)+":"+(t||0):""})`),A={scoreArr:n,currPanNum:H,sciwd:o,senow:_>0?_:H,showText:h,scorePan:a,scoreJu:u,score1:m,score2:g,score1Home:l,score1Away:i,score2Home:b,score2Away:w,panNum:$},A},c=(s,c,_)=>{const t={hasNext:!1},e=`sc${s}stA`,o=`sc${s}stH`,r=c[e],A=c[o];return r>=7||A>=7?t.hasNext=!0:6!==r&&6!==A||Math.abs(r-A)>=2&&(t.hasNext=!0),t.hasNext&&(r>A?_.scoreA+=1:_.scoreH+=1),t.scoreObj={[e]:r,[o]:A},t.scoreJu={scoreA:r,scoreH:A},t.scorePan=_,t},_=(s,c=5)=>{var _;if(!s)return"";const e={sc1stA:1*s.sc_1st_A||0,sc1stH:1*s.sc_1st_H||0,sc2stA:1*s.sc_2nd_A||0,sc2stH:1*s.sc_2nd_H||0,sc3stA:1*s.sc_3th_A||0,sc3stH:1*s.sc_3th_H||0,sc4stA:1*s.sc_4th_A||0,sc4stH:1*s.sc_4th_H||0,sc5stA:1*s.sc_5th_A||0,sc5stH:1*s.sc_5th_H||0,sc6stA:1*s.sc_6th_A||0,sc6stH:1*s.sc_6th_H||0,sc7stA:1*s.sc_7th_A||0,sc7stH:1*s.sc_7th_H||0,sc8stA:1*s.sc_8th_A||0,sc8stH:1*s.sc_8th_H||0,sc9stA:1*s.sc_9th_A||0,sc9stH:1*s.sc_9th_H||0,sc10stA:1*s.sc_10th_A||0,sc10stH:1*s.sc_10th_H||0};let o={};const r=[];let A=1;const n={scoreA:0,scoreH:0};let H={};for(let a=1;a<c+1;a++){const s=t(a,e,n);r.push(s.scoreObj),A=a,n.scoreA+=s.scoreJu.scoreA,n.scoreH+=s.scoreJu.scoreH,n.num=s.scorePan.num,(s.scoreJu.scoreA||s.scoreJu.scoreH)&&(H=s.scoreJu)}return n.num=(null==(_=s.se_now)?void 0:_.replace(/[^0-9]/gi,""))||null,s.inningNum&&"0"!==s.inningNum&&(n.num=s.inningNum),o={scoreArr:r,currPanNum:A,showText:`第${n.num}局 (${n.scoreH} : ${n.scoreA})`,scorePan:n,scoreJu:H},o},t=(s,c,_)=>{const t={},e=`sc${s}stA`,o=`sc${s}stH`,r=1*c[e],A=1*c[o];return t.scoreJu={},r>0||A>0?(t.hasNext=!0,_.num=s,t.scoreJu={scoreA:r,scoreH:A}):(_.num||(_.num=1),t.scoreJu.scoreA||(t.scoreJu={scoreA:r,scoreH:A})),t.scoreObj={[e]:r,[o]:A},t.scorePan=_,t},e=s=>{const c={};return c.se_now=s.se_now&&"0"!==s.se_now?s.se_now.replace(/[^0-9]/gi,""):"",c.sc_half=s.sc_half?+s.sc_half?"下":"上":"",c.score=_(s,9).scorePan,c.sc_ot=s.sc_ot?+s.sc_ot:"",c.sc_fb=s.sc_fb?JSON.parse(s.sc_fb):"",c.sc_sb=s.sc_sb?JSON.parse(s.sc_sb):"",c.sc_tb=s.sc_tb?JSON.parse(s.sc_tb):"",c};export{e as b,_ as o,s as t};
