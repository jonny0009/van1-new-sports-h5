import{u as e,s as a,I as l,A as t,w as s}from"./index.39c81357.js";import{u as i}from"./useMatch.b49c103a.js";import{s as n,a as v}from"./s_hot2.bba3cb3a.js";import{s as o,b as u,d as m,r as c,E as r,o as d,S as p,P as g,q as h,O as f,u as b,V as y,$ as _,c as T,x as B,j as k,e as w,F as I,_ as M,Z as R,X as x,Y as F}from"./vue.144c3097.js";import{a as N,n as j}from"./index.8b9a64f2.js";import"./getScore.6b680491.js";const H={class:"item"},L={class:"item-photo"},S=["src"],$={key:0,class:"state"},E={class:"footer"},A=["innerHTML"],C={key:1},D={key:1,class:"mask-reseve"},K={class:"item-title"},O={class:"item-team"},V={class:"cell"},P={class:"head"},U={type:4,alt:""},q={class:"score"},z={class:"cell"},X={class:"head"},Y={type:5,alt:""},Z={class:"score"},G={class:"item-desc"},J={class:"name"},Q={class:"hots"},W=["src"];var ee=o({props:{item:{type:Object,default:()=>{}}},setup(s){const o=s;e();const k=u((()=>a.state.app.theme)),w=u((()=>"blue"==k.value?n:v)),I=m(l),M=i(),R=u((()=>{var e;return null==(e=o.item)?void 0:e.gameInfo})),x=u((()=>{const e=o.item;return e.anchorId?l+e.cover:"BK"==e.gameType?l+"FE/common/live/img_video_bg_BK.jpg":l+"FE/common/live/img_video_bg_FT.jpg"})),F=u((()=>{const e=o.item.watchTotal.toLocaleString();return o.item.showType,e})),N=u((()=>({FT:"live-football",BK:"live-basketball",TN:"live-tennisball",OP_BM:"live-badminton"}[o.item.gameType])));return(e,a)=>{const l=c("van-image"),i=c("SvgIcon"),n=r("img");return d(),p("div",H,[g("div",L,[h(l,{src:b(x),fit:"cover"},{error:f((()=>[g("img",{src:I.value+"FE/common/live/img_video_bg_FT.jpg",alt:""},null,8,S)])),_:1},8,["src"]),"RB"==s.item.showType?(d(),p("div",$,y(e.$t("live.hotNow")),1)):_("",!0),g("div",E,["RB"==s.item.showType?(d(),p("span",{key:0,innerHTML:b(M).showRBTime(s.item)},null,8,A)):(d(),p("span",C,y(b(t)(s.item.gameDate,"MM-DD HH:mm")),1))]),"RB"!=s.item.showType?(d(),p("div",D,[g("span",null,y(e.$t("live.xHas",{num:b(F)})),1),g("span",null,y(e.$t("live.playNow")),1)])):_("",!0)]),g("div",K,[b(N)?(d(),T(i,{key:0,name:b(N)},null,8,["name"])):_("",!0),g("strong",null,y(s.item.leagueName),1)]),g("div",O,[g("div",V,[g("div",P,[B(g("img",U,null,512),[[n,s.item.homeLogo]]),g("span",null,y(s.item.homeTeam),1)]),g("div",q,[g("span",null,y(b(R).sc_game_H||b(R).sc_FT_H),1)])]),g("div",z,[g("div",X,[B(g("img",Y,null,512),[[n,s.item.awayLogo]]),g("span",null,y(s.item.awayTeam),1)]),g("div",Z,[g("span",null,y(b(R).sc_game_A||b(R).sc_FT_C||b(R).sc_FT_A),1)])])]),g("div",G,[g("div",J,y(s.item.nickname||s.item.leagueShortName),1),g("div",Q,[g("img",{src:b(w),alt:""},null,8,W),g("span",null,y(b(F)),1)])])])}}});ee.__scopeId="data-v-910bae5e";const ae={class:"tab-title"},le={key:0,class:"next"},te=(e=>(x("data-v-efea97e0"),e=e(),F(),e))((()=>g("div",{class:"img"},[g("img",{src:"/assets/no_an_ma.134981fa.png",alt:""})],-1))),se=["innerHTML"],ie={class:"grid-wrapper"};var ne=o({setup(l){k((()=>{E()}));const t=u((()=>a.state.app.showFixedBet)),{t:i}=e(),n=w([{type:"RB",title:i("live.hot"),iconName:"live-hot"},{type:"FT",title:i("live.football"),iconName:"live-football"},{type:"BK",title:i("live.basketball"),iconName:"live-basketball"},{type:"TN",title:i("live.tennisball"),iconName:"live-tennisball"},{type:"OP_BM",title:i("live.badminton"),iconName:"live-badminton"}]),v=m("RB"),o=m(-1),r=m("");let B=w({}),x=0;const F=m([]),H=m(!1),L=m(!1),S=m(!1),$=async()=>{if(S.value&&(F.value=[],S.value=!1),o.value>0&&"RB"===v.value)return void(H.value=!1);x++;const e={page:x,pageSize:20};"RB"===v.value?e.rbType=1:e.gameType=v.value;const a=await N(e),l=a.data;if(H.value=!1,200===a.code){if("RB"===v.value&&0===l.list.length){L.value=!0;const e=await j();return 200===e.code&&e.data&&e.data>e.systemTime?(o.value=e.data-e.systemTime,void(B=setInterval((()=>{o.value-=1e3,0===o.value&&clearInterval(B),C()}),1e3))):void 0}l.list.forEach((e=>{F.value.push(e)})),L.value=F.value.length===l.total}else L.value=!0},E=()=>{x=0,L.value=!1,H.value=!0,$()},A=()=>{S.value=!0,E()},C=()=>{if(o.value<0)return clearInterval(B),void E();function e(e){return e<10?"0"+e:e}const a=Math.round(o.value/1e3);let l=parseInt(a/3600%24),t=parseInt(a/60%60),s=a%60;l=e(l),t=e(t),s=e(s),r.value=l+":"+t+":"+s};return(e,l)=>{const i=c("SvgIcon"),u=c("EmptyData"),m=c("van-list"),B=c("van-pull-refresh"),k=c("van-tab"),w=c("van-tabs");return d(),p("div",{class:R(["live-page",{"has-bet":b(t)}])},[h(w,{active:v.value,"onUpdate:active":l[2]||(l[2]=e=>v.value=e),swipeable:"",sticky:"",shrink:"","offset-top":"12.8vw","line-height":"0",onChange:A},{default:f((()=>[(d(!0),p(I,null,M(b(n),((t,n)=>(d(),T(k,{key:n,name:t.type},{title:f((()=>[g("div",ae,[h(i,{name:t.iconName},null,8,["name"]),g("span",null,y(t.title),1)])])),default:f((()=>[0===F.value.length&&o.value>0&&"RB"===v.value?(d(),p("div",le,[te,g("p",{innerHTML:e.$t("live.nextAM",{num:r.value})},null,8,se)])):_("",!0),g("div",null,[h(B,{modelValue:S.value,"onUpdate:modelValue":l[1]||(l[1]=e=>S.value=e),onRefresh:E},{default:f((()=>[L.value&&0===F.value.length&&"RB"!==v.value||0===F.value.length&&o.value<0&&"RB"===v.value&&L.value?(d(),T(u,{key:0})):_("",!0),h(m,{loading:H.value,"onUpdate:loading":l[0]||(l[0]=e=>H.value=e),finished:L.value,"finished-text":0==F.value.length?"":e.$t("live.noMore"),onLoad:$},{default:f((()=>[g("div",ie,[(d(!0),p(I,null,M(F.value,(e=>(d(),p("div",{key:e.gidm,class:"flex-item"},[h(ee,{item:e,onClick:l=>(e=>{s.push(`/match/${e.gidm}`),a.dispatch("app/setMatchLiveIndex",1)})(e)},null,8,["item","onClick"])])))),128))])])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["modelValue"])])])),_:2},1032,["name"])))),128))])),_:1},8,["active"])],2)}}});ne.__scopeId="data-v-efea97e0";export{ne as default};
