import{g as e,b as a,c as t}from"./index.31977b60.js";import{A as l,M as s,N as n,s as o}from"./index.9625322d.js";import{s as i,d as c,b as r,r as u,o as d,S as v,P as p,u as b,F as f,_ as m,Z as h,V as g,q as y,B as I,c as w,O as k,M as T,a as j,w as $,R as x,W as _,$ as C}from"./vue.7833d4f2.js";const O=e=>(e=>{const a=[];let t=-1,l=-1,s=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(l++,s=l,n=0,o=!1,t=c,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n++]=1e3*e[i],0===t&&a[l][0]++):0===c?a[s][n-1]++:o||6===n||0!==a[l][n]?(o=!0,s++,1===n&&(l=s),a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n-1]=1e3*e[i]):a[l][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),M=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)};const E={class:"content"},A={class:"table-cover"},B=["src"],L={class:"table-road-list"},D={class:"good-bg"},R={class:"title-1"},U={class:"title-2"},z={class:"bottom"},N={class:"table-name"},P={class:"right"},S={class:"bet-money"},V={class:"number"};var F=i({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,o=c(!1),i=r((()=>o.value||!t.tableInfo.tableCover?"/assets/user.a56c1294.jpg":t.tableInfo.tableCover)),w=["he","xian","zhuang","zhuang"],k=r((()=>{let e=O(t.tableInfo.wins);if(M(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${w[c]} line`):n=`box ${w[c]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),T=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},j=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=l.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(e,t)=>{const s=u("SvgIcon");return d(),v("div",{class:"table-info-component",onClick:j},[p("div",E,[p("div",A,[p("img",{src:b(i),onError:t[0]||(t[0]=e=>o.value=!0),style:{"object-fit":"contain"}},null,40,B)]),p("div",L,[(d(!0),v(f,null,m(b(k),((e,a)=>(d(),v("div",{class:"road-col",key:a},[(d(!0),v(f,null,m(e,((e,a)=>(d(),v("div",{class:"road-item",key:a},[p("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),p("div",D,[p("div",R,g(T(a.tableInfo.goodRoadTitle).str1),1),p("div",U,"x"+g(T(a.tableInfo.goodRoadTitle).str2),1)])]),p("div",z,[p("span",N,g(a.tableInfo.tableName),1),p("div",P,[p("div",S,[y(l,{"class-name":"mr3 fs24"}),I(" "+g(a.tableInfo.tableLimitMin||0),1)]),p("div",V,[y(s,{name:"home-users",class:"users-icon"}),I(" "+g(a.tableInfo.tablePlayers||0),1)])])])])}}});F.__scopeId="data-v-6b79e389";const K={class:"good-road-view"},X={class:"title"},q={key:1,class:"list"},W=["src"];var Z=i({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(e){const a=c(!1),t=c("");return(l,s)=>{const n=u("Loading"),o=u("EmptyData"),i=u("van-popup");return d(),v(f,null,[p("section",K,[p("div",X,[p("span",null,g(l.$t("home.casinoTitleObj.title1")),1)]),e.loading?(d(),w(n,{key:0})):e.list.length?(d(),v("div",q,[(d(!0),v(f,null,m(e.list,((e,a)=>(d(),w(F,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(d(),w(o,{key:2}))]),y(i,{round:"",show:a.value,"onUpdate:show":s[0]||(s[0]=e=>a.value=e),position:"bottom",teleport:"body",style:{height:"84%"}},{default:k((()=>[p("iframe",{width:"100%",height:"100%",style:{border:"none"},src:t.value,frameborder:"0"},null,8,W)])),_:1},8,["show"])],64)}}});Z.__scopeId="data-v-694f1655";const G={class:"table-cover"},H=["src"],J={class:"table-road-list"},Q={class:"table-name"},Y={class:"bottom"},ee={class:"bet-money"},ae={class:"number"};var te=i({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,o=c(!1),i=r((()=>o.value||!t.tableInfo.tableCover?"/assets/table-bg.55aac982.jpg":t.tableInfo.tableCover)),w=["he","xian","zhuang","zhuang"],k=r((()=>{let e=O(t.tableInfo.wins);if(M(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${w[c]} line`):n=`box ${w[c]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),T=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=l.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(e,t)=>{const s=u("SvgIcon");return d(),v("div",{class:"table-info-component",onClick:T},[p("div",G,[p("img",{src:b(i),onError:t[0]||(t[0]=e=>o.value=!0),style:{"object-fit":"contain"}},null,40,H)]),p("div",J,[(d(!0),v(f,null,m(b(k),((e,a)=>(d(),v("div",{class:"road-col",key:a},[(d(!0),v(f,null,m(e,((e,a)=>(d(),v("div",{class:"road-item",key:a},[p("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),p("div",Q,g(a.tableInfo.tableName),1),p("div",Y,[p("span",ee,[y(l,{"class-name":"mr3 fs24"}),I(" "+g(a.tableInfo.tableLimitMin||0),1)]),p("span",ae,[y(s,{name:"home-users",class:"users-icon"}),I(" "+g(a.tableInfo.tablePlayers||0),1)])])])}}});te.__scopeId="data-v-1264ffd9";const le={class:"good-road-view"},se={class:"title"},ne={key:1,class:"list"};var oe=i({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=u("Loading"),s=u("EmptyData");return d(),v("section",le,[p("div",se,g(a.$t("home.casinoTitleObj.title2")),1),e.loading?(d(),w(l,{key:0})):e.list.length?(d(),v("div",ne,[(d(!0),v(f,null,m(e.list,((e,a)=>(d(),w(te,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(d(),w(s,{key:2}))])}});oe.__scopeId="data-v-ce3f15ec";const ie={key:0,class:"maintenance-view"},ce={class:"maintenance-title"},re={key:0,class:"maintenance-subtitle"},ue={key:1,class:"maintenance-timer"};var de=i({setup(e){const l=r((()=>o.state.app.showFixedBet)),s=r((()=>o.state.app.theme)),n=r((()=>"blue"===s.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),i=c(!1),u=c(!1),m=c({}),I=c([]),w=c([]),k=c(),O=c(""),M=c(!0),E=c(!0);T((()=>{A(),B()})),j((()=>{clearInterval(k.value)})),clearInterval(k.value),k.value=setInterval((()=>{A(),B()}),1e4);const A=async()=>{const e=await a();M.value=!1;const t=(null==e?void 0:e.data)||[];I.value=t.slice(0,2)},B=async()=>{var e,a,l;const s=await t();E.value=!1,503===(null==(e=null==s?void 0:s.data)?void 0:e.code)?(i.value=!0,m.value=null==(a=null==s?void 0:s.data)?void 0:a.data):i.value=!1,w.value=(null==(l=null==s?void 0:s.data)?void 0:l.data)||[]};$((()=>i.value),(()=>{i.value&&L()}));const L=()=>{const e=m.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return u.value=!1,!1;u.value=!0;const t=a-(new Date).getTime();let l,s,n;t>=0&&(l=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),l=l<10?"0"+l:l,s=s<10?"0"+s:s,n=n<10?"0"+n:n,O.value=`${l}:${s}:${n}`,setTimeout(L,1e3))},D=x(),R=()=>{D.push("/home")};return(e,a)=>(d(),v("div",{class:h(["casino-page",{"has-bet":b(l)}])},[i.value?(d(),v("div",ie,[p("div",{class:"maintenance-icon",style:_({backgroundImage:`url(${b(n)})`})},null,4),p("div",ce,g(e.$t("home.casinoTitleObj.title3")),1),u.value?(d(),v("div",re,g(e.$t("home.casinoTitleObj.title4")),1)):C("",!0),u.value?(d(),v("div",ue,g(O.value),1)):C("",!0),p("div",{class:"go-btn",onClick:R},g(e.$t("home.casinoTitleObj.gohome")),1)])):(d(),v(f,{key:1},[y(Z,{list:I.value,loading:M.value},null,8,["list","loading"]),y(oe,{list:w.value,loading:E.value},null,8,["list","loading"])],64))],2))}});de.__scopeId="data-v-2b7a0d37";export{de as default};
