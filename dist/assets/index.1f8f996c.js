var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,n=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{s as o,d as v,r as i,o as c,R as r,P as p,F as m,Z as d,c as g,O as y,S as h,B as f,q as k,Y as b,W as T,X as D,E as x,u as _,x as I,y as j,V as w,_ as S,M,w as O,a2 as $}from"./vue.e791136f.js";import{t as z}from"./title-time.ab77a541.js";import{t as B}from"./title-recommend.753ea118.js";import{c as C}from"./league-icon.f74f56e6.js";import{_ as P}from"./index.3b3387b6.js";import{c as R}from"./index.81eabf40.js";import{f as L,r as A}from"./index.2b45d69f.js";import{aB as H}from"./index.c0688c71.js";const E={class:"league-champion-item__content"},q={class:"betting-select"},F={class:"betting-select__list"},N={class:"up-betting-name betslipLine"},V={class:"text"},W=(e=>(T("data-v-d8df1f1e"),e=e(),D(),e))((()=>p("span",{class:"point"},null,-1))),X={class:"details"},Y={class:"container"},Z={class:"item"};var G=o({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=v(!1),t=v();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,s)=>{const u=i("BettingOption"),n=i("van-icon");return c(),r("div",E,[p("div",q,[p("div",F,[(c(!0),r(m,null,d(t.value,((e,a)=>(c(),g(u,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:y((()=>[p("span",N,[p("span",V,h(e.ratio),1),W]),p("div",X,[p("div",Y,[p("div",Z,h(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),p("div",{class:"betting-select__more",onClick:s[0]||(s[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[f(h(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),k(n,{class:b(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});G.__scopeId="data-v-d8df1f1e";const J={class:"sport-champion-list"},K={class:"champion-title"},Q={class:"champion-group-body"},U={class:"league-champion-item__header"},ee={class:"icon"},ae={class:"title"};var le=o({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const a=v(!0),l=e=>{a.value=!e};return(t,s)=>{const u=i("ArrowTitle"),n=x("img");return c(),r("div",J,[p("div",K,[k(u,{class:"mt10 mb10",src:_(B),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),I(p("div",Q,[(c(!0),r(m,null,d(e.championList,((e,a)=>(c(),r("div",{key:a,class:"league-champion-item"},[p("div",U,[I(p("img",ee,null,512),[[n,_(C)]]),p("div",ae,h(e.champion.championType),1)]),k(G,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[j,a.value]])])}}});le.__scopeId="data-v-e37cf91c";const te={class:"sport-page"},se={class:"my-scroll__content"},ue={class:"betting-sport-nav"},ne={key:0,class:"recommend-list"},oe={key:0,class:"recommend-list"},ve={key:0,class:"early-list"};var ie=o({setup(e){const{currentRoute:o}=w(),y=S(),f=v(y.query.leagueId),T=v(y.params.type),D=v(),x=v(),C=v(!0),E=v(1),q=v(10),F=v(1),N=v(10),V=v(!1),W=v(!1),X=e=>{C.value=!e},Y=v(!0),Z=e=>{Y.value=!e};M((async()=>{K(),G()})),O((()=>o.value),(e=>{T.value=e.params.type,f.value="",E.value=1,F.value=1,console.log(T.value),K(),G()}));const G=async()=>{if(f.value){const e=v({gameType:T.value,leagueId:f.value,page:1,pageSize:20});pe(e.value),de()}else{const e=v({gameType:T.value,gradeType:1,page:E.value,pageSize:q.value});pe(e.value);const a=v({gameType:T.value,gradeType:2,page:F.value,pageSize:N.value});pe(a.value)}},J=v([]),K=async()=>{if(T.value){const e=await L({gameType:T.value})||{};200===e.code&&e.data?J.value=e.data:J.value=[]}},Q=v(!1),U=async()=>{var e,a;if(V.value)return;F.value=F.value+1;const l=v({gameType:T.value,gradeType:2,page:F.value,pageSize:N.value});Q.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&(ce.value.push(...t.data.baseData),console.log(ce.value.length)),ce.value.length<F.value*N.value?V.value=!0:V.value=!1,Q.value=!1},ee=v(!1),ae=async()=>{var e,a;if(W.value)return;E.value=E.value+1;const l=v({gameType:T.value,gradeType:1,page:E.value,pageSize:q.value});ee.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&ie.value.push(...t.data.baseData),ie.value.length<E.value*q.value?W.value=!0:W.value=!1,ee.value=!1},ie=v([]),ce=v([]),re=v(!1),pe=async e=>{var a,l;if(T.value){re.value=!1;const t=await A(e)||{};re.value=!0;let s=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(s=t.data.baseData),1===e.gradeType||f.value?s.length?(D.value=s[0].leagueLogo,x.value=s[0].leagueShortName,ie.value=s):(D.value="",x.value="",ie.value=[]):2===e.gradeType&&(s.length?ce.value=s:ce.value=[])}},me=v([]),de=async()=>{var e;if(f.value){const o=await R({page:1,pageSize:10,leagueIds:f.value})||{};if(200===o.code&&o.data){const v=((null==(e=null==o?void 0:o.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:o,gameId:v,gidm:i,gameType:c}=e,r=e.champion.playType,p=e.champion.championType,m=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var d;return e.marketInfo=new H((d=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&n(e,l,a[l]);if(t)for(var l of t(a))u.call(a,l)&&n(e,l,a[l]);return e})({},e),a(d,l({systemId:o,gameId:v,gidm:i,gameType:c,playType:r,sw:m,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));me.value=v}}else me.value=[]},ge=e=>{f.value=e.leagueId,G()};return(e,a)=>{const l=i("ImageButton"),t=i("ArrowTitle"),s=i("Loading"),u=i("HomeMatchHandicap"),n=i("HomeEmpty"),o=i("FooterHeight");return c(),r("div",te,[p("div",se,[p("div",ue,[k(P,{text:e.$t("sport.recommend"),active:!f.value,onClick:a[0]||(a[0]=e=>ge({}))},null,8,["text","active"]),(c(!0),r(m,null,d(J.value,((e,a)=>(c(),g(l,{key:a,text:e.leagueNameAbbr,src:e.icon,active:f.value===e.leagueId,onClick:a=>ge(e)},null,8,["text","src","active","onClick"])))),128))])]),ie.value.length&&f.value?(c(),r(m,{key:0},[k(t,{class:"mt10 mb10",src:D.value,type:"6",text:x.value,onReturnSuccess:X},null,8,["src","text"]),C.value?(c(),r(m,{key:0},[re.value?(c(),r(m,{key:1},[ie.value.length?(c(),r("div",ne,[(c(!0),r(m,null,d(ie.value,((e,a)=>I((c(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,C.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0}))],64)):$("",!0)],64)):$("",!0),f.value?$("",!0):(c(),r(m,{key:1},[k(t,{class:"mt10 mb10",src:_(B),text:e.$t("sport.recommend"),onReturnSuccess:X},null,8,["src","text"]),C.value?(c(),r(m,{key:0},[re.value?(c(),r(m,{key:1},[ie.value.length?(c(),r("div",oe,[(c(!0),r(m,null,d(ie.value,((e,a)=>I((c(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,C.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0})),!ee.value&&ie.value.length?(c(),r("div",{key:2,class:b(["Button-MatchMore mt20",W.value?"no-more":""]),onClick:ae},[p("span",null,h(W.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):$("",!0),ee.value?(c(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),f.value?$("",!0):(c(),r(m,{key:2},[k(t,{class:"mt10 mb10",src:_(z),text:e.$t("sport.early"),onReturnSuccess:Z},null,8,["src","text"]),Y.value?(c(),r(m,{key:0},[re.value?(c(),r(m,{key:1},[ce.value.length?(c(),r("div",ve,[(c(!0),r(m,null,d(ce.value,((e,a)=>I((c(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,Y.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0})),!Q.value&&ce.value.length?(c(),r("div",{key:2,class:b(["Button-MatchMore mt20",V.value?"no-more":""]),onClick:U},[p("span",null,h(V.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):$("",!0),Q.value?(c(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),me.value.length&&f.value?(c(),g(le,{key:3,"champion-list":me.value},null,8,["champion-list"])):$("",!0),k(o)])}}});ie.__scopeId="data-v-4d48147e";export{ie as default};
