import{_ as a}from"./return@2x.3d421e9b.js";import{_ as s,a as e}from"./noData.ef9d752c.js";import{m as t}from"./index.60f4735c.js";import{d as l,a as n,J as o,f as i,r as c,o as r,u as d,m as u,p,q as f,v as m,O as g,F as v,E as h,A as _,c as y,y as b,B as C,C as j}from"./vue.3b4f9705.js";import{d as k,g as x,I as A}from"./index.0360622b.js";const D=a=>(C("data-v-cabf98a6"),a=a(),j(),a),E={class:"notice"},L={class:"content"},T={key:0,class:"noData"},$=[D((()=>f("img",{class:"img_1",src:s},null,-1))),D((()=>f("p",null," 未查询到相关数据 ",-1)))],q={class:"list"},w=["onClick"],H={class:"font_1"},I=["innerHTML"],M={class:"font_3"},z=D((()=>f("span",null,"查看完整讯息",-1))),B=D((()=>f("img",{class:"img_close",src:e},null,-1)));var F=l({setup(s){const e=_(),l=n("消息"),C=o([]),j=n(!1),D=n(!1),F=o({arr:[]});i((async()=>{}));let J=0;const O=async()=>{J++;const a={page:J,pageSize:20},s=await t(a),e=s.data;200===s.code?(e.messages.forEach((a=>{F.arr.push(a)})),j.value=!1,D.value=F.arr.length===e.totalCount):k(s.msg)},S=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${A}${e}`)})),a}return""},U=a=>{console.log(a,"====11")};return(s,t)=>{const n=c("van-nav-bar"),o=c("van-swipe-cell"),i=c("van-list");return r(),d("div",E,[u(n,{class:"bg-title",title:l.value},{left:p((()=>[f("img",{class:"img_1",src:a,alt:"",onClick:t[0]||(t[0]=a=>{e.push({path:"/home"})})})])),_:1},8,["title"]),f("div",L,[m(C).length?(r(),d("div",T,$)):g("",!0),f("div",q,[u(i,{loading:j.value,"onUpdate:loading":t[1]||(t[1]=a=>j.value=a),finished:D.value,"finished-text":"没有更多了",onLoad:O},{default:p((()=>[(r(!0),d(v,null,h(m(F).arr,((a,s)=>(r(),y(o,{key:s,"before-close":U,class:"itemContent"},{right:p((()=>[B])),default:p((()=>[f("div",{class:"cell",onClick:s=>(a=>{console.log(a,"===="),e.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[f("p",H,b(a.title),1),f("p",{class:"font_2",innerHTML:S(a.content)},null,8,I),f("div",M,[z,f("span",null,b(m(x)(a.optTime)),1)])],8,w)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});F.__scopeId="data-v-cabf98a6";export{F as default};
