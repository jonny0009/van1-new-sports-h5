import{_ as a}from"./return@2x.4699c821.js";import{_ as s}from"./noData.d948af1f.js";import{_ as e}from"./close.59fd75ea.js";import{m as t}from"./index.d5bee19a.js";import{s as l,d as n,e as r,j as i,r as o,o as c,R as d,q as u,O as m,P as p,u as f,a1 as g,F as v,Z as h,V as _,c as y,S as j,W as k,X as x}from"./vue.85a22cc6.js";import{d as C,g as b,I as D}from"./index.60680413.js";const L=a=>(k("data-v-73146645"),a=a(),x(),a),T={class:"notice"},$={class:"content"},q={key:0,class:"noData"},w=[L((()=>p("img",{class:"img_1",src:s},null,-1))),L((()=>p("p",null," 未查询到相关数据 ",-1)))],A={class:"list"},E=["onClick"],H={class:"font_1"},I=["innerHTML"],M={class:"font_3"},S=L((()=>p("span",null,"查看完整讯息",-1))),z=L((()=>p("img",{class:"img_close",src:e},null,-1)));var F=l({setup(s){const e=_(),l=n("消息"),k=n(!1),x=n(!1),L=r({arr:[]});i((async()=>{}));let F=0;const O=async()=>{F++;const a={page:F,pageSize:20},s=await t(a),e=s.data;200===s.code?(e.messages.forEach((a=>{L.arr.push(a)})),k.value=!1,x.value=L.arr.length===e.totalCount):C(s.msg)},P=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${D}${e}`)})),a}return""},R=a=>{};return(s,t)=>{const n=o("van-nav-bar"),r=o("van-swipe-cell"),i=o("van-list");return c(),d("div",T,[u(n,{class:"bg-title",title:l.value},{left:m((()=>[p("img",{class:"img_1",src:a,alt:"",onClick:t[0]||(t[0]=a=>{e.push({path:"/home"})})})])),_:1},8,["title"]),p("div",$,[f(L).arr.length?g("",!0):(c(),d("div",q,w)),p("div",A,[u(i,{loading:k.value,"onUpdate:loading":t[1]||(t[1]=a=>k.value=a),finished:x.value,"finished-text":"没有更多了",onLoad:O},{default:m((()=>[(c(!0),d(v,null,h(f(L).arr,((a,s)=>(c(),y(r,{key:s,"before-close":R,class:"itemContent"},{right:m((()=>[z])),default:m((()=>[p("div",{class:"cell",onClick:s=>(a=>{e.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[p("p",H,j(a.title),1),p("p",{class:"font_2",innerHTML:P(a.content)},null,8,I),p("div",M,[S,p("span",null,j(f(b)(a.optTime)),1)])],8,E)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});F.__scopeId="data-v-73146645";export{F as default};
