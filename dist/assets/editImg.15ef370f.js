import{h as a}from"./head-img.2b5edb0e.js";import{s,b as e,d as l,j as c,r as n,o as t,R as i,q as o,O as r,P as u,Y as v,F as d,Z as m,a1 as g,V as p}from"./vue.85a22cc6.js";import{v as k,d as f,I as y,s as h,y as $}from"./index.48a0a403.js";const I={class:"editName"},b={class:"title"},C={class:"area-btn_1"},_={class:"content"},w={key:0,class:"img-style"},F={key:1,class:"img-style"},j={key:2,class:"img-style"};var E=s({setup(s){const E=p(),N=e((()=>h.state.user.userInfo)),x=l(1),P=l(a),q=l(""),O=l("编辑头像"),R=(a,s)=>{1===s&&(q.value=`/FE/common/head/newsport/star/${a}.png`,Y(q.value)),2===s&&(q.value=`/FE/common/head/newsport/else/${a}.png`,Y(q.value))},S=(a,s)=>{if(1===s){return`${y}${`/FE/common/head/newsport/star/${a}.png`}`}if(2===s){return`${y}${`/FE/common/head/newsport/else/${a}.png`}`}};c((()=>{V()}));const V=async()=>{const a={fPlayerId:N.value.playerId},s=await k(a);if(200!==s.code)return f(s.msg);q.value=s.data.headImg||"",Y(q.value)},Y=a=>{a&&(P.value=`${y}${a}`)};return(a,s)=>{const e=n("van-nav-bar"),l=n("van-image");return t(),i("div",I,[o(e,{class:"bg-title",title:O.value,border:!1},{left:r((()=>[u("span",{onClick:s[0]||(s[0]=a=>{E.back()})},"取消")])),right:r((()=>[u("span",{onClick:s[1]||(s[1]=a=>(async()=>{const a={headImg:q.value,nickName:N.value.nickName,lang:localStorage.getItem("locale")},s=await $(a);if(200!==s.code)return f(s.msg);f("编辑成功"),h.dispatch("user/userInfo"),E.push("/user/userInfo")})())},"保存")])),_:1},8,["title"]),u("div",b,[o(l,{class:"img_1",fit:"contain",src:P.value},null,8,["src"])]),u("div",C,[u("span",{class:v(1==x.value?"active":""),onClick:s[2]||(s[2]=a=>x.value=1)},"足球明星",2),u("span",{class:v(2==x.value?"active":""),onClick:s[3]||(s[3]=a=>x.value=2)},"其他人物",2)]),u("div",_,[1===x.value?(t(),i("div",w,[(t(),i(d,null,m(16,(a=>u("div",{key:a,class:"select-img"},[o(l,{class:"img_1",fit:"contain",src:S(a,1),onClick:s=>R(a,1)},null,8,["src","onClick"])]))),64))])):g("",!0),2===x.value?(t(),i("div",F,[(t(),i(d,null,m(16,(a=>u("div",{key:a,class:"select-img"},[o(l,{class:"img_1",fit:"contain",src:S(a,2),onClick:s=>R(a,2)},null,8,["src","onClick"])]))),64))])):g("",!0),3===x.value?(t(),i("div",j,[(t(),i(d,null,m(16,(a=>u("div",{key:a,class:"select-img"},[u("div",{class:v(["img_2",[`background-${a}`]])},null,2)]))),64))])):g("",!0)])])}}});E.__scopeId="data-v-41d5fddc";export{E as default};
