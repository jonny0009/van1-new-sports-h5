import{u as s,P as e,Q as c}from"./index.108d035e.js";import{d as t}from"./vue.6c3ce548.js";const n=e=>{const{t:c}=s(),t=e.se_now?+e.se_now.replace(/[^0-9]/gi,""):0;let n,o;e.sc_adv?"40"===e.sc_game_A&&"40"===e.sc_game_H?"0"===e.sc_adv?(n="A",o=+e.sc_game_H):"1"===e.sc_adv?(o="A",n=e.sc_game_A):(n=e.sc_game_A,o=e.sc_game_H):(n=e.sc_game_A,o=e.sc_game_H):"Adv"===e.sc_game_A||"A"===e.sc_game_A?(n="A",o=e.sc_game_H):"Adv"===e.sc_game_H||"A"===e.sc_game_H?(o="A",n=e.sc_game_A):(n=e.sc_game_A,o=e.sc_game_H);const _=e&&e.sc_iwd&&e.sc_iwd.trim()?JSON.parse(e.sc_iwd):"",i={sc1stA:e?+e.sc_1st_A:0,sc1stH:e?+e.sc_1st_H:0,sc2stA:e?+e.sc_2nd_A:0,sc2stH:e?+e.sc_2nd_H:0,sc3stA:e?+e.sc_3th_A:0,sc3stH:e?+e.sc_3th_H:0,sc4stA:e?+e.sc_4th_A:0,sc4stH:e?+e.sc_4th_H:0,sc5stA:e?+e.sc_5th_A:0,sc5stH:e?+e.sc_5th_H:0};let a={};const m=[];let u=1,H={scoreA:0,scoreH:0},l={};for(let s=1;s<5;s++){const e=r(s,i,H);if(m.push(e.scoreObj),!e.hasNext){u=s,H=e.scorePan,l=e.scoreJu;break}5===s&&(u=s,H=e.scorePan,l=e.scoreJu)}let A="",p="",f="",h="",g="",$="";const v=(""+(o||n?o+":"+n:"")).split(":"),T=v[0],w=v[1];return t?(A=c("home.bout",{number:t})+`${i[`sc${t}stH`]}:${i[`sc${t}stA`]}(${o||n?(o||0)+":"+(n||0):""})`,p=c("home.bout",{number:t}),f=`${i[`sc${t}stH`]||0}:${i[`sc${t}stA`]||0}`,h=`(${o||n?(o||0)+":"+(n||0):""})`,g=i[`sc${t}stH`]||0,$=i[`sc${t}stA`]||0):u&&(A=c("home.bout",{number:u})+`${i[`sc${u}stH`]||0}:${i[`sc${u}stA`]||0}(${o||n?(o||0)+":"+(n||0):""})`,p=c("home.bout",{number:u}),f=`${i[`sc${u}stH`]||0}:${i[`sc${u}stA`]||0}`,g=i[`sc${u}stH`]||0,$=i[`sc${u}stA`]||0,h=`(${o||n?(o||0)+":"+(n||0):""})`),a={scoreArr:m,currPanNum:u,sciwd:_,senow:t>0?t:u,showText:A,scorePan:H,scoreJu:l,score1:f,score2:h,score1Home:g,score1Away:$,score2Home:T,score2Away:w,panNum:p},a},r=(s,e,c)=>{const t={hasNext:!1},n=`sc${s}stA`,r=`sc${s}stH`,o=e[n],_=e[r];return o>=7||_>=7?t.hasNext=!0:6!==o&&6!==_||Math.abs(o-_)>=2&&(t.hasNext=!0),t.hasNext&&(o>_?c.scoreA+=1:c.scoreH+=1),t.scoreObj={[n]:o,[r]:_},t.scoreJu={scoreA:o,scoreH:_},t.scorePan=c,t},o=(e,c=5)=>{const{t:t}=s();if(!e)return"";const n={sc1stA:1*e.sc_1st_A||0,sc1stH:1*e.sc_1st_H||0,sc2stA:1*e.sc_2nd_A||0,sc2stH:1*e.sc_2nd_H||0,sc3stA:1*e.sc_3th_A||0,sc3stH:1*e.sc_3th_H||0,sc4stA:1*e.sc_4th_A||0,sc4stH:1*e.sc_4th_H||0,sc5stA:1*e.sc_5th_A||0,sc5stH:1*e.sc_5th_H||0,sc6stA:1*e.sc_6th_A||0,sc6stH:1*e.sc_6th_H||0,sc7stA:1*e.sc_7th_A||0,sc7stH:1*e.sc_7th_H||0,sc8stA:1*e.sc_8th_A||0,sc8stH:1*e.sc_8th_H||0,sc9stA:1*e.sc_9th_A||0,sc9stH:1*e.sc_9th_H||0,sc10stA:1*e.sc_10th_A||0,sc10stH:1*e.sc_10th_H||0};let r={};const o=[];let i=1;const a={scoreA:0,scoreH:0};let m={};for(let s=1;s<c+1;s++){const e=_(s,n,a);o.push(e.scoreObj),i=s,a.scoreA+=e.scoreJu.scoreA,a.scoreH+=e.scoreJu.scoreH,a.num=e.scorePan.num,(e.scoreJu.scoreA||e.scoreJu.scoreH)&&(m=e.scoreJu)}return a.num=e.se_now?.replace(/[^0-9]/gi,"")||null,e.inningNum&&"0"!==e.inningNum&&(a.num=e.inningNum),r={scoreArr:o,currPanNum:i,showText:t("home.set",{number:a.num})+` (${a.scoreH} : ${a.scoreA})`,scorePan:a,scoreJu:m},r},_=(s,e,c)=>{const t={},n=`sc${s}stA`,r=`sc${s}stH`,o=1*e[n],_=1*e[r];return t.scoreJu={},o>0||_>0?(t.hasNext=!0,c.num=s,t.scoreJu={scoreA:o,scoreH:_}):(c.num||(c.num=1),t.scoreJu.scoreA||(t.scoreJu={scoreA:o,scoreH:_})),t.scoreObj={[n]:o,[r]:_},t.scorePan=c,t},i=e=>{const{t:c}=s(),t={};return t.se_now=e.se_now&&"0"!==e.se_now?e.se_now.replace(/[^0-9]/gi,""):"",t.sc_half=e.sc_half?+e.sc_half?c("home.down"):c("home.up"):"",t.score=o(e,9).scorePan,t.sc_ot=e.sc_ot?+e.sc_ot:"",t.sc_fb=e.sc_fb?JSON.parse(e.sc_fb):"",t.sc_sb=e.sc_sb?JSON.parse(e.sc_sb):"",t.sc_tb=e.sc_tb?JSON.parse(e.sc_tb):"",t},a=(s,e="H")=>{if(s?.gameInfo&&("RB"===s?.showtype||"RB"===s?.showType)){let c,t;if("TN"===s?.gameType){const c=n(s?.gameInfo);return"H"===e?c.scorePan.scoreH||"0":c.scorePan.scoreA||"0"}if("BS"===s.gameType&&s.gidm.indexOf("ib")>-1){const c=i(s.gameInfo);return"H"===e?c.score.scoreH||"0":c.score.scoreA||"0"}return"FT"===s.gameType&&s.gidm.indexOf("ib")>-1&&s.homeTeamSuffix&&s.gameScene&&s.gameScene.scene&&s.gameScene.scene.score&&s.gameScene.scene.score.fullScore?"H"===e?s.gameScene.scene.score.fullScore.team1||"0":s.gameScene.scene.score.fullScore.team2||"0":"H"===e?((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(c=s.gameInfo.sc_FT_H||0),c||"0"):((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(t=s.gameInfo.sc_FT_A||s.gameInfo.sc_FT_C||0),t||"0")}},{t:m}=e.global,u={0:"",Q1:m("live.Q1"),Q2:m("live.Q2"),Q3:m("live.Q3"),Q4:m("live.Q4"),"1h":m("live.Q1"),"2h":m("live.Q2"),"3h":m("live.Q3"),"4h":m("live.Q4"),OT:m("live.OT"),HT:m("live.HT"),H1:m("live.H1"),H2:m("live.H2"),q1:m("live.Q1"),q2:m("live.Q2"),q3:m("live.Q3"),q4:m("live.Q4"),ot:m("live.OT"),ht:m("live.HT"),h1:m("live.H1"),h2:m("live.H2")};function H(){const s=t(""),e=s=>u[s];return{BKSection:e,showRBTime:function(t={}){const{showtype:r,gameType:_,gameInfo:a,showType:u,homeTeamSuffix:H,gidm:l}=t,A=o(a,5),p=a&&a.se_now;if("RB"===r||"RB"===u){switch(_){case"FT":if(!a)return m("live.inprogress");if((H?.includes("点球")||H?.includes("點球"))&&(a.raceType="dianqiu",a.teamSuffix="点球大战"),(H?.includes("加时赛")||H?.includes("加時賽"))&&(a.raceType="jiashi",a.teamSuffix="加时"),a.raceType){if("jiashi"===a?.raceType&&("HT^^"===a?.re_time||"HT"===a?.re_time))return m("live.HT");if("jiashi"===a?.raceType&&a?.re_time&&new RegExp("LIVE").test(a?.re_time))return m("live.pause");if("jiashi"===a?.raceType&&a?.re_time.indexOf("^")>-1){const[s,e]=a.re_time.split("^"),c="1H"===s?`上${e}`:`下${e}`;return`${a.teamSuffix}<span class='time-h-number'>${c}</span>`}}if("HT^^"===a?.re_time||"HT"===a?.re_time)return m("live.HT");if(a?.re_time&&new RegExp("LIVE").test(a?.re_time))return m("live.pause");if(a?.re_time&&a?.re_time.indexOf("^")>-1){const[s,e]=a.re_time.split("^");let c="";if(e.indexOf("'")>-1){const[s]=e.split("'");c=`${s}<span class="time-h-dot">'</span>`}else c=e;return"1H"===s?`${m("live.H1")}<span class='time-h-Up'>${c}</span>`:`${m("live.H2")}<span class='time-h-d'>${c}</span>`}return a?.re_time?a.re_time:"-:-";case"TN":if(a){const s=n(a);if(s?.sciwd)return m("live.pause");const{panNum:e,score1:c,score2:t}=s;return`${e}<span>${c}${t}</span>`}return m("live.inprogress");case"BS":if(a){if(l&&l.indexOf("ic")>-1)return m("live.inprogress");const s=a?i(a):"";return`<span class="">第${a.inningNum?a?.inningNum:s.se_now>0?s.se_now:s.score.num}局</span>`}return m("live.inprogress");case"BK":return"HT"===a?.se_now||"ht"===a?.se_now?m("live.HT"):a?.se_now.indexOf("OT")>-1||a?.se_now.indexOf("ot")>-1?`加时<span>${c(1e3*s.value,"mm:ss")}</span>`:p&&s?`${e(a?.se_now)}<span>${c(1e3*s.value,"mm:ss")}</span>`:!s.value&&p?`${e(a.se_now)}<span>00:00</span>`:"";case"BK_AFT":if(a){if("HT"===a?.se_now||"ht"===a?.se_now)return m("live.inprogress");if(a?.se_now.indexOf("OT")>-1||a?.se_now.indexOf("ot")>-1)return`加时 <span>${c(1e3*a.t_count,"mm:ss")}</span>`;const s=a&&a.se_now,t=a&&+a.t_count;return s&&t?`${e(a.se_now)}<span>${c(1e3*a.t_count,"mm:ss")}</span>`:""}return m("live.notstarted");case"OP_TN":if(a){return a?.se_now.replace(/[^0-9]/gi,"")||""}return m("live.inprogress");case"OP_VB":return A?`第${A.scorePan.num}局`:"";case"OP_DJ":case"OP_IH":return m("live.inprogress")}return m("live.inprogress")}return m("live.notstarted")},getScore:a}}export{i as b,a as g,o,n as t,H as u};
