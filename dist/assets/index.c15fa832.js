const e={};import{u as a,m as t,n as l,o as s,p as n,q as o,s as i,v as c,w as r}from"./index.64aa6cbb.js";import{s as u,d,b as v,r as p,o as m,R as f,P as b,u as h,F as g,S as y,_ as I,W as w,q as $,B as k,c as T,O as M,Y as j,Z as x,M as C,a as _,w as B,U as A,X as O,$ as R}from"./vue.5fe62a63.js";const E=(e=[])=>(e=>{const a=[];let t=-1,l=-1,s=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(l++,s=l,n=0,o=!1,t=c,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n++]=1e3*e[i],0===t&&a[l][0]++):0===c?a[s][n-1]++:o||6===n||0!==a[l][n]?(o=!0,s++,1===n&&(l=s),a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n-1]=1e3*e[i]):a[l][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),L=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)},U={class:"content"},D={class:"table-cover"},S=["src"],W={class:"table-road-list"},z={class:"good-bg"},K={class:"title-1"},P={class:"title-2"},V={class:"bottom"},X={class:"table-name"},q={class:"right"},F={class:"bet-money"},N={class:"number"};var Y=u({props:{tableInfo:{type:Object,default:()=>{}}},setup(i){const c=i,{t:r}=a(),u=d(!1),T=v((()=>{if(u.value||!c.tableInfo.tableCover){const a=Math.round(88*Math.random()+1);return new URL(`/casino/user/${a}.png`,e.url).href}return c.tableInfo.tableCover})),M=["he","xian","zhuang","zhuang"],j=v((()=>{let e=E(c.tableInfo.wins||[]);if(L(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${M[c]} line`):n=`box ${M[c]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),x=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},C=async()=>{const e=c.tableInfo.tableId;l({duration:2e4,message:r("home.loading")});const a=await s({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==a?void 0:a.code)){n();const t=`${a.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||o()}&brandType=1&tableId=${e}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=t}};return(e,a)=>{const l=p("SvgIcon");return m(),f("div",{class:"table-info-component",onClick:C},[b("div",U,[b("div",D,[b("img",{src:h(T),onError:a[0]||(a[0]=e=>u.value=!0),style:{"object-fit":"contain"}},null,40,S)]),b("div",W,[(m(!0),f(g,null,y(h(j),((e,a)=>(m(),f("div",{class:"road-col",key:a},[(m(!0),f(g,null,y(e,((e,a)=>(m(),f("div",{class:"road-item",key:a},[b("span",{class:I(["round",e])},null,2)])))),128))])))),128))]),b("div",z,[b("div",K,w(x(i.tableInfo.goodRoadTitle).str1),1),b("div",P,"x"+w(x(i.tableInfo.goodRoadTitle).str2),1)])]),b("div",V,[b("span",X,w(i.tableInfo.tableName),1),b("div",q,[b("div",F,[$(t,{"class-name":"mr3 fs24"}),k(" "+w(i.tableInfo.tableLimitMin||0),1)]),b("div",N,[$(l,{name:"home-users",class:"users-icon"}),k(" "+w(i.tableInfo.tablePlayers||0),1)])])])])}}});Y.__scopeId="data-v-7aa4b1ea";class Z{constructor(e,a){e&&(this.iframe=e),window.addEventListener("message",(e=>{const{type:t,data:l}=null==e?void 0:e.data;"close"==t&&(null==a||a())}),!1)}resetDom(e){this.iframe=e}intoRoom(e){this.iframe&&this.iframe.contentWindow.postMessage({type:"intoRoom",tableId:e},"*")}closeBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"closeAudio"},"*")}openBaccaratAudio(){this.iframe&&this.iframe.contentWindow.postMessage({type:"openAudio"},"*")}refreshBalance(){this.iframe&&this.iframe.contentWindow.postMessage({type:"refreshBalance"},"*")}}const G={class:"good-road-view"},H={class:"title"},J=(e=>(j("data-v-b4ac9b12"),e=e(),x(),e))((()=>b("span",{class:"units-icon"},null,-1))),Q={class:"units-title"},ee={key:1,class:"list"},ae=["src"];var te=u({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(e){const{t:t}=a(),i=d(!1),c=d(),r=d(),u=d(""),v=async()=>{i.value=!i.value;l({duration:2e4,message:t("home.loading")});const e=await s({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2}).finally((()=>{n()}));if(r.value||(r.value=new Z(c.value,(()=>{i.value=!1}))),200===(null==e?void 0:e.code)){const a=localStorage.getItem("locale")||o(),t=e.data.url.replace("&isAi=1","");u.value=`${t}&language=${a}#/multiple`}};return(a,t)=>{const l=p("Loading"),s=p("EmptyData"),n=p("van-popup");return m(),f(g,null,[b("section",G,[b("div",H,[b("span",null,w(a.$t("home.casinoTitleObj.title1")),1),b("div",{class:"multiple-units",onClick:v},[J,b("span",Q,w(a.$t("home.mulBet")),1)])]),e.loading?(m(),T(l,{key:0})):e.list.length?(m(),f("div",ee,[(m(!0),f(g,null,y(e.list,((e,a)=>(m(),T(Y,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(m(),T(s,{key:2}))]),$(n,{round:"",show:i.value,"onUpdate:show":t[0]||(t[0]=e=>i.value=e),position:"bottom",teleport:"body",style:{height:"84%"}},{default:M((()=>[b("iframe",{width:"100%",ref_key:"iframeRef",ref:c,height:"100%",style:{border:"none"},src:u.value,frameborder:"0"},null,8,ae)])),_:1},8,["show"])],64)}}});te.__scopeId="data-v-b4ac9b12";const le={class:"table-cover"},se=["src"],ne={class:"table-road-list"},oe={class:"table-name"},ie={class:"bottom"},ce={class:"bet-money"},re={class:"number"};var ue=u({props:{tableInfo:{type:Object,default:()=>{}}},setup(i){const c=i,{t:r}=a(),u=d(!1),T=v((()=>{if(u.value||!c.tableInfo.tableCover){const a=Math.round(29*Math.random()+1);return new URL(`/casino/bg/${a}.jpg`,e.url).href}return c.tableInfo.tableCover})),M=["he","xian","zhuang","zhuang"],j=v((()=>{let e=E(c.tableInfo.wins||[]);if(L(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const c=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${M[c]} line`):n=`box ${M[c]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),x=async()=>{const e=c.tableInfo.tableId;l({duration:2e4,message:r("home.loading")});const a=await s({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==a?void 0:a.code)){n();const t=`${a.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${localStorage.getItem("locale")||o()}&brandType=1&tableId=${e}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=t}};return(e,a)=>{const l=p("SvgIcon");return m(),f("div",{class:"table-info-component",onClick:x},[b("div",le,[b("img",{src:h(T),onError:a[0]||(a[0]=e=>u.value=!0),style:{"object-fit":"contain"}},null,40,se)]),b("div",ne,[(m(!0),f(g,null,y(h(j),((e,a)=>(m(),f("div",{class:"road-col",key:a},[(m(!0),f(g,null,y(e,((e,a)=>(m(),f("div",{class:"road-item",key:a},[b("span",{class:I(["round",e])},null,2)])))),128))])))),128))]),b("div",oe,w(i.tableInfo.tableName),1),b("div",ie,[b("span",ce,[$(t,{"class-name":"mr3 fs24"}),k(" "+w(i.tableInfo.tableLimitMin||0),1)]),b("span",re,[$(l,{name:"home-users",class:"users-icon"}),k(" "+w(i.tableInfo.tablePlayers||0),1)])])])}}});ue.__scopeId="data-v-b7c20c8c";const de={class:"good-road-view"},ve={class:"title"},pe={key:1,class:"list"};var me=u({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=p("Loading"),s=p("EmptyData");return m(),f("section",de,[b("div",ve,w(a.$t("home.casinoTitleObj.title2")),1),e.loading?(m(),T(l,{key:0})):e.list.length?(m(),f("div",pe,[(m(!0),f(g,null,y(e.list,((e,a)=>(m(),T(ue,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(m(),T(s,{key:2}))])}});me.__scopeId="data-v-ce3f15ec";const fe={key:0,class:"maintenance-view"},be={class:"maintenance-title"},he={key:0,class:"maintenance-subtitle"},ge={key:1,class:"maintenance-timer"};var ye=u({setup(e){const a=v((()=>i.state.app.showFixedBet)),t=v((()=>i.state.app.theme)),l=v((()=>"blue"===t.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),s=d(!1),n=d(!1),o=d({}),u=d([]),p=d([]),y=d(),k=d(""),T=d(!0),M=d(!0);C((()=>{j(),x()})),_((()=>{clearInterval(y.value)})),clearInterval(y.value),y.value=setInterval((()=>{j(),x()}),1e4);const j=async()=>{const e=await c();T.value=!1;const a=(null==e?void 0:e.data)||[];u.value=a.slice(0,2)},x=async()=>{var e,a,t;const l=await r();M.value=!1,503===(null==(e=null==l?void 0:l.data)?void 0:e.code)?(s.value=!0,o.value=null==(a=null==l?void 0:l.data)?void 0:a.data):s.value=!1,p.value=(null==(t=null==l?void 0:l.data)?void 0:t.data)||[]};B((()=>s.value),(()=>{s.value&&E()}));const E=()=>{const e=o.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return n.value=!1,!1;n.value=!0;const t=a-(new Date).getTime();let l,s,i;t>=0&&(l=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),l=l<10?"0"+l:l,s=s<10?"0"+s:s,i=i<10?"0"+i:i,k.value=`${l}:${s}:${i}`,setTimeout(E,1e3))},L=A(),U=()=>{L.push("/home")};return(e,t)=>(m(),f("div",{class:I(["casino-page",{"has-bet":h(a)}])},[s.value?(m(),f("div",fe,[b("div",{class:"maintenance-icon",style:O({backgroundImage:`url(${h(l)})`})},null,4),b("div",be,w(e.$t("home.casinoTitleObj.title3")),1),n.value?(m(),f("div",he,w(e.$t("home.casinoTitleObj.title4")),1)):R("",!0),n.value?(m(),f("div",ge,w(k.value),1)):R("",!0),b("div",{class:"go-btn",onClick:U},w(e.$t("home.casinoTitleObj.gohome")),1)])):(m(),f(g,{key:1},[$(te,{list:u.value,loading:T.value},null,8,["list","loading"]),$(me,{list:p.value,loading:M.value},null,8,["list","loading"])],64))],2))}});ye.__scopeId="data-v-2b7a0d37";export{ye as default};
