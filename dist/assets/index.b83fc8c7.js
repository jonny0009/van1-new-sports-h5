import{_ as a}from"./return@2x.16bf9d85.js";import{_ as s}from"./noData.1a55c6b1.js";import{_ as e}from"./close.8fdeb871.js";import{m as t,d as l,h as n,I as o}from"./index.3fdc477b.js";import{s as r,d as c,e as i,j as d,r as u,o as f,R as p,q as m,O as g,P as v,u as h,a2 as _,F as y,Z as b,V as j,c as k,S as C,W as x,X as D}from"./vue.e791136f.js";const L=a=>(x("data-v-6dacf863"),a=a(),D(),a),T={class:"notice"},$={class:"content"},q={key:0,class:"noData"},w=[L((()=>v("img",{class:"img_1",src:s},null,-1))),L((()=>v("p",null," 未查询到相关数据 ",-1)))],A={class:"list"},E=["onClick"],H={class:"font_1"},I=["innerHTML"],M={class:"font_3"},S=L((()=>v("span",null,"查看完整讯息",-1))),z=L((()=>v("img",{class:"img_close",src:e},null,-1)));var F=r({setup(s){const e=j(),r=c("消息"),x=c(!1),D=c(!1),L=i({arr:[]});d((async()=>{}));let F=0;const O=async()=>{F++;const a={page:F,pageSize:20},s=await t(a),e=s.data;200===s.code?(e.messages.forEach((a=>{L.arr.push(a)})),x.value=!1,D.value=L.arr.length===e.totalCount):l(s.msg)},P=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const e=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(e,`${o}${e}`)})),a}return""},R=a=>{console.log(a,"单个删除====")};return(s,t)=>{const l=u("van-nav-bar"),o=u("van-swipe-cell"),c=u("van-list");return f(),p("div",T,[m(l,{class:"bg-title",title:r.value},{left:g((()=>[v("img",{class:"img_1",src:a,alt:"",onClick:t[0]||(t[0]=a=>{e.push({path:"/home"})})})])),_:1},8,["title"]),v("div",$,[!h(L).arr.length&&D.value?(f(),p("div",q,w)):_("",!0),v("div",A,[m(c,{loading:x.value,"onUpdate:loading":t[1]||(t[1]=a=>x.value=a),finished:D.value,"finished-text":"没有更多了",onLoad:O},{default:g((()=>[(f(!0),p(y,null,b(h(L).arr,((a,s)=>(f(),k(o,{key:s,"before-close":R,class:"itemContent"},{right:g((()=>[z])),default:g((()=>[v("div",{class:"cell",onClick:s=>(a=>{e.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[v("p",H,C(a.title),1),v("p",{class:"font_2",innerHTML:P(a.content)},null,8,I),v("div",M,[S,v("span",null,C(h(n)(a.optTime)),1)])],8,E)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});F.__scopeId="data-v-6dacf863";export{F as default};
