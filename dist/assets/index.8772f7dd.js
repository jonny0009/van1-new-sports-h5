var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,n=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{s as o,d as v,r as c,o as i,R as r,P as p,F as m,Z as d,c as g,O as y,S as h,B as k,q as f,Y as b,W as T,X as D,E as x,u as _,x as I,y as j,V as w,_ as S,M,w as O,a2 as $}from"./vue.93da156d.js";import{t as z}from"./title-time.ab77a541.js";import{t as C}from"./title-recommend.753ea118.js";import{c as P}from"./league-icon.f74f56e6.js";import{_ as R}from"./index.ff0109a0.js";import{c as B}from"./index.c6c0c149.js";import{f as L,r as A}from"./index.22074f91.js";import{ap as H}from"./index.7a687da7.js";const E={class:"league-champion-item__content"},q={class:"betting-select"},F={class:"betting-select__list"},N={class:"up-betting-name betslipLine"},V={class:"text"},W=(e=>(T("data-v-27cd4b68"),e=e(),D(),e))((()=>p("span",{class:"point"},null,-1))),X={class:"details"},Y={class:"container"},Z={class:"item"};var G=o({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=v(!1),t=v();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,s)=>{const u=c("BettingOption"),n=c("van-icon");return i(),r("div",E,[p("div",q,[p("div",F,[(i(!0),r(m,null,d(t.value,((e,a)=>(i(),g(u,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:y((()=>[p("span",N,[p("span",V,h(e.ratio),1),W]),p("div",X,[p("div",Y,[p("div",Z,h(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),p("div",{class:"betting-select__more",onClick:s[0]||(s[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(h(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),f(n,{class:b(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});G.__scopeId="data-v-27cd4b68";const J={class:"sport-champion-list"},K={class:"champion-title"},Q={class:"champion-group-body"},U={class:"league-champion-item__header"},ee={class:"icon"},ae={class:"title"};var le=o({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const a=v(!0),l=e=>{a.value=!e};return(t,s)=>{const u=c("ArrowTitle"),n=x("img");return i(),r("div",J,[p("div",K,[f(u,{class:"mt10 mb10",src:_(C),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),I(p("div",Q,[(i(!0),r(m,null,d(e.championList,((e,a)=>(i(),r("div",{key:a,class:"league-champion-item"},[p("div",U,[I(p("img",ee,null,512),[[n,_(P)]]),p("div",ae,h(e.champion.championType),1)]),f(G,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[j,a.value]])])}}});le.__scopeId="data-v-d986c25e";const te={class:"sport-page"},se={class:"my-scroll__content"},ue={class:"betting-sport-nav"},ne={key:0,class:"recommend-list"},oe={key:0,class:"recommend-list"},ve={key:0,class:"early-list"};var ce=o({setup(e){const{currentRoute:o}=w(),y=S(),k=v(y.query.leagueId),T=v(y.params.type),D=v(),x=v(),P=v(!0),E=v(1),q=v(10),F=v(1),N=v(10),V=v(!1),W=v(!1),X=e=>{P.value=!e},Y=v(!0),Z=e=>{Y.value=!e};M((async()=>{K(),G()})),O((()=>o.value),(e=>{T.value=e.params.type,k.value="",E.value=1,F.value=1,console.log(T.value),K(),G()}));const G=async()=>{if(k.value){const e=v({gameType:T.value,leagueId:k.value,page:1,pageSize:20});pe(e.value),de()}else{const e=v({gameType:T.value,gradeType:1,page:E.value,pageSize:q.value});pe(e.value);const a=v({gameType:T.value,gradeType:2,page:F.value,pageSize:N.value});pe(a.value)}},J=v([]),K=async()=>{if(T.value){const e=await L({gameType:T.value})||{};200===e.code&&e.data?J.value=e.data:J.value=[]}},Q=v(!1),U=async()=>{var e,a;if(V.value)return;F.value=F.value+1;const l=v({gameType:T.value,gradeType:2,page:F.value,pageSize:N.value});Q.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&(ie.value.push(...t.data.baseData),console.log(ie.value.length)),ie.value.length<F.value*N.value?V.value=!0:V.value=!1,Q.value=!1},ee=v(!1),ae=async()=>{var e,a;if(W.value)return;E.value=E.value+1;const l=v({gameType:T.value,gradeType:1,page:E.value,pageSize:q.value});ee.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&ce.value.push(...t.data.baseData),ce.value.length<E.value*q.value?W.value=!0:W.value=!1,ee.value=!1},ce=v([]),ie=v([]),re=v(!1),pe=async e=>{var a,l;if(T.value){re.value=!1;const t=await A(e)||{};re.value=!0;let s=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(s=t.data.baseData),1===e.gradeType||k.value?s.length?(D.value=s[0].leagueLogo,x.value=s[0].leagueShortName,ce.value=s):(D.value="",x.value="",ce.value=[]):2===e.gradeType&&(s.length?ie.value=s:ie.value=[])}},me=v([]),de=async()=>{var e;if(k.value){const o=await B({page:1,pageSize:10,leagueIds:k.value})||{};if(200===o.code&&o.data){const v=((null==(e=null==o?void 0:o.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:o,gameId:v,gidm:c,gameType:i}=e,r=e.champion.playType,p=e.champion.championType,m=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var d;return e.marketInfo=new H((d=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&n(e,l,a[l]);if(t)for(var l of t(a))u.call(a,l)&&n(e,l,a[l]);return e})({},e),a(d,l({systemId:o,gameId:v,gidm:c,gameType:i,playType:r,sw:m,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));me.value=v}}else me.value=[]},ge=e=>{k.value=e.leagueId,G()};return(e,a)=>{const l=c("ImageButton"),t=c("ArrowTitle"),s=c("Loading"),u=c("HomeMatchHandicap"),n=c("HomeEmpty"),o=c("FooterHeight");return i(),r("div",te,[p("div",se,[p("div",ue,[f(R,{text:e.$t("sport.recommend"),active:!k.value,onClick:a[0]||(a[0]=e=>ge({}))},null,8,["text","active"]),(i(!0),r(m,null,d(J.value,((e,a)=>(i(),g(l,{key:a,text:e.leagueNameAbbr,src:e.icon,active:k.value===e.leagueId,onClick:a=>ge(e)},null,8,["text","src","active","onClick"])))),128))])]),ce.value.length&&k.value?(i(),r(m,{key:0},[f(t,{class:"mt10 mb10",src:D.value,type:"6",text:x.value,onReturnSuccess:X},null,8,["src","text"]),P.value?(i(),r(m,{key:0},[re.value?(i(),r(m,{key:1},[ce.value.length?(i(),r("div",ne,[(i(!0),r(m,null,d(ce.value,((e,a)=>I((i(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,P.value]]))),128))])):(i(),g(n,{key:1}))],64)):(i(),g(s,{key:0}))],64)):$("",!0)],64)):$("",!0),k.value?$("",!0):(i(),r(m,{key:1},[f(t,{class:"mt10 mb10",src:_(C),text:e.$t("sport.recommend"),onReturnSuccess:X},null,8,["src","text"]),P.value?(i(),r(m,{key:0},[re.value?(i(),r(m,{key:1},[ce.value.length?(i(),r("div",oe,[(i(!0),r(m,null,d(ce.value,((e,a)=>I((i(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,P.value]]))),128))])):(i(),g(n,{key:1}))],64)):(i(),g(s,{key:0})),!ee.value&&ce.value.length?(i(),r("div",{key:2,class:b(["Button-MatchMore mt20",W.value?"no-more":""]),onClick:ae},[p("span",null,h(W.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):$("",!0),ee.value?(i(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),k.value?$("",!0):(i(),r(m,{key:2},[f(t,{class:"mt10 mb10",src:_(z),text:e.$t("sport.early"),onReturnSuccess:Z},null,8,["src","text"]),Y.value?(i(),r(m,{key:0},[re.value?(i(),r(m,{key:1},[ie.value.length?(i(),r("div",ve,[(i(!0),r(m,null,d(ie.value,((e,a)=>I((i(),g(u,{key:a,"send-params":e},null,8,["send-params"])),[[j,Y.value]]))),128))])):(i(),g(n,{key:1}))],64)):(i(),g(s,{key:0})),!Q.value&&ie.value.length?(i(),r("div",{key:2,class:b(["Button-MatchMore mt20",V.value?"no-more":""]),onClick:U},[p("span",null,h(V.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)):$("",!0),Q.value?(i(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),me.value.length&&k.value?(i(),g(le,{key:3,"champion-list":me.value},null,8,["champion-list"])):$("",!0),f(o)])}}});ce.__scopeId="data-v-e648eaac";export{ce as default};
