import{m as e,u as a,n as t,o as l,p as n,q as o,v as s,s as i,w as r,x as c}from"./index.bd5660e2.js";import{s as u,d,b as g,r as b,o as m,R as p,P as h,u as v,F as f,S as y,_ as T,W as I,q as w,B as k,c as _,O as $,M as R,a as j,w as x,U as L,X as C,$ as D,Y as M,Z as O}from"./vue.16414fe4.js";const S=(e=[])=>(e=>{const a=[];let t=-1,l=-1,n=-1,o=0,s=!1;for(let i=0;i<e.length;++i){let r=e[i];r>=10&&(r%=10),3===r&&(r=2),-1===t||t!==r&&0!==r?(l++,n=l,o=0,s=!1,t=r,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][o++]=1e3*e[i],0===t&&a[l][0]++):0===r?a[n][o-1]++:s||6===o||0!==a[l][o]?(s=!0,n++,1===o&&(l=n),a.length<=n&&a.push([0,0,0,0,0,0]),a[n][o-1]=1e3*e[i]):a[l][o++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),B=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)};var U,X;(X=U||(U={}))[X.Dragon=1]="Dragon",X[X.Jump=2]="Jump",X[X.Room=3]="Room",X[X.Sit=4]="Sit",X[X.Triangle=5]="Triangle",X[X.NDragon=6]="NDragon",X[X.Triangle_Up=7]="Triangle_Up",X[X.Triangle_Down=8]="Triangle_Down",X[X.Triangle_RowLink=9]="Triangle_RowLink",X[X.Triangle_ZhuangLink=10]="Triangle_ZhuangLink",X[X.Triangle_XianLink=11]="Triangle_XianLink",X[X.Triangle_ZhuangJump=12]="Triangle_ZhuangJump",X[X.Triangle_XianJump=13]="Triangle_XianJump",X[X.Triangle_ZhuangGap=14]="Triangle_ZhuangGap",X[X.Triangle_XianGap=15]="Triangle_XianGap",X[X.DoubleJump=16]="DoubleJump";const z={class:"content"},E={class:"table-cover"},J=["src"],Z={class:"table-road-list"},A={class:"good-bg"},P={class:"title-1"},G={class:"title-2"},N={class:"bottom"},q={class:"table-name"},F={class:"right"},K={class:"bet-money"},V={class:"number"};var W=u({props:{tableInfo:{type:Object,default:()=>{}}},setup(i){const r=i,{t:c}=a(),u=d(!1),_=g((()=>{if(u.value||!r.tableInfo.tableCover){const e=Math.round(88*Math.random()+1);return new URL(`/casinoBg/user/${e}.png`,import.meta.url).href}return r.tableInfo.tableCover})),$=["he","xian","zhuang","zhuang"],R=g((()=>{let e=S(r.tableInfo.wins||[]);if(B(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let n=l[e],o="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===n){a[t][e].push(o);continue}const s=document.createElement("div");let i=0;i=n<10?n:n>1e3?n%1e3:n%10,1===n&&(n=0);n=Math.floor(n/1e3)%10,3===n&&(n=2);const r=n%10;i?(i>1&&(s.innerText=`${i}`),o=`box ${$[r]} line`):o=`box ${$[r]}`,a[t][e].push(o)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),j=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},x=g((()=>((a,t,l)=>{switch(a){case 1:return e.global.t("home.baccarat.连庄");case 2:return e.global.t("home.baccarat.单跳");case 3:let a=1,n=1;return 0==t>>16?(a=l>>16,n=65535&l):(n=l>>16,a=65535&l),e.global.t("home.baccarat.{n1}房{n2}厅",{n1:a,n2:n});case 6:return e.global.t("home.baccarat.双龙汇");case 7:return e.global.t("home.baccarat.上坡路");case 8:return e.global.t("home.baccarat.下坡路");case 9:return e.global.t("home.baccarat.排排连");case 10:return e.global.t("home.baccarat.逢庄连");case 11:return e.global.t("home.baccarat.逢闲连");case 12:return e.global.t("home.baccarat.逢庄跳");case 13:return e.global.t("home.baccarat.逢闲跳");case 14:return e.global.t("home.baccarat.隔连庄");case 15:return e.global.t("home.baccarat.隔连闲");case 16:return e.global.t("home.baccarat.双跳")}})(r.tableInfo.goodRoadType,r.tableInfo.goodRoadTypeParam1,r.tableInfo.goodRoadTypeParam2))),L=async()=>{const e=r.tableInfo.tableId;l({duration:2e4,message:c("home.loading")});const a=await n({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===a?.code){o();const t=`${a.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${C()}&brandType=1&tableId=${e}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=t}},C=()=>{const e=localStorage.getItem("locale")||s();return"zh-sg"===e?"zh-tw":e};return(e,a)=>{const l=b("SvgIcon");return m(),p("div",{class:"table-info-component",onClick:L},[h("div",z,[h("div",E,[h("img",{src:v(_),style:{"object-fit":"contain"},onError:a[0]||(a[0]=e=>u.value=!0)},null,40,J)]),h("div",Z,[(m(!0),p(f,null,y(v(R),((e,a)=>(m(),p("div",{key:a,class:"road-col"},[(m(!0),p(f,null,y(e,((e,a)=>(m(),p("div",{key:a,class:"road-item"},[h("span",{class:T(["round",e])},null,2)])))),128))])))),128))]),h("div",A,[h("div",P,I(v(x)),1),h("div",G,"x"+I(j(i.tableInfo.goodRoadTitle).str2),1)])]),h("div",N,[h("span",q,I(i.tableInfo.tableName),1),h("div",F,[h("div",K,[w(t,{"class-name":"mr3 fs24"}),k(" "+I(i.tableInfo.tableLimitMin||0),1)]),h("div",V,[w(l,{name:"home-users",class:"users-icon"}),k(" "+I(i.tableInfo.tablePlayers||0),1)])])])])}}});W.__scopeId="data-v-03c5313a";const Y={class:"good-road-view"},H={class:"title"},Q={key:1,class:"list"},ee=["src"];var ae=u({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(e){a();const t=d(!1),l=d();d();const n=d("");return(a,o)=>{const s=b("Loading"),i=b("EmptyData"),r=b("van-popup");return m(),p(f,null,[h("section",Y,[h("div",H,[h("span",null,I(a.$t("home.casinoTitleObj.title1")),1)]),e.loading?(m(),_(s,{key:0})):e.list.length?(m(),p("div",Q,[(m(!0),p(f,null,y(e.list,((e,a)=>(m(),_(W,{key:a,"table-info":e},null,8,["table-info"])))),128))])):(m(),_(i,{key:2}))]),w(r,{show:t.value,"onUpdate:show":o[0]||(o[0]=e=>t.value=e),round:"",position:"bottom",teleport:"body",style:{height:"84%"}},{default:$((()=>[h("iframe",{ref_key:"iframeRef",ref:l,width:"100%",height:"100%",style:{border:"none"},src:n.value,frameborder:"0"},null,8,ee)])),_:1},8,["show"])],64)}}});ae.__scopeId="data-v-23565d43";const te={class:"table-cover"},le=["src"],ne={class:"table-road-list"},oe={class:"table-name"},se={class:"bottom"},ie={class:"bet-money"},re={class:"number"};var ce=u({props:{tableInfo:{type:Object,default:()=>{}}},setup(e){const i=e,{t:r}=a(),c=d(!1),u=g((()=>{if(c.value||!i.tableInfo.tableCover){let e=Math.round(29*Math.random()+1);return e>30&&(e%=30),new URL(`/casinoBg/bg/${e}.jpg`,import.meta.url).href}return i.tableInfo.tableCover})),_=["he","xian","zhuang","zhuang"],$=g((()=>{let e=S(i.tableInfo.wins||[]);if(B(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let n=l[e],o="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===n){a[t][e].push(o);continue}const s=document.createElement("div");let i=0;i=n<10?n:n>1e3?n%1e3:n%10,1===n&&(n=0);n=Math.floor(n/1e3)%10,3===n&&(n=2);const r=n%10;i?(i>1&&(s.innerText=`${i}`),o=`box ${_[r]} line`):o=`box ${_[r]}`,a[t][e].push(o)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),R=async()=>{const e=i.tableInfo.tableId;l({duration:2e4,message:r("home.loading")});const a=await n({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===a?.code){o();const t=`${a.data.url.replace("&isAi=1","")}&source=7lucky&hasLive=1&language=${j()}&brandType=1&tableId=${e}&sourceUrl=${encodeURIComponent(window.location.href)}`;window.location.href=t}},j=()=>{const e=localStorage.getItem("locale")||s();return"zh-sg"===e?"zh-tw":e};return(a,l)=>{const n=b("SvgIcon");return m(),p("div",{class:"table-info-component",onClick:R},[h("div",te,[h("img",{src:v(u),style:{"object-fit":"contain"},onError:l[0]||(l[0]=e=>c.value=!0)},null,40,le)]),h("div",ne,[(m(!0),p(f,null,y(v($),((e,a)=>(m(),p("div",{key:a,class:"road-col"},[(m(!0),p(f,null,y(e,((e,a)=>(m(),p("div",{key:a,class:"road-item"},[h("span",{class:T(["round",e])},null,2)])))),128))])))),128))]),h("div",oe,I(e.tableInfo.tableName),1),h("div",se,[h("span",ie,[w(t,{"class-name":"mr3 fs24"}),k(" "+I(e.tableInfo.tableLimitMin||0),1)]),h("span",re,[w(n,{name:"home-users",class:"users-icon"}),k(" "+I(e.tableInfo.tablePlayers||0),1)])])])}}});ce.__scopeId="data-v-5e4f3d1e";const ue={class:"good-road-view"},de={class:"title"},ge={key:1,class:"list"};var be=u({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=b("Loading"),n=b("EmptyData");return m(),p("section",ue,[h("div",de,I(a.$t("home.casinoTitleObj.title2")),1),e.loading?(m(),_(l,{key:0})):e.list.length?(m(),p("div",ge,[(m(!0),p(f,null,y(e.list,((e,a)=>(m(),_(ce,{key:a,"table-info":e},null,8,["table-info"])))),128))])):(m(),_(n,{key:2}))])}});be.__scopeId="data-v-529aa41e";const me=e=>(M("data-v-d0d397fa"),e=e(),O(),e),pe={key:0,class:"maintenance-view"},he={class:"maintenance-title"},ve={key:0,class:"maintenance-subtitle"},fe={key:1,class:"maintenance-timer"},ye={class:"header-area"},Te={class:"btns"},Ie=me((()=>h("span",{class:"units-icon mi-bet"},null,-1))),we={class:"units-title"},ke=me((()=>h("span",{class:"units-icon"},null,-1))),_e={class:"units-title"};var $e=u({setup(e){const a=g((()=>i.state.app.showFixedBet)),t=g((()=>i.state.app.theme)),l=g((()=>"blue"===t.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),n=d(!1),o=d(!1),s=d({}),u=d([]),b=d([]),y=d(),k=d(""),$=d(!0),M=d(!0);R((()=>{O(),S()})),j((()=>{clearInterval(y.value)})),clearInterval(y.value),y.value=setInterval((()=>{O(),S()}),1e4);const O=async()=>{const e=await r();$.value=!1;const a=e?.data||[];if(a&&a.length){const e=a.filter((e=>4!==e.goodRoadType));u.value=e.slice(0,2)}},S=async()=>{const e=await c();M.value=!1,503===e?.data?.code?(n.value=!0,s.value=e?.data?.data):n.value=!1,b.value=e?.data?.data||[]};x((()=>n.value),(()=>{n.value&&B()}));const B=()=>{const e=s.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return o.value=!1,!1;o.value=!0;const t=a-(new Date).getTime();let l,n,i;t>=0&&(l=Math.floor(t/1e3/60/60),n=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),l=l<10?"0"+l:l,n=n<10?"0"+n:n,i=i<10?"0"+i:i,k.value=`${l}:${n}:${i}`,setTimeout(B,1e3))},U=L(),X=()=>{U.push("/home")};return(e,t)=>(m(),p("div",{class:T(["casino-page",{"has-bet":v(a)}])},[n.value?(m(),p("div",pe,[h("div",{class:"maintenance-icon",style:C({backgroundImage:`url(${v(l)})`})},null,4),h("div",he,I(e.$t("home.casinoTitleObj.title3")),1),o.value?(m(),p("div",ve,I(e.$t("home.casinoTitleObj.title4")),1)):D("",!0),o.value?(m(),p("div",fe,I(k.value),1)):D("",!0),h("div",{class:"go-btn",onClick:X},I(e.$t("home.casinoTitleObj.gohome")),1)])):(m(),p(f,{key:1},[h("div",ye,[h("div",Te,[h("div",{class:"multiple-units",onClick:t[0]||(t[0]=(...a)=>e.miTablesShow&&e.miTablesShow(...a))},[Ie,h("span",we,I(e.$t("home.miBet")),1)]),h("div",{class:"multiple-units",onClick:t[1]||(t[1]=(...a)=>e.goodRoadShow&&e.goodRoadShow(...a))},[ke,h("span",_e,I(e.$t("home.mulBet")),1)])])]),u.value.length?(m(),_(ae,{key:0,list:u.value,loading:$.value},null,8,["list","loading"])):D("",!0),w(be,{list:b.value,loading:M.value},null,8,["list","loading"])],64))],2))}});$e.__scopeId="data-v-d0d397fa";export{$e as default};
