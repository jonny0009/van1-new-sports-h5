import{b as a,a as s,_ as e,t}from"./del.92c4af9d.js";import{s as r,I as l,l as n,r as c,d as i,e as o}from"./index.f7b9dba8.js";import{_ as u}from"./ball1.960fadd9.js";import{_ as m}from"./noData.9ca698a8.js";import{s as d,r as p,o as g,R as v,F as y,Z as f,a1 as h,V as k,q as _,u as I,P as L,W as b,X as w,S as T,B as $,b as C,e as S,d as H,j as M,O as j,Y as x,c as D}from"./vue.85a22cc6.js";import{h as O}from"./moment.9709ab41.js";import{_ as P}from"./go@2x.8fabf032.js";const W=a=>(b("data-v-771746e2"),a=a(),w(),a),V={class:"matchList-1"},F=["onClick"],N=["innerHTML"],q={key:0,class:"noData"},A=[W((()=>L("img",{class:"img_1",src:m},null,-1))),W((()=>L("p",null," 未查询到相关数据 ",-1)))];var B=d({props:{leagueList:{type:Array,default:function(){return[]}},keyWords:{type:String,default:function(){return""}}},setup(s){const e=s,t=k(),l=(a,s)=>{const e=new RegExp(a,"gi");return s.replace(e,`<span style="color: #7642FD;font-weight:600">${a}</span>`)};return(s,n)=>{const c=p("van-image");return g(),v("div",V,[(g(!0),v(y,null,f(e.leagueList,((s,n)=>(g(),v("div",{key:n,class:"left1",onClick:a=>(async a=>{r.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),t.push({path:`/sport/${a.gameType}`,query:{leagueId:a.id}})})(s)},[_(c,{class:"itemImg",fit:"contain",src:I(a)},null,8,["src"]),L("div",{class:"font_2",innerHTML:l(e.keyWords,s.name)},null,8,N)],8,F)))),128)),e.leagueList.length?h("",!0):(g(),v("div",q,A))])}}});B.__scopeId="data-v-771746e2";const J=a=>(b("data-v-036e364c"),a=a(),w(),a),R={class:"matchList-1"},E=["onClick"],Y={class:"left3"},z={class:"itemImg"},K=["src"],U=["src"],X={class:"center"},Z=["innerHTML"],G=$(" VS "),Q=["innerHTML"],aa={class:"center_1"},sa=J((()=>L("img",{class:"ball4",fit:"contain",src:u},null,-1))),ea={class:"right"},ta={key:0,class:"noData"},ra=[J((()=>L("img",{class:"img_1",src:m},null,-1))),J((()=>L("p",null," 未查询到相关数据 ",-1)))];var la=d({props:{gameList:{type:Array,default:function(){return[]}},keyWords:{type:String,default:function(){return""}}},setup(a){const e=a,t=k(),n=a=>a?O(a).format("MM/DD HH:mm"):"",c=a=>(console.log(a),a?`${l}${a}`:s),i=(a,s)=>{const e=new RegExp(a,"gi");return s.replace(e,`<span style="color: #7642FD;font-weight:600">${a}</span>`)};return(a,s)=>{const l=p("van-image");return g(),v("div",R,[(g(!0),v(y,null,f(e.gameList,((a,s)=>(g(),v("div",{key:s,class:"left1 left2",onClick:s=>(async a=>{r.dispatch("betting/setMoreShow",{status:!1,moreParams:{}});const s=JSON.stringify(a);t.push({path:"/home",query:{gidm:a.gidm,obj:s}})})(a)},[L("div",Y,[L("div",z,[L("img",{class:"itemImg-1",fit:"contain",src:c(a.homeLogo)},null,8,K),L("img",{class:"itemImg-2",fit:"contain",src:c(a.awayLogo)},null,8,U)]),L("div",X,[L("div",null,[L("span",{innerHTML:i(e.keyWords,a.homeTeam)},null,8,Z),G,L("span",{innerHTML:i(e.keyWords,a.awayTeam)},null,8,Q)]),L("div",aa,[sa,L("span",null,T(n(a.gameDate)),1)])])]),L("div",ea,[_(l,{class:"goImg",fit:"contain",src:I(P)},null,8,["src"])])],8,E)))),128)),e.gameList.length?h("",!0):(g(),v("div",ta,ra))])}}});la.__scopeId="data-v-036e364c";const na={class:"search"},ca={class:"search_box"},ia={key:0,class:"content"},oa={key:0,class:"font_1"},ua={key:1,class:"font_1 font-2"},ma={key:2,class:"historyList"},da=["onClick"],pa={class:"content-list"},ga=["onClick"],va={class:"left"},ya={class:"font_2"},fa={class:"right"},ha={key:1,class:"matchList"},ka={class:"area-btn_1"};var _a=d({setup(a){const s=k(),m=C((()=>r.state.app.sports)),d=S({arr:n.getItem("searchHistory")||[]}),b=H(""),w=H(1),$=S({arr:[]}),O=S({arr:[]}),P=H(!1),W=H(!1),V=S({arr:[]});M((async()=>{r.dispatch("app/getAllSports"),N()}));const F=a=>a.icon?`${l}${a.icon}`:u,N=()=>{let a=[...m.value];a=a.filter((a=>0!==a.gameCount&&"SY"!==a.gameType)),a=JSON.parse(JSON.stringify(a));const s=["OP_BM","TN","BK","FT"];a.sort((function(a,e){return s.indexOf(e.gameType)-s.indexOf(a.gameType)})),V.arr=a},q=async()=>{d.arr=[],n.setItem("searchHistory",d.arr)},A=async()=>{W.value=!0,w.value=1,O.arr=[],$.arr=[];const a=await c({keywords:b.value});if(200!==a.code)return W.value=!1,i(a.msg);200===a.code&&(b.value&&(d.arr.unshift(b.value),n.setItem("searchHistory",d.arr.slice(0,6)),d.arr=n.getItem("searchHistory")),W.value=!1,O.arr=a.data.gameInfo||[],$.arr=a.data.league||[])};return(a,l)=>{const n=p("van-image"),c=p("van-field"),i=p("van-cell-group"),u=p("van-divider"),m=p("van-loading");return g(),v("div",na,[L("div",ca,[_(i,{inset:""},{default:j((()=>[_(c,{modelValue:b.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>b.value=a),A],center:"",clearable:"",placeholder:a.$t("user.search")},{"left-icon":j((()=>[_(n,{class:"searchImg",fit:"contain",src:I(o)},null,8,["src"])])),_:1},8,["modelValue","placeholder"])])),_:1}),L("span",{class:"cancel",onClick:l[1]||(l[1]=a=>(r.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),void s.push({path:"/home"})))},T(a.$t("user.cancellation")),1)]),b.value?(g(),v("div",ha,[L("div",ka,[L("span",{class:x(1==w.value?"active":""),onClick:l[2]||(l[2]=a=>w.value=1)},T(a.$t("user.league")),3),L("span",{class:x(2==w.value?"active":""),onClick:l[3]||(l[3]=a=>w.value=2)},T(a.$t("user.competition")),3)]),W.value?(g(),D(m,{key:0,size:"24",type:"spinner",vertical:""})):h("",!0),1===w.value?(g(),D(B,{key:1,"league-list":I($).arr,"key-words":b.value},null,8,["league-list","key-words"])):h("",!0),2===w.value?(g(),D(la,{key:2,"game-list":I(O).arr,"key-words":b.value},null,8,["game-list","key-words"])):h("",!0)])):(g(),v("div",ia,[I(d).arr.length?(g(),v("p",ua,[L("span",null,T(a.$t("user.SearchHistory")),1),L("img",{class:"img_3",src:e,alt:"",onClick:q})])):(g(),v("p",oa,T(a.$t("user.recommend")),1)),_(u),P.value?h("",!0):(g(),v("div",ma,[(g(!0),v(y,null,f(I(d).arr,(a=>(g(),v("div",{key:a,class:"item"},[_(n,{class:"itemImg",fit:"contain",src:I(t)},null,8,["src"]),L("span",{class:"font_2",onClick:s=>{return e=a,b.value=e,void A();var e}},T(a),9,da)])))),128))])),L("div",pa,[(g(!0),v(y,null,f(I(V).arr,((e,t)=>(g(),v("div",{key:t,class:"detail",onClick:a=>(a=>{r.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),s.push({path:`/sport/${a.gameType}`})})(e)},[L("div",va,[_(n,{class:"itemImg",fit:"contain",src:F(e)},null,8,["src"]),L("span",ya,T(a.$t(`user.sports.${e.gameType}`)),1)]),L("div",fa,T(e.gameCount),1)],8,ga)))),128))])]))])}}});_a.__scopeId="data-v-b643ce0a";export{_a as default};
