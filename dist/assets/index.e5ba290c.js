import{b as a,a as s,_ as e,c as t,t as r}from"./del.31c11227.js";import{s as l,I as n,l as i,r as c,d as o,e as u}from"./index.6fc4f0f3.js";import{_ as m}from"./ball1.960fadd9.js";import{_ as d}from"./noData.79dee01e.js";import{s as g,r as p,o as v,R as y,F as f,Z as h,a1 as k,V as _,q as T,u as I,P as L,W as w,X as $,S as b,B as C,b as M,e as S,d as H,j,O as x,Y as D,c as O}from"./vue.85a22cc6.js";import{h as P}from"./moment.9709ab41.js";import{_ as W}from"./go@2x.8fabf032.js";const B=a=>(w("data-v-771746e2"),a=a(),$(),a),F={class:"matchList-1"},N=["onClick"],V=["innerHTML"],q={key:0,class:"noData"},A=[B((()=>L("img",{class:"img_1",src:d},null,-1))),B((()=>L("p",null," 未查询到相关数据 ",-1)))];var J=g({props:{leagueList:{type:Array,default:function(){return[]}},keyWords:{type:String,default:function(){return""}}},setup(s){const e=s,t=_(),r=(a,s)=>{const e=new RegExp(a,"gi");return s.replace(e,`<span style="color: #7642FD;font-weight:600">${a}</span>`)};return(s,n)=>{const i=p("van-image");return v(),y("div",F,[(v(!0),y(f,null,h(e.leagueList,((s,n)=>(v(),y("div",{key:n,class:"left1",onClick:a=>(async a=>{l.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),t.push({path:`/sport/${a.gameType}`,query:{leagueId:a.id}})})(s)},[T(i,{class:"itemImg",fit:"contain",src:I(a)},null,8,["src"]),L("div",{class:"font_2",innerHTML:r(e.keyWords,s.name)},null,8,V)],8,N)))),128)),e.leagueList.length?k("",!0):(v(),y("div",q,A))])}}});J.__scopeId="data-v-771746e2";const R=a=>(w("data-v-036e364c"),a=a(),$(),a),E={class:"matchList-1"},K=["onClick"],Y={class:"left3"},z={class:"itemImg"},U=["src"],X=["src"],Z={class:"center"},G=["innerHTML"],Q=C(" VS "),aa=["innerHTML"],sa={class:"center_1"},ea=R((()=>L("img",{class:"ball4",fit:"contain",src:m},null,-1))),ta={class:"right"},ra={key:0,class:"noData"},la=[R((()=>L("img",{class:"img_1",src:d},null,-1))),R((()=>L("p",null," 未查询到相关数据 ",-1)))];var na=g({props:{gameList:{type:Array,default:function(){return[]}},keyWords:{type:String,default:function(){return""}}},setup(a){const e=a,t=_(),r=a=>a?P(a).format("MM/DD HH:mm"):"",i=a=>(console.log(a),a?`${n}${a}`:s),c=(a,s)=>{const e=new RegExp(a,"gi");return s.replace(e,`<span style="color: #7642FD;font-weight:600">${a}</span>`)};return(a,s)=>{const n=p("van-image");return v(),y("div",E,[(v(!0),y(f,null,h(e.gameList,((a,s)=>(v(),y("div",{key:s,class:"left1 left2",onClick:s=>(async a=>{l.dispatch("betting/setMoreShow",{status:!1,moreParams:{}});const s=JSON.stringify(a);t.push({path:"/home",query:{gidm:a.gidm,obj:s}})})(a)},[L("div",Y,[L("div",z,[L("img",{class:"itemImg-1",fit:"contain",src:i(a.homeLogo)},null,8,U),L("img",{class:"itemImg-2",fit:"contain",src:i(a.awayLogo)},null,8,X)]),L("div",Z,[L("div",null,[L("span",{innerHTML:c(e.keyWords,a.homeTeam)},null,8,G),Q,L("span",{innerHTML:c(e.keyWords,a.awayTeam)},null,8,aa)]),L("div",sa,[ea,L("span",null,b(r(a.gameDate)),1)])])]),L("div",ta,[T(n,{class:"goImg",fit:"contain",src:I(W)},null,8,["src"])])],8,K)))),128)),e.gameList.length?k("",!0):(v(),y("div",ra,la))])}}});na.__scopeId="data-v-036e364c";const ia={class:"search"},ca={class:"search_box"},oa={key:0,class:"content"},ua={key:0,class:"font_1"},ma={key:1,class:"font_1 font-2"},da={key:2,class:"historyList"},ga=["onClick"],pa={class:"content-list"},va=["onClick"],ya={class:"left"},fa={class:"font_2"},ha={class:"right"},ka={key:1,class:"matchList"},_a={class:"area-btn_1"};var Ta=g({setup(d){const g=_(),w=M((()=>l.state.app.sports)),$=S({arr:i.getItem("searchHistory")||[]}),C=H(""),P=H(1),W=S({arr:[]}),B=S({arr:[]}),F=H(!1),N=H(!1),V=S({arr:[{name:"足球",img:m,gameType:"FT"},{name:"篮球",img:t,gameType:"BK"},{name:"网球",img:a,gameType:"TN"},{name:"羽毛球",img:s,gameType:"OP_BM"}]});j((async()=>{l.dispatch("app/getAllSports"),A()}));const q=a=>a.icon?`${n}${a.icon}`:m,A=()=>{let a=[...w.value];a=a.filter((a=>0!==a.gameCount&&"SY"!==a.gameType)),a=JSON.parse(JSON.stringify(a));const s=["OP_BM","TN","BK","FT"];a.sort((function(a,e){return s.indexOf(e.gameType)-s.indexOf(a.gameType)})),V.arr=a},R=async()=>{$.arr=[],i.setItem("searchHistory",$.arr)},E=async()=>{N.value=!0,P.value=1,B.arr=[],W.arr=[];const a=await c({keywords:C.value});if(200!==a.code)return N.value=!1,o(a.msg);200===a.code&&(C.value&&($.arr.unshift(C.value),i.setItem("searchHistory",$.arr.slice(0,6)),$.arr=i.getItem("searchHistory")),N.value=!1,B.arr=a.data.gameInfo||[],W.arr=a.data.league||[])};return(a,s)=>{const t=p("van-image"),n=p("van-field"),i=p("van-cell-group"),c=p("van-divider"),o=p("van-loading");return v(),y("div",ia,[L("div",ca,[T(i,{inset:""},{default:x((()=>[T(n,{modelValue:C.value,"onUpdate:modelValue":[s[0]||(s[0]=a=>C.value=a),E],center:"",clearable:"",placeholder:a.$t("user.search")},{"left-icon":x((()=>[T(t,{class:"searchImg",fit:"contain",src:I(u)},null,8,["src"])])),_:1},8,["modelValue","placeholder"])])),_:1}),L("span",{class:"cancel",onClick:s[1]||(s[1]=a=>(l.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),void g.push({path:"/home"})))},b(a.$t("user.cancellation")),1)]),C.value?(v(),y("div",ka,[L("div",_a,[L("span",{class:D(1==P.value?"active":""),onClick:s[2]||(s[2]=a=>P.value=1)},b(a.$t("user.league")),3),L("span",{class:D(2==P.value?"active":""),onClick:s[3]||(s[3]=a=>P.value=2)},b(a.$t("user.competition")),3)]),N.value?(v(),O(o,{key:0,size:"24",type:"spinner",vertical:""})):k("",!0),1===P.value?(v(),O(J,{key:1,"league-list":I(W).arr,"key-words":C.value},null,8,["league-list","key-words"])):k("",!0),2===P.value?(v(),O(na,{key:2,"game-list":I(B).arr,"key-words":C.value},null,8,["game-list","key-words"])):k("",!0)])):(v(),y("div",oa,[I($).arr.length?(v(),y("p",ma,[L("span",null,b(a.$t("user.SearchHistory")),1),L("img",{class:"img_3",src:e,alt:"",onClick:R})])):(v(),y("p",ua,b(a.$t("user.recommend")),1)),T(c),F.value?k("",!0):(v(),y("div",da,[(v(!0),y(f,null,h(I($).arr,(a=>(v(),y("div",{key:a,class:"item"},[T(t,{class:"itemImg",fit:"contain",src:I(r)},null,8,["src"]),L("span",{class:"font_2",onClick:s=>{return e=a,C.value=e,void E();var e}},b(a),9,ga)])))),128))])),L("div",pa,[(v(!0),y(f,null,h(I(V).arr,((s,e)=>(v(),y("div",{key:e,class:"detail",onClick:a=>(a=>{l.dispatch("betting/setMoreShow",{status:!1,moreParams:{}}),g.push({path:`/sport/${a.gameType}`})})(s)},[L("div",ya,[T(t,{class:"itemImg",fit:"contain",src:q(s)},null,8,["src"]),L("span",fa,b(a.$t(`user.sports.${s.gameType}`)),1)]),L("div",ha,b(s.gameCount),1)],8,va)))),128))])]))])}}});Ta.__scopeId="data-v-0a6e76b9";export{Ta as default};
