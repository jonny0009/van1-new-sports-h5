import{_ as s}from"./index.061b9c70.js";import{$ as e,a0 as a,a1 as t,s as c,a2 as n,a3 as o}from"./index.60680413.js";import{s as i,d as r,r as l,E as m,o as u,R as _,P as d,q as v,S as p,x as h,u as g,a1 as f,M as H,g as A,h as b,f as $,b as w,w as T,F as y,Z as P,c as x,W as S,X as O}from"./vue.85a22cc6.js";import{a as N,b as J}from"./index.5eb08fec.js";const I=s=>{const e=s.se_now?+s.se_now.replace(/[^0-9]/gi,""):0;let a,t;s.sc_adv?"40"===s.sc_game_A&&"40"===s.sc_game_H?"0"===s.sc_adv?(a="A",t=+s.sc_game_H):"1"===s.sc_adv?(t="A",a=s.sc_game_A):(a=s.sc_game_A,t=s.sc_game_H):(a=s.sc_game_A,t=s.sc_game_H):"Adv"===s.sc_game_A||"A"===s.sc_game_A?(a="A",t=s.sc_game_H):"Adv"===s.sc_game_H||"A"===s.sc_game_H?(t="A",a=s.sc_game_A):(a=s.sc_game_A,t=s.sc_game_H);const c=s&&s.sc_iwd&&s.sc_iwd.trim()?JSON.parse(s.sc_iwd):"",n={sc1stA:s?+s.sc_1st_A:0,sc1stH:s?+s.sc_1st_H:0,sc2stA:s?+s.sc_2nd_A:0,sc2stH:s?+s.sc_2nd_H:0,sc3stA:s?+s.sc_3th_A:0,sc3stH:s?+s.sc_3th_H:0,sc4stA:s?+s.sc_4th_A:0,sc4stH:s?+s.sc_4th_H:0,sc5stA:s?+s.sc_5th_A:0,sc5stH:s?+s.sc_5th_H:0};let o={};const i=[];let r=1,l={scoreA:0,scoreH:0},m={};for(let A=1;A<5;A++){const s=j(A,n,l);if(i.push(s.scoreObj),!s.hasNext){r=A,l=s.scorePan,m=s.scoreJu;break}5===A&&(r=A,l=s.scorePan,m=s.scoreJu)}let u="",_="",d="",v="",p="",h="";const g=(""+(t||a?t+":"+a:"")).split(":"),f=g[0],H=g[1];return e?(u=`第${e}盘${n[`sc${e}stH`]}:${n[`sc${e}stA`]}(${t||a?(t||0)+":"+(a||0):""})`,_=`第${e}盘`,d=`${n[`sc${e}stH`]||0}:${n[`sc${e}stA`]||0}`,v=`(${t||a?(t||0)+":"+(a||0):""})`,p=n[`sc${e}stH`]||0,h=n[`sc${e}stA`]||0):r&&(u=`第${r}盘${n[`sc${r}stH`]||0}:${n[`sc${r}stA`]||0}(${t||a?(t||0)+":"+(a||0):""})`,_=`第${r}盘`,d=`${n[`sc${r}stH`]||0}:${n[`sc${r}stA`]||0}`,p=n[`sc${r}stH`]||0,h=n[`sc${r}stA`]||0,v=`(${t||a?(t||0)+":"+(a||0):""})`),o={scoreArr:i,currPanNum:r,sciwd:c,senow:e>0?e:r,showText:u,scorePan:l,scoreJu:m,score1:d,score2:v,score1Home:p,score1Away:h,score2Home:f,score2Away:H,panNum:_},o},j=(s,e,a)=>{const t={hasNext:!1},c=`sc${s}stA`,n=`sc${s}stH`,o=e[c],i=e[n];return o>=7||i>=7?t.hasNext=!0:6!==o&&6!==i||Math.abs(o-i)>=2&&(t.hasNext=!0),t.hasNext&&(o>i?a.scoreA+=1:a.scoreH+=1),t.scoreObj={[c]:o,[n]:i},t.scoreJu={scoreA:o,scoreH:i},t.scorePan=a,t},k=(s,e=5)=>{var a;if(!s)return"";const t={sc1stA:1*s.sc_1st_A||0,sc1stH:1*s.sc_1st_H||0,sc2stA:1*s.sc_2nd_A||0,sc2stH:1*s.sc_2nd_H||0,sc3stA:1*s.sc_3th_A||0,sc3stH:1*s.sc_3th_H||0,sc4stA:1*s.sc_4th_A||0,sc4stH:1*s.sc_4th_H||0,sc5stA:1*s.sc_5th_A||0,sc5stH:1*s.sc_5th_H||0,sc6stA:1*s.sc_6th_A||0,sc6stH:1*s.sc_6th_H||0,sc7stA:1*s.sc_7th_A||0,sc7stH:1*s.sc_7th_H||0,sc8stA:1*s.sc_8th_A||0,sc8stH:1*s.sc_8th_H||0,sc9stA:1*s.sc_9th_A||0,sc9stH:1*s.sc_9th_H||0,sc10stA:1*s.sc_10th_A||0,sc10stH:1*s.sc_10th_H||0};let c={};const n=[];let o=1;const i={scoreA:0,scoreH:0};let r={};for(let l=1;l<e+1;l++){const s=R(l,t,i);n.push(s.scoreObj),o=l,i.scoreA+=s.scoreJu.scoreA,i.scoreH+=s.scoreJu.scoreH,i.num=s.scorePan.num,(s.scoreJu.scoreA||s.scoreJu.scoreH)&&(r=s.scoreJu)}return i.num=(null==(a=s.se_now)?void 0:a.replace(/[^0-9]/gi,""))||null,s.inningNum&&"0"!==s.inningNum&&(i.num=s.inningNum),c={scoreArr:n,currPanNum:o,showText:`第${i.num}局 (${i.scoreH} : ${i.scoreA})`,scorePan:i,scoreJu:r},c},R=(s,e,a)=>{const t={},c=`sc${s}stA`,n=`sc${s}stH`,o=1*e[c],i=1*e[n];return t.scoreJu={},o>0||i>0?(t.hasNext=!0,a.num=s,t.scoreJu={scoreA:o,scoreH:i}):(a.num||(a.num=1),t.scoreJu.scoreA||(t.scoreJu={scoreA:o,scoreH:i})),t.scoreObj={[c]:o,[n]:i},t.scorePan=a,t},B=s=>{const e={};return e.se_now=s.se_now&&"0"!==s.se_now?s.se_now.replace(/[^0-9]/gi,""):"",e.sc_half=s.sc_half?+s.sc_half?"下":"上":"",e.score=k(s,9).scorePan,e.sc_ot=s.sc_ot?+s.sc_ot:"",e.sc_fb=s.sc_fb?JSON.parse(s.sc_fb):"",e.sc_sb=s.sc_sb?JSON.parse(s.sc_sb):"",e.sc_tb=s.sc_tb?JSON.parse(s.sc_tb):"",e},F=(s,e="H")=>{if((null==s?void 0:s.gameInfo)&&("RB"===(null==s?void 0:s.showtype)||"RB"===(null==s?void 0:s.showType))){let a,t;if("TN"===(null==s?void 0:s.gameType)){const a=I(null==s?void 0:s.gameInfo);return"H"===e?a.scorePan.scoreH:a.scorePan.scoreA}if("BS"===s.gameType&&s.gidm.indexOf("ib")>-1){const a=B(s.gameInfo);return"H"===e?a.score.scoreH:a.score.scoreA}return"FT"===s.gameType&&s.gidm.indexOf("ib")>-1&&s.homeTeamSuffix&&s.gameScene&&s.gameScene.scene&&s.gameScene.scene.score&&s.gameScene.scene.score.fullScore?"H"===e?s.gameScene.scene.score.fullScore.team1||"":s.gameScene.scene.score.fullScore.team2||"":"H"===e?((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(a=s.gameInfo.sc_FT_H||0),a):((s.gameInfo.sc_FT_H||s.gameInfo.sc_game_H)&&(t=s.gameInfo.sc_FT_A||s.gameInfo.sc_FT_C||0),t)}},M={class:"homeMatchHandicap"},L={class:"home-tabs-play"},C={class:"home-match"},E={class:"up-match-group__body"},q={class:"up-match"},Q={class:"match-info-live__header border-bottom"},D={class:"up-match-league"},K={class:"text"},U={class:"flex-cross-center"},V={class:"up-match-time"},X=["innerHTML"],z={class:"up-match-score border-bottom"},W={class:"item mb5"},Y={type:4,class:"my-image img",style:{"object-fit":"contain"},alt:""},Z={class:"name"},G={class:"container"},ss={class:"value"},es={class:"item"},as={class:"my-image img",type:5,style:{"object-fit":"contain"},alt:""},ts={class:"name"},cs={class:"container"},ns={class:"value"},os={class:"up-match__body"},is={key:0,class:"match-betting-item"},rs=d("div",{class:"match-betting-item__title"},[d("div",{class:"flex-cross-center"}," 全场 亚洲让分盘 ")],-1),ls={class:"match-betting-item__content"},ms={class:"betting-select"},us={class:"betting-select__list"},_s={key:1,class:"match-betting-item"},ds=d("div",{class:"match-betting-item__title"},[d("div",{class:"flex-cross-center"}," 全场 大小盘 ")],-1),vs={class:"match-betting-item__content"},ps={class:"betting-select"},hs={class:"betting-select__list"},gs={key:2,class:"match-betting-item"},fs=d("div",{class:"match-betting-item__title"},[d("div",{class:"flex-cross-center"}," 全场 1X2 ")],-1),Hs={class:"match-betting-item__content"},As={class:"betting-select"},bs={class:"betting-select__list"},$s={class:"up-match__footer"},ws={class:"match-footer"},Ts=d("span",null,"更多玩法",-1),ys=d("span",null,"投注动态",-1);var Ps=i({props:{sendParams:{type:Object,default:function(){return{}}}},setup(s){const i=s,H=()=>{n({message:"投注动态即将推出",theme:"round-button"}).then((()=>{}))},A={0:"",Q1:"第一节",Q2:"第二节",Q3:"第三节",Q4:"第四节","1h":"第一节","2h":"第二节","3h":"第三节","4h":"第四节",OT:"加时赛",HT:"中场休息",H1:"上半场",H2:"下半场",q1:"第一节",q2:"第二节",q3:"第三节",q4:"第四节",ot:"加时赛",ht:"中场休息",h1:"上半场",h2:"下半场"},b=s=>A[s],$=r(""),w=(s={})=>{const{showtype:e,gameType:a,gameInfo:t,showType:c,homeTeamSuffix:n,gidm:i}=s,r=k(t,5),l=t&&t.se_now;if("RB"===e||"RB"===c){switch(a){case"FT":if(!t)return"进行中";if(((null==n?void 0:n.includes("点球"))||(null==n?void 0:n.includes("點球")))&&(t.raceType="dianqiu",t.teamSuffix="点球大战"),((null==n?void 0:n.includes("加时赛"))||(null==n?void 0:n.includes("加時賽")))&&(t.raceType="jiashi",t.teamSuffix="加时"),t.raceType){if("jiashi"===(null==t?void 0:t.raceType)&&("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time)))return"中场休息";if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return"暂停";if("jiashi"===(null==t?void 0:t.raceType)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[s,e]=t.re_time.split("^"),a="1H"===s?`上${e}`:`下${e}`;return`${t.teamSuffix}<span class='time-h-number'>${a}</span>`}}if("HT^^"===(null==t?void 0:t.re_time)||"HT"===(null==t?void 0:t.re_time))return"中场休息";if((null==t?void 0:t.re_time)&&new RegExp("LIVE").test(null==t?void 0:t.re_time))return"暂停";if((null==t?void 0:t.re_time)&&(null==t?void 0:t.re_time.indexOf("^"))>-1){const[s,e]=t.re_time.split("^");let a="";if(e.indexOf("'")>-1){const[s]=e.split("'");a=`${s}<span class="time-h-dot">'</span>`}else a=e;return"1H"===s?`上半场<span class='time-h-Up'>${a}</span>`:`下半场<span class='time-h-d'>${a}</span>`}return(null==t?void 0:t.re_time)?t.re_time:"-:-";case"TN":if(t){const s=I(t);if(null==s?void 0:s.sciwd)return"暂停";const{panNum:e,score1:a,score2:c}=s;return`${e}<span>${a}${c}</span>`}return"进行中";case"BS":if(t){if(i&&i.indexOf("ic")>-1)return"进行中";const s=t?B(t):"";return`<span class="">第${t.inningNum?null==t?void 0:t.inningNum:s.se_now>0?s.se_now:s.score.num}局</span>`}return"进行中";case"BK":return"HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now)?"中场休息":(null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1?`加时<span>${o(1e3*$.value,"mm:ss")}</span>`:l&&$?`${b(null==t?void 0:t.se_now)}<span>${o(1e3*$.value,"mm:ss")}</span>`:!$.value&&l?`${b(t.se_now)}<span>00:00</span>`:"";case"BK_AFT":if(t){if("HT"===(null==t?void 0:t.se_now)||"ht"===(null==t?void 0:t.se_now))return"中场休息";if((null==t?void 0:t.se_now.indexOf("OT"))>-1||(null==t?void 0:t.se_now.indexOf("ot"))>-1)return`加时 <span>${o(1e3*t.t_count,"mm:ss")}</span>`;const s=t&&t.se_now,e=t&&+t.t_count;return s&&e?`${b(t.se_now)}<span>${o(1e3*t.t_count,"mm:ss")}</span>`:""}return"进行中";case"OP_TN":if(t){return(null==t?void 0:t.se_now.replace(/[^0-9]/gi,""))||""}return"进行中";case"OP_VB":return r?`第${r.scorePan.num}局`:"";case"OP_DJ":case"OP_IH":return"进行中"}return"进行中"}return"进行中"},T=({leagueShortName:s,leagueName:e})=>s&&e?`${s||e}`:"";return(n,o)=>{const r=l("van-icon"),A=m("img");return u(),_("div",M,[d("div",L,[v(e,{"time-send-params":s.sendParams},null,8,["time-send-params"])]),d("div",C,[d("div",E,[d("div",q,[d("div",Q,[d("div",D,[d("div",K,p(T(s.sendParams)),1)]),d("div",U,[d("div",V,[d("div",{class:"up-match-time-html",innerHTML:w(s.sendParams)},null,8,X)])])]),d("div",z,[d("div",W,[h(d("img",Y,null,512),[[A,s.sendParams.homeLogo]]),d("div",Z,p(s.sendParams.homeTeamAbbr||s.sendParams.homeTeam),1),d("div",G,[d("div",ss,p(g(F)(s.sendParams,"H")),1)])]),d("div",es,[h(d("img",as,null,512),[[A,s.sendParams.awayLogo]]),d("div",ts,p(s.sendParams.awayTeamAbbr||s.sendParams.awayTeam),1),d("div",cs,[d("div",ns,p(g(F)(s.sendParams,"C")),1)])])]),d("div",os,[s.sendParams.RE?(u(),_("div",is,[rs,d("div",ls,[d("div",ms,[d("div",us,[v(t,{"send-params":g(a)("RE",s.sendParams)},null,8,["send-params"])])])])])):f("",!0),s.sendParams.ROU?(u(),_("div",_s,[ds,d("div",vs,[d("div",ps,[d("div",hs,[v(t,{"send-params":g(a)("ROU",s.sendParams)},null,8,["send-params"])])])])])):f("",!0),s.sendParams.RM?(u(),_("div",gs,[fs,d("div",Hs,[d("div",As,[d("div",bs,[v(t,{"send-params":g(a)("RM",s.sendParams)},null,8,["send-params"])])])])])):f("",!0)])])]),d("div",$s,[d("div",ws,[d("div",{class:"match-footer__item",onClick:o[0]||(o[0]=s=>g(c).dispatch("betting/setMoreShow",{status:!0,moreParams:i.sendParams}))},[Ts,v(r,{class:"arrow",name:"arrow"})]),d("div",{class:"match-footer__item",onClick:H},[ys,v(r,{class:"arrow",name:"arrow"})])])])])])}}});const xs={class:"sportlive"},Ss={key:0,class:"sportlive-Match-Tabs"},Os=(s=>(S("data-v-04b4527b"),s=s(),O(),s))((()=>d("div",{class:"footerHeight"},null,-1)));var Ns=i({setup(e){const a=r(),t=r(!1),n=async(s=!0)=>{await m(),await p(s)},o=r(["FT","BK","TN","OP_BM"]),i=r([]),m=async()=>{const s=await N({})||{};if(200===s.code&&s.data){const e=s.data||[];i.value=e.filter((s=>o.value.includes(s.gameType)))}},d=r([]),p=async(s=!0)=>{var e,c,n,i;const r={gameType:a.value||"",showtype:"RB",timeStage:0,dateStage:0,gameSort:1,isNovice:"Y",onlyFavorite:0,leagueIds:"",gameTypeSon:"",page:1,pageSize:200};s&&(t.value=!1);const l=await J(r)||{};if(s&&(t.value=!0),200===l.code&&(null==(c=null==(e=l.data)?void 0:e.matchList)?void 0:c.baseData)){const s=(null==(i=null==(n=l.data)?void 0:n.matchList)?void 0:i.baseData)||[];d.value=s.filter((s=>o.value.includes(s.gameType)))}else d.value=[]},h=s=>{a.value=s.gameType,p()};H((async()=>{O(),t.value=!1,n()})),A((()=>{O()})),b((()=>{R()})),$((()=>{R()}));const g=w((()=>c.state.app.businessConfig.pushSwitch));T(g,(()=>{O()}));const S=r(),O=()=>{clearTimeout(S),S.value=setTimeout((()=>{j()}),100)},I=r(15e3),j=()=>{1==+g.value&&(I.value=12e4),R(),k.value=setInterval((()=>{n(!1)}),I.value)},k=r(),R=()=>{clearInterval(k.value)};return(e,c)=>{const n=l("SportsButton"),o=l("Loading"),r=l("HomeEmpty");return u(),_("div",xs,[i.value.length?(u(),_("div",Ss,[v(s,{text:"推荐",active:!a.value,onClick:c[0]||(c[0]=s=>h({}))},null,8,["active"]),(u(!0),_(y,null,P(i.value,((s,e)=>(u(),x(n,{key:e,text:s.gameType,active:a.value===s.gameType,onClick:e=>h(s)},null,8,["text","active","onClick"])))),128))])):f("",!0),t.value?(u(),_(y,{key:2},[(u(!0),_(y,null,P(d.value,((s,e)=>(u(),x(Ps,{key:e,"send-params":s},null,8,["send-params"])))),128)),d.value.length?f("",!0):(u(),x(r,{key:0}))],64)):(u(),x(o,{key:1})),Os])}}});Ns.__scopeId="data-v-04b4527b";export{Ns as default};
