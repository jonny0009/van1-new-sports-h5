import{s as a,D as e}from"./index.ad06644e.js";import{r as s}from"./index.98d8ae18.js";import{s as t,b as l,d as o,w as u,e as n,M as r,r as i,o as v,R as d,q as m,O as p,F as c,Z as f,u as g,c as h,_ as T,a1 as y}from"./vue.ffab6494.js";const D={class:"homeTime-page"};var Y=t({setup(t){const Y=l((()=>a.state.home.refreshChangeTime)),M=o(""),S=o();u(Y,(a=>{var e;a&&(null==(e=S.value)||e.resetParams(),clearTimeout(M.value),M.value=setTimeout((async()=>{await q(),await F()}),100))}));const b=o(!1),k=n({page:1,pageSize:5,gradeType:2,gameType:"FT",startDate:e().format("YYYY-MM-DD")+" 00:00:00",endDate:e().format("YYYY-MM-DD")+" 23:59:59"}),w=n([]),_=o(0),x=(a=!1,e="")=>{e?H.value=!a:b.value=a},F=async(a="")=>{x(!1,a);const e=await s(k);if(x(!0,a),200===e.code){const s=(null==e?void 0:e.data)||{},{baseData:t,total:l}=s;_.value=l;const{pageSize:o,page:u}=k;a?j.value=!(o*u<l):w.length=0,w.push(...t)}},H=o(!1),j=o(!1),V=o(""),z=o(!1),L=()=>{z.value?j.value||H.value||(H.value=!0,clearTimeout(V.value),V.value=setTimeout((()=>{k.page++,F(!0)}),100)):z.value=!0},R=a=>{b.value=!0,k.gameType=a,j.value=!1,k.page=1,F()},q=()=>{k.page=1,k.gameType="FT"};return r((()=>{F()})),(a,e)=>{const s=i("SportsTabs"),t=i("HomeMatchHandicap"),l=i("HomeEmpty"),o=i("Loading"),u=i("van-list"),n=i("FooterHeight");return v(),d("div",D,[m(s,{ref_key:"refSportsTabs",ref:S,class:"pb10",onReturnSportsSuccess:R},null,512),m(u,{modelValue:H.value,"onUpdate:modelValue":e[0]||(e[0]=a=>H.value=a),finished:j.value,"finished-text":a.$t("live.noMore"),onLoad:L},{default:p((()=>[a.isShow?y("",!0):(v(),d(c,{key:0},[b.value?(v(),d(c,{key:0},[(v(!0),d(c,null,f(g(w),((a,e)=>(v(),h(t,{key:e,"send-params":a,class:T({mt20:0!==e})},null,8,["send-params","class"])))),128)),g(w).length?y("",!0):(v(),h(l,{key:0}))],64)):y("",!0),!b.value||H.value?(v(),h(o,{key:1,class:T({"new_loading mt10":H.value})},null,8,["class"])):y("",!0)],64))])),_:1},8,["modelValue","finished","finished-text"]),m(n)])}}});Y.__scopeId="data-v-446a02da";export{Y as default};
