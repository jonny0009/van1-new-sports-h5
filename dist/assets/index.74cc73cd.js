var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{t as n,a as i}from"./title-recommend.e2b9b6c8.js";import{s as v,d as c,r,o as d,S as p,P as m,F as g,Z as y,c as h,O as f,V as b,B as k,q as _,_ as T,X as C,Y as w,E as I,u as x,x as D,y as L,R as V,a5 as S,b as j,j as A,g as M,n as O,a0 as $}from"./vue.7b2d67a6.js";import{c as H,d as z}from"./index.01482530.js";import{_ as B}from"./index.522993d9.js";import{f as P,a as U}from"./index.ee1637bd.js";import{s as q,M as E}from"./index.1aa435c0.js";const F={class:"league-champion-item__content"},G={class:"betting-select"},R={class:"betting-select__list"},N={class:"up-betting-name betslipLine"},X={class:"text"},Y=(e=>(C("data-v-27cd4b68"),e=e(),w(),e))((()=>m("span",{class:"point"},null,-1))),Z={class:"details"},J={class:"container"},K={class:"item"};var Q=v({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=c(!1),t=c();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,u)=>{const s=r("BettingOption"),o=r("van-icon");return d(),p("div",F,[m("div",G,[m("div",R,[(d(!0),p(g,null,y(t.value,((e,a)=>(d(),h(s,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:f((()=>[m("span",N,[m("span",X,b(e.ratio),1),Y]),m("div",Z,[m("div",J,[m("div",K,b(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),m("div",{class:"betting-select__more",onClick:u[0]||(u[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(b(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),_(o,{class:T(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});Q.__scopeId="data-v-27cd4b68";const W={class:"sport-champion-list"},ee={class:"champion-title"},ae={class:"champion-group-body"},le={class:"league-champion-item__header"},te={class:"icon"},ue={class:"title"};var se=v({props:{championList:{type:Array,default:function(){return[]}},championListLoading:{type:Boolean,default:function(){return!1}}},setup(e,{expose:a}){const l=c(),t=c(!0),u=e=>{l.value.activeVal=e,t.value=!e};return a({CloseClick:u}),(a,s)=>{const o=r("ArrowTitle"),i=r("Loading"),v=r("HomeEmpty"),c=I("img");return d(),p("div",W,[m("div",ee,[_(o,{class:"mt10 mb10 goodArrowTitle",ref_key:"championArrowTitle",ref:l,src:x(n),text:a.$t("sport.champion"),onReturnSuccess:u},null,8,["src","text"])]),D(m("div",ae,[e.championListLoading?(d(),h(i,{key:0})):(d(),p(g,{key:1},[e.championList.length?(d(!0),p(g,{key:0},y(e.championList,((e,a)=>(d(),p("div",{key:a,class:"league-champion-item"},[m("div",le,[D(m("img",te,null,512),[[c,x(H)]]),m("div",ue,b(e.champion.championType),1)]),_(Q,{"game-detail":e},null,8,["game-detail"])])))),128)):(d(),h(v,{key:1}))],64))],512),[[L,t.value]])])}}});se.__scopeId="data-v-1aad4ddc";const oe={class:"sport-page"},ne={key:0,class:"my-scroll__content"},ie={class:"betting-sport-nav"},ve={class:"league-match-num"},ce={class:"collapseAll"},re={type:"1",fit:"contain",class:"collapse-name"},de={class:"collapse-title"},pe={class:"collapse-num"},me=["onClick"],ge={class:"recommend-list"},ye={class:"early-list"},he={key:0,class:"recommend-list"};var fe=v({setup(e){V();const v=S(),k=j((()=>{var e;return(null==(e=v.params)?void 0:e.type)||"FT"})),C=c(k.value),w=c(),L=e=>{var a;F.value="b1",G.value="c1",null==(a=null==X?void 0:X.value)||a.changeClick(!1),ze.value=!1,R.value=[],C.value=e,q.dispatch("user/getLocationHeight",!1),be()},H=c("1"),F=c("b1"),G=c("c1"),R=c([""]),N=c(),X=c(),Y=c(v.query.leagueId),Z=c(),J=c(),K=c(1),Q=c(10),W=c(1),ee=c(10),ae=c(!1),le=c(!1),te=c(!1),ue=j((()=>q.state.user.locationHeight));A((()=>{}));const fe=()=>{te.value=!1,be()},be=()=>{Y.value="",K.value=1,W.value=1,we(),ke()},ke=async()=>{if(Y.value){const e=c({gameType:C.value,leagueId:Y.value,page:1,pageSize:20});Ae(e.value),$e()}else{const e=c({gameType:C.value,gradeType:1,page:K.value,pageSize:Q.value});Ae(e.value);const a=c({gameType:C.value,gradeType:2,page:W.value,pageSize:ee.value});Ae(a.value)}},_e=c([]),Te=c({}),Ce=c([]),we=async()=>{if(_e.value=[],R.value=[],C.value){const e=await P({gameType:C.value})||{};200===e.code&&e.data?(_e.value=e.data.dateLeagueList[0].leagueList,Te.value=e.data,Ce.value=e.data.leagueList.reduce(((e,a)=>{let l=a.countryId;return e[l]||(e[l]=[]),e[l].push(a),e}),{})):_e.value=[]}},Ie=c(!1),xe=async()=>{var e,a;if(ae.value)return;W.value=W.value+1;const l=c({gameType:C.value,gradeType:2,page:W.value,pageSize:ee.value});Ie.value=!0;const t=await U(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&Se.value.push(...t.data.baseData),Se.value.length<W.value*ee.value?ae.value=!0:ae.value=!1,Ie.value=!1},De=c(!1),Le=async()=>{var e,a;if(le.value)return;K.value=K.value+1;const l=c({gameType:C.value,gradeType:1,page:K.value,pageSize:Q.value});De.value=!0;const t=await U(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&Ve.value.push(...t.data.baseData),Ve.value.length<K.value*Q.value?le.value=!0:le.value=!1,De.value=!1},Ve=c([]),Se=c([]),je=c(!1),Ae=async e=>{var a,l;if(C.value){je.value=!1;const t=await U(e)||{};je.value=!0;let u=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(u=t.data.baseData),1===e.gradeType||Y.value?u.length?(Z.value=u[0].leagueLogo,J.value=u[0].leagueShortName,Ve.value=u):(Z.value="",J.value="",Ve.value=[]):2===e.gradeType&&(u.length?Se.value=u:Se.value=[])}},Me=c([]),Oe=c(!1),$e=async()=>{var e;if(Y.value){Oe.value=!0;const n=await z({page:1,pageSize:10,leagueIds:Y.value})||{};if(Oe.value=!1,200===n.code&&n.data){const i=((null==(e=null==n?void 0:n.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:n,gameId:i,gidm:v,gameType:c}=e,r=e.champion.playType,d=e.champion.championType,p=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new E((m=((e,a)=>{for(var l in a||(a={}))u.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&o(e,l,a[l]);return e})({},e),a(m,l({systemId:n,gameId:i,gidm:v,gameType:c,playType:r,sw:p,championType:d})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));Me.value=i}}else Me.value=[]},He=e=>{var a,l;R.value=[],ze.value=!1,H.value="1",null==(a=null==X?void 0:X.value)||a.changeClick(!1),null==(l=null==N?void 0:N.value)||l.CloseClick(!1),Y.value=e.leagueId,ke()},ze=c(!1);return M((async()=>{var e,a,l,t,u,s;if(ze.value=!1,ue.value)return;"yes"===((null==(e=v.query)?void 0:e.ischampion)||"")?(H.value="2",null==(a=null==X?void 0:X.value)||a.changeClick(!0),null==(l=null==N?void 0:N.value)||l.CloseClick(!1)):(H.value="1",null==(t=null==X?void 0:X.value)||t.changeClick(!1),null==(u=null==N?void 0:N.value)||u.CloseClick(!1)),Y.value=(null==(s=v.query)?void 0:s.leagueId)||"",we(),ke(),O((()=>{var e;null==(e=w.value)||e.setSports(C.value)}))})),(e,a)=>{const l=r("SportsTabs"),t=r("SvgIcon"),u=r("ImageButton"),s=r("van-collapse-item"),o=r("van-collapse"),v=r("ArrowTitle"),c=r("Loading"),k=r("HomeMatchHandicap"),V=r("HomeEmpty"),S=r("van-pull-refresh"),j=r("FooterHeight"),A=I("img");return d(),p("div",oe,[_(l,{ref_key:"refSportsTabs",ref:w,class:"pt20",onReturnSportsSuccess:L},null,512),_(S,{modelValue:te.value,"onUpdate:modelValue":a[6]||(a[6]=e=>te.value=e),onRefresh:fe},{default:f((()=>{var l;return[_e.value.length?(d(),p("div",ne,[m("div",ie,[m("div",{class:T(["league-num",ze.value?"league-num-1":""]),onClick:a[0]||(a[0]=e=>(Y.value="-100",void(ze.value=!ze.value)))},[m("span",null,b(e.$t(`user.sports.${C.value}`)),1),m("span",ve,b((null==(l=Te.value.leagueList)?void 0:l.length)||0),1),_(t,{name:"user-down",class:"icon-svg-1"})],2),_(B,{text:e.$t("sport.recommend"),active:!Y.value,onClick:a[1]||(a[1]=e=>He({}))},null,8,["text","active"]),(d(!0),p(g,null,y(_e.value,((e,a)=>(d(),h(u,{key:a,text:e.leagueNameAbbrCn,src:e.icon,active:Y.value===e.leagueId,onClick:a=>He(e),type:"1",count:e.count},null,8,["text","src","active","onClick","count"])))),128))])])):$("",!0),ze.value?(d(),h(o,{key:1,modelValue:R.value,"onUpdate:modelValue":a[2]||(a[2]=e=>R.value=e),border:!1},{default:f((()=>[(d(!0),p(g,null,y(Ce.value,((e,a)=>(d(),h(s,{name:e[0].countryId,border:!1,key:a},{title:f((()=>[m("div",ce,[D(m("img",re,null,512),[[A,e[0].countryFlag]]),m("span",de,b(e[0].countryCn||"International"),1),m("span",pe,b(e.length),1)])])),default:f((()=>[(d(!0),p(g,null,y(e,((e,a)=>(d(),p("div",{class:"collapse-concent",key:a,onClick:a=>He(e)},b(e.leagueNameAbbrCn),9,me)))),128))])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])):$("",!0),Y.value||ze.value?$("",!0):(d(),p(g,{key:2},[_(o,{modelValue:F.value,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[_(s,{name:"b1"},{title:f((()=>[_(v,{class:"mt10 mb10 goodArrowTitle",src:x(n),text:e.$t("sport.recommend"),ref_key:"leagueArrowTitle",ref:X},null,8,["src","text"])])),default:f((()=>[!je.value||De.value?(d(),h(c,{key:0})):(d(),p(g,{key:1},[Ve.value.length?(d(),p(g,{key:0},[m("div",ge,[(d(!0),p(g,null,y(Ve.value,((e,a)=>(d(),h(k,{key:a,"send-params":e},null,8,["send-params"])))),128))]),m("div",{class:T(["Button-MatchMore mt20 mb20",le.value?"no-more":""]),onClick:Le},[m("span",null,b(le.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(d(),h(V,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"]),_(o,{modelValue:G.value,"onUpdate:modelValue":a[4]||(a[4]=e=>G.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[_(s,{name:"c1"},{title:f((()=>[_(v,{class:"mt10 mb10 latestArrowTitle",src:x(i),text:e.$t("sport.early"),ref_key:"leagueArrowTitle",ref:X},null,8,["src","text"])])),default:f((()=>[!je.value||Ie.value?(d(),h(c,{key:0})):(d(),p(g,{key:1},[Se.value.length?(d(),p(g,{key:0},[m("div",ye,[(d(!0),p(g,null,y(Se.value,((e,a)=>(d(),h(k,{key:a,"send-params":e},null,8,["send-params"])))),128))]),m("div",{class:T(["Button-MatchMore mt20 mb20",ae.value?"no-more":""]),onClick:xe},[m("span",null,b(ae.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(d(),h(V,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"])],64)),Y.value&&!ze.value?(d(),p(g,{key:3},[_(o,{modelValue:H.value,"onUpdate:modelValue":a[5]||(a[5]=e=>H.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[_(s,{name:"1"},{title:f((()=>[_(v,{class:"mt10 mb10",src:Z.value,type:"6",text:J.value,ref_key:"leagueArrowTitle",ref:X},null,8,["src","text"])])),default:f((()=>[je.value?(d(),p(g,{key:1},[Ve.value.length?(d(),p("div",he,[(d(!0),p(g,null,y(Ve.value,((e,a)=>(d(),h(k,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(d(),h(V,{key:1}))],64)):(d(),h(c,{key:0}))])),_:1})])),_:1},8,["modelValue"]),_(se,{ref_key:"championGuessing",ref:N,"champion-list":Me.value,"champion-list-loading":Oe.value},null,8,["champion-list","champion-list-loading"])],64)):$("",!0)]})),_:1},8,["modelValue"]),_(j)])}}});fe.__scopeId="data-v-8e056c42";export{fe as default};
