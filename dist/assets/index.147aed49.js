var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,i=(a,e)=>{for(var t in e||(e={}))n.call(e,t)&&l(a,t,e[t]);if(o)for(var t of o(e))s.call(e,t)&&l(a,t,e[t]);return a};import{s as r,M as p,L as u}from"./index.e2584dee.js";import{p as y}from"./index.299156ed.js";import{b as A,d as c,w as d,j as g,a8 as m,s as v,r as f,E as T,o as h,R as b,c as w,u as O,$ as D,x as k,y as B,q as L,O as K,F as R,S as Y,P as C,W as I,_ as E,T as S}from"./vue.c62eea93.js";const P={1:"veteran",2:"novice",3:"veteran"};function j(a){const o=A((()=>r.state.match.matchInfo)),n=A((()=>r.state.user.userConfig)),s=A((()=>r.state.match.needTimer)),l=c(!0);d((()=>o.value),(()=>{h()})),g((()=>{}));const v=c(!0),f=c("0"),T=c([]),h=async()=>{if(s.value&&!a)return;const{formatType:e}=n.value,{gameType:t}=o.value;if(t&&v.value){const a=await y({gameType:t}),o=a.data||{};if(200===a.code){const a=o[P[e]];T.value=a,v.value=!1}}a&&w(f.value)},b=c([]),w=a=>{var e;f.value=a;const t=null==(e=T.value)?void 0:e.find((a=>{var e;return(null==(e=a.id)?void 0:e.toString())===f.value}));b.value=null==t?void 0:t.playData,D()},O=c([]),D=()=>{const{detail:a,gameType:n,systemId:s,homeTeamAbbr:r,awayTeamAbbr:u}=o.value;if(a&&a.length>0){const o=[];a.forEach((a=>{var l;const{playData:y,game:A}=a;for(const c of y){const a=i({},c),y={gameType:n,homeTeam:r,awayTeam:u,playType:a.playType,championType:A.championType,session:A.session},d=a.ratioData.map((o=>{return new p((l=i({},o),y={systemId:s,gameType:n,homeTeam:r,awayTeam:u,gameId:A.gameId,gidm:A.gidm,strong:A.strong,hstrong:A.hstrong,playType:a.playType,sw:a.sw,championType:a.championType},e(l,t(y))));var l,y}));(null==(l=a.ratioData)?void 0:l.length)>0&&o.push({typeTemp:`${y.playType}${y.session}`,playType:y.playType,playInfo:y,ratioList:d})}}));const y=["HDNB2","HDNB","HTS2","HW3","W3","W3_conner","PD_conner","HT_conner","T_conner"],A=o.filter((a=>!y.includes(a.playType))),c=B(A,b.value),d=K(c),g=L(d,"typeTemp");T.value=k(A),O.value=g,l.value=!1}},k=a=>{const e=m(T.value);console.log(e.length);let t=[];return e.length&&e.forEach((e=>{const o=B(a,e.playData),n=o.map((a=>a.playType)),s=[...new Set(n)],l={id:e.id,name:e.name,groupType:e.groupType,playData:e.playData,count:s.length,playDataList:o};t.push(l)})),t=t.filter((a=>a.playDataList.length>0)),t},B=(a,e)=>{const t={},o=[];a.map((a=>{const{typeTemp:o}=a,n=e.indexOf(o);n>-1&&(t[n]||(t[n]=[]),t[n].push(a))}));return Object.keys(t).map((a=>{const e=t[a];o.push(...e)})),o.concat([])},L=(a,e="playType")=>a.reduce(((a,t)=>{const o=a.find((a=>a[e]===t[e]));return o?o.ratioList=[...o.ratioList,...t.ratioList]:a.push(t),a}),[]),K=a=>{const e=a=>{if(a&&(a=(a+="").replace(/-|(\+)/g,"")).indexOf("/")>-1){const[e,t]=a.split("/");a=(1*e+1*t)/2}return a};return a.map((a=>{const{playType:t,gameType:o}=a.playInfo,{sort:n}=u.getGamePlayData({gameType:o,playType:t});return a.ratioList.sort(((a,t)=>{const o=a.ratio&&u.isStrong({ratio:a.ratio}),n=t.ratio&&u.isStrong({ratio:t.ratio});return e(o)-e(n)})),a.ratioList.sort(((a,e)=>(null==n?void 0:n.indexOf(a.ratioType))-(null==n?void 0:n.indexOf(e.ratioType)))),a}))};return{findGroupById:w,playGroupBetList:T,playBettingList:O,apiLoading:l}}const N={class:"betting-collapse"},V={class:"tab-title"},G={class:"num"},Q={class:"bet-top"},x={class:"name"},J={key:0,class:"tag"},X={class:"bet-bot"},H={key:0,class:"lock",src:"data:image/png;base64,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",alt:""},F={key:1,class:"odds"},U={key:0,class:"vior"},z={key:1,class:"vior"},W={key:2,class:"vior"},q={key:2,class:"vior"};var M=v({props:{groupList:{type:Array,default:()=>[]},bettingList:{type:Array,default:()=>[]},matchInfo:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1}},emits:["tab-change"],setup(a,{emit:e}){const t=a,o=A((()=>t.groupList)),n=A((()=>t.bettingList)),s=c(null),l=a=>{e("tab-change",a)},i=A((()=>t.matchInfo)),r=c(["1"]);return(e,t)=>{const p=f("Loading"),u=f("EmptyData"),y=f("BettingOption"),A=f("van-collapse-item"),c=f("van-collapse"),d=f("van-tab"),g=f("van-tabs"),m=T("play");return h(),b("div",N,[a.loading?(h(),w(p,{key:0})):0===O(n).length?(h(),w(u,{key:1,text:e.$t("live.platCloseAll")},null,8,["text"])):D("",!0),k(L(g,{active:s.value,"onUpdate:active":t[1]||(t[1]=a=>s.value=a),shrink:"","line-height":"0",onChange:l},{default:K((()=>[(h(!0),b(R,null,Y(O(o),((a,e)=>(h(),w(d,{key:e,name:a.id+""},{title:K((()=>[C("div",V,[C("span",null,I(a.name),1),C("span",G,I(a.playDataList.length),1)])])),default:K((()=>[L(c,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a)},{default:K((()=>[(h(!0),b(R,null,Y(O(n),((a,e)=>(h(),w(A,{key:e,name:`${e+1}`,border:!1},{title:K((()=>[k(C("span",null,null,512),[[m,a.playInfo]])])),default:K((()=>{var e;return[C("div",{class:E(["bet",3===(null==(e=a.ratioList)?void 0:e.length)?"col-3":"col-2"])},[(h(!0),b(R,null,Y(a.ratioList,(a=>(h(),w(y,{key:a.playOnlyId,"market-info":a,class:"bet-item"},{default:K((e=>[C("div",Q,[C("span",x,I(a.ratioMatch||a.ratioName),1),a.ratioTag?(h(),b("span",J,I(a.ratioTag),1)):D("",!0)]),C("div",X,[e.lock?(h(),b("img",H)):(h(),b("div",F,["RB"==O(i).showtype?(h(),b("i",{key:0,class:E(["vior-down",{"change-odds":"down-ior"===e.iorChange}])},null,2)):D("",!0),"RB"==O(i).showtype?(h(),b("div",{key:1,class:E(["RB-ChangeIor",{"no-RBtransition":!["up-ior","down-ior"].includes(a.iorChangeTransition)}])},[L(S,{name:["up-ior","down-ior"].includes(a.iorChangeTransition)?"listdown":""},{default:K((()=>["up-ior"===a.iorChangeTransition?(h(),b("div",U,I("up-ior"===a.iorChangeTransition?a.vior:a.oldIor),1)):"down-ior"===a.iorChangeTransition?(h(),b("div",z,I("down-ior"===a.iorChangeTransition?a.vior:a.oldIor),1)):(h(),b("div",W,I(a.vior),1))])),_:2},1032,["name"])],2)):(h(),b("span",q,I(a.vior),1)),"RB"==O(i).showtype?(h(),b("i",{key:3,class:E(["vior-up",{"change-odds":"up-ior"===e.iorChange}])},null,2)):D("",!0)]))])])),_:2},1032,["market-info"])))),128))],2)]})),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:2},1032,["name"])))),128))])),_:1},8,["active"]),[[B,O(n).length>0]])])}}});M.__scopeId="data-v-76f2847a";export{M as _,j as u};
