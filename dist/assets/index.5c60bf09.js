import{s as a,D as e}from"./index.f54c84f2.js";import{r as s}from"./index.c082fb89.js";import{s as t,b as l,d as o,w as u,e as n,M as r,r as i,o as v,R as m,q as c,O as d,F as p,Z as f,u as g,c as h,_ as T,a1 as y}from"./vue.469c5994.js";const D={class:"homeTime-page"};var Y=t({setup(t){const Y=l((()=>a.state.home.refreshChangeTime)),b=o(""),M=o();u(Y,(a=>{var e;a&&(null==(e=M.value)||e.resetParams(),clearTimeout(b.value),b.value=setTimeout((async()=>{await q(),await F()}),100))}));const S=o(!1),k=n({page:1,pageSize:5,gradeType:2,gameType:"FT",startDate:e().format("YYYY-MM-DD")+" 00:00:00",endDate:e().format("YYYY-MM-DD")+" 23:59:59"}),w=n([]),_=o(0),x=(a=!1,e="")=>{e?H.value=!a:S.value=a},F=async(a="")=>{x(!1,a);const e=await s(k);if(x(!0,a),200===e.code){const s=(null==e?void 0:e.data)||{},{baseData:t,total:l}=s;_.value=l;const{pageSize:o,page:u}=k;a?j.value=!(o*u<l):w.length=0,w.push(...t)}},H=o(!1),j=o(!1),V=o(""),z=o(!1),L=()=>{z.value?j.value||H.value||(H.value=!0,clearTimeout(V.value),V.value=setTimeout((()=>{k.page++,F(!0)}),100)):z.value=!0},R=a=>{S.value=!0,k.gameType=a,j.value=!1,k.page=1,F()},q=()=>{k.page=1,k.gameType="FT"};return r((()=>{F()})),(a,e)=>{const s=i("SportsTabs"),t=i("HomeMatchHandicap"),l=i("HomeEmpty"),o=i("Loading"),u=i("van-list"),n=i("FooterHeight");return v(),m("div",D,[c(s,{ref_key:"refSportsTabs",ref:M,class:"pb10",onReturnSportsSuccess:R},null,512),c(u,{modelValue:H.value,"onUpdate:modelValue":e[0]||(e[0]=a=>H.value=a),finished:j.value,"finished-text":a.$t("live.noMore"),onLoad:L},{default:d((()=>[a.isShow?y("",!0):(v(),m(p,{key:0},[S.value?(v(),m(p,{key:0},[(v(!0),m(p,null,f(g(w),((a,e)=>(v(),h(t,{key:e,"send-params":a,class:T({mt20:0!==e})},null,8,["send-params","class"])))),128)),g(w).length?y("",!0):(v(),h(l,{key:0}))],64)):y("",!0),!S.value||H.value?(v(),h(o,{key:1,class:T({"new_loading mt10":H.value})},null,8,["class"])):y("",!0)],64))])),_:1},8,["modelValue","finished","finished-text"]),c(n)])}}});Y.__scopeId="data-v-729bcd8a";export{Y as default};
