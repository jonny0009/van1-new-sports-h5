import{g as e,b as a,c as t}from"./index.7bfa7951.js";import{A as l,M as s,N as n,s as o}from"./index.7dd3cb9b.js";import{s as i,b as c,r as d,E as r,o as u,S as v,P as p,x as b,F as f,_ as m,Z as g,u as h,V as y,q as I,B as w,d as k,c as T,O as x,X as $,Y as _,M as C,a as j,w as M,R as A,W as B,$ as E}from"./vue.7833d4f2.js";const L=e=>(e=>{const a=[];let t=-1,l=-1,s=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(l++,s=l,n=0,o=!1,t=c,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n++]=1e3*e[i],0===t&&a[l][0]++):0===c?a[s][n-1]++:o||6===n||0!==a[l][n]?(o=!0,s++,1===n&&(l=s),a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n-1]=1e3*e[i]):a[l][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),O=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)},D={class:"content"},R={class:"table-cover"},U={style:{"object-fit":"contain"}},z={class:"table-road-list"},V={class:"good-bg"},K={class:"title-1"},N={class:"title-2"},P={class:"bottom"},S={class:"table-name"},X={class:"right"},F={class:"bet-money"},q={class:"number"};var W=i({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,o=["he","xian","zhuang","zhuang"],i=c((()=>{let e=L(t.tableInfo.wins);if(O(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const i=document.createElement("div");let c=0;c=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const d=s%10;c?(c>1&&(i.innerText=`${c}`),n=`box ${o[d]} line`):n=`box ${o[d]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),k=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},T=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=l.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(e,t)=>{const s=d("SvgIcon"),n=r("img");return u(),v("div",{class:"table-info-component",onClick:T},[p("div",D,[p("div",R,[b(p("img",U,null,512),[[n,a.tableInfo.tableCover]])]),p("div",z,[(u(!0),v(f,null,m(h(i),((e,a)=>(u(),v("div",{class:"road-col",key:a},[(u(!0),v(f,null,m(e,((e,a)=>(u(),v("div",{class:"road-item",key:a},[p("span",{class:g(["round",e])},null,2)])))),128))])))),128))]),p("div",V,[p("div",K,y(k(a.tableInfo.goodRoadTitle).str1),1),p("div",N,"x"+y(k(a.tableInfo.goodRoadTitle).str2),1)])]),p("div",P,[p("span",S,y(a.tableInfo.tableName),1),p("div",X,[p("div",F,[I(l,{"class-name":"mr3 fs24"}),w(" "+y(a.tableInfo.tableLimitMin),1)]),p("div",q,[I(s,{name:"home-users",class:"users-icon"}),w(" "+y(a.tableInfo.tablePlayers),1)])])])])}}});W.__scopeId="data-v-e66dcbc2";const Y=e=>($("data-v-5be02ea7"),e=e(),_(),e),Z={class:"good-road-view"},G=Y((()=>p("span",null,"好路推荐",-1))),H=[Y((()=>p("span",{class:"units-icon"},null,-1))),Y((()=>p("span",{class:"units-title"},"多台下注",-1)))],J={key:1,class:"list"},Q=["src"];var ee=i({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(a){const t=k(!1),l=k(""),o=async()=>{t.value=!t.value;s({duration:2e4,message:"加载中..."});const a=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2}).finally((()=>{n()}));if(200===(null==a?void 0:a.code)){const e=a.data.url.replace("&isAi=1","");l.value=`${e}#/multiple`}};return(e,s)=>{const n=d("Loading"),i=d("EmptyData"),c=d("van-popup");return u(),v(f,null,[p("section",Z,[p("div",{class:"title"},[G,p("div",{class:"multiple-units",onClick:o},H)]),a.loading?(u(),T(n,{key:0})):a.list.length?(u(),v("div",J,[(u(!0),v(f,null,m(a.list,((e,a)=>(u(),T(W,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(u(),T(i,{key:2}))]),I(c,{show:t.value,"onUpdate:show":s[0]||(s[0]=e=>t.value=e),position:"bottom",teleport:"body",style:{height:"84%"}},{default:x((()=>[p("iframe",{width:"100%",height:"100%",style:{border:"none"},src:l.value,frameborder:"0"},null,8,Q)])),_:1},8,["show"])],64)}}});ee.__scopeId="data-v-5be02ea7";const ae={class:"table-cover"},te={style:{"object-fit":"contain"}},le={class:"table-road-list"},se={class:"table-name"},ne={class:"bottom"},oe={class:"bet-money"},ie={class:"number"};var ce=i({props:{tableInfo:{type:Object,default:()=>{}}},setup(a){const t=a,o=["he","xian","zhuang","zhuang"],i=c((()=>{let e=L(t.tableInfo.wins);if(O(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const i=document.createElement("div");let c=0;c=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const d=s%10;c?(c>1&&(i.innerText=`${c}`),n=`box ${o[d]} line`):n=`box ${o[d]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),k=async()=>{const a=t.tableInfo.tableId;s({duration:2e4,message:"加载中..."});const l=await e({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==l?void 0:l.code)){n();const e=l.data.url.replace("&isAi=1","");window.location.href=e+"&source=7lucky&hasLive=1&brandType=1&tableId="+a+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(e,t)=>{const s=d("SvgIcon"),n=r("img");return u(),v("div",{class:"table-info-component",onClick:k},[p("div",ae,[b(p("img",te,null,512),[[n,a.tableInfo.tableCover]])]),p("div",le,[(u(!0),v(f,null,m(h(i),((e,a)=>(u(),v("div",{class:"road-col",key:a},[(u(!0),v(f,null,m(e,((e,a)=>(u(),v("div",{class:"road-item",key:a},[p("span",{class:g(["round",e])},null,2)])))),128))])))),128))]),p("div",se,y(a.tableInfo.tableName),1),p("div",ne,[p("span",oe,[I(l,{"class-name":"mr3 fs24"}),w(" "+y(a.tableInfo.tableLimitMin),1)]),p("span",ie,[I(s,{name:"home-users",class:"users-icon"}),w(" "+y(a.tableInfo.tablePlayers),1)])])])}}});ce.__scopeId="data-v-5a27ac46";const de={class:"good-road-view"},re=(e=>($("data-v-887c6872"),e=e(),_(),e))((()=>p("div",{class:"title"},"真人百家乐",-1))),ue={key:1,class:"list"};var ve=i({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=d("Loading"),s=d("EmptyData");return u(),v("section",de,[re,e.loading?(u(),T(l,{key:0})):e.list.length?(u(),v("div",ue,[(u(!0),v(f,null,m(e.list,((e,a)=>(u(),T(ce,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(u(),T(s,{key:2}))])}});ve.__scopeId="data-v-887c6872";const pe={key:0,class:"maintenance-view"},be=(e=>($("data-v-cb059ee4"),e=e(),_(),e))((()=>p("div",{class:"maintenance-title"},"赌场维护中...",-1))),fe={key:0,class:"maintenance-subtitle"},me={key:1,class:"maintenance-timer"};var ge=i({setup(e){const l=c((()=>o.state.app.showFixedBet)),s=c((()=>o.state.app.theme)),n=c((()=>"blue"===s.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),i=k(!1),d=k(!1),r=k({}),b=k([]),m=k([]),w=k(),T=k(""),x=k(!0),$=k(!0);C((()=>{_(),L()})),j((()=>{clearInterval(w.value)})),clearInterval(w.value),w.value=setInterval((()=>{_(),L()}),1e4);const _=async()=>{const e=await a();x.value=!1;const t=(null==e?void 0:e.data)||[];b.value=t.slice(0,2)},L=async()=>{var e,a,l;const s=await t();$.value=!1,503===(null==(e=null==s?void 0:s.data)?void 0:e.code)?(i.value=!0,r.value=null==(a=null==s?void 0:s.data)?void 0:a.data):i.value=!1,m.value=(null==(l=null==s?void 0:s.data)?void 0:l.data)||[]};M((()=>i.value),(()=>{i.value&&O()}));const O=()=>{const e=r.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return d.value=!1,!1;d.value=!0;const t=a-(new Date).getTime();let l,s,n;t>=0&&(l=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),l=l<10?"0"+l:l,s=s<10?"0"+s:s,n=n<10?"0"+n:n,T.value=`${l}:${s}:${n}`,setTimeout(O,1e3))},D=A(),R=()=>{D.push("/home")};return(e,a)=>(u(),v("div",{class:g(["casino-page",{"has-bet":h(l)}])},[i.value?(u(),v("div",pe,[p("div",{class:"maintenance-icon",style:B({backgroundImage:`url(${h(n)})`})},null,4),be,d.value?(u(),v("div",fe,"预计维护倒计时")):E("",!0),d.value?(u(),v("div",me,y(T.value),1)):E("",!0),p("div",{class:"go-btn",onClick:R},"去首页")])):(u(),v(f,{key:1},[I(ee,{list:b.value,loading:x.value},null,8,["list","loading"]),I(ve,{list:m.value,loading:$.value},null,8,["list","loading"])],64))],2))}});ge.__scopeId="data-v-cb059ee4";export{ge as default};
