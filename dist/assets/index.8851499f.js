import{t as e}from"./title-hot.2c430aaf.js";import{s as a,i as t,g as s,D as l}from"./index.e9557cd7.js";import{f as o,r as n}from"./index.d8513c6d.js";import{s as r,d as c,b as u,w as m,e as d,M as i,r as p,o as h,c as v,O as f,q as y,u as g,P as M,Z as k,R as T,F as b,_ as D,a2 as Y,X as S,Y as w,S as H,j as V,f as _,$ as x}from"./vue.b4a9caec.js";import{t as C}from"./title-recommend.753ea118.js";import{t as j}from"./title-time.ab77a541.js";const I=e=>(S("data-v-52c3577a"),e=e(),w(),e),G={class:"Hot-Match-Group-Warp"},$=I((()=>M("div",{class:"onImgError"},null,-1))),F=I((()=>M("div",{class:"mask-left",style:{display:"none"}},null,-1))),L=I((()=>M("div",{class:"mask-right"},null,-1)));var q=r({setup(l){const n=c("1"),r=u((()=>a.state.home.refreshChangeTime)),S=u((()=>0===H.length)),w=c("");m(r,(e=>{e&&(clearTimeout(w.value),w.value=setTimeout((()=>{n.value="1",_()}),100))}));const H=d([]),V=c(!1),_=async()=>{V.value=!1;const e=await o();if(V.value=!0,200===e.code){const a=(null==e?void 0:e.data)||[];H.length=0,H.push(...a)}};return i((()=>{_()})),(a,l)=>{const o=p("ArrowTitle"),r=p("Loading"),c=p("HomeEmpty"),u=p("van-loading"),m=p("van-image"),d=p("van-collapse-item"),i=p("van-collapse");return h(),v(i,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[y(d,{name:"1"},{title:f((()=>[y(o,{class:"mt10 mb10",src:g(e),text:a.$t("home.hotMatch")},null,8,["src","text"])])),default:f((()=>[M("div",G,[M("div",{class:k(["Hot-Match-Group",[{noData:g(S)}]])},[V.value?(h(),T(b,{key:1},[g(S)?(h(),v(c,{key:0})):(h(!0),T(b,{key:1},D(g(H),((e,a)=>(h(),v(m,{key:a,src:g(t)(e.icon),fit:"contain","lazy-load":"",onClick:a=>(e=>{const{leagueId:a,gameType:t}=e;s.push({name:"Sport",query:{leagueId:a},params:{type:t}})})(e)},{loading:f((()=>[y(u,{type:"spinner",class:"van-new-loading",size:"36px"})])),error:f((()=>[$])),_:2},1032,["src","onClick"])))),128))],64)):(h(),v(r,{key:0}))],2),g(S)?Y("",!0):(h(),T(b,{key:0},[F,L],64))])])),_:1})])),_:1},8,["modelValue"])}}});q.__scopeId="data-v-52c3577a";const A={class:"goodMatch"};var E=r({setup(e){const t=l,o=u((()=>a.state.home.refreshChangeTime)),r=c(""),k=c("1");m(o,(e=>{e&&(clearTimeout(r.value),r.value=setTimeout((()=>{k.value="1",V()}),100))}));const S=d([]),w=c(!1),V=async(e="FT")=>{const a={gradeType:1,gameType:e,startDate:t().format("YYYY-MM-DD")+" 00:00:00",endDate:t().add(1,"day").format("YYYY-MM-DD")+" 23:59:59"};w.value=!1;const s=await n(a);if(w.value=!0,200===s.code){const e=(null==s?void 0:s.data)||{},{baseData:a}=e;S.length=0,S.push(...a),console.log(S),console.log((o="gameDate",r=[],c=[],(l=S).map(((e,a)=>{if(-1===r.indexOf(l[a][o]))c.push({[o]:l[a][o],dataInfo:[l[a]]}),r.push(l[a][o]);else for(let t=0;t<c.length;t++)if(c[t][o]===l[a][o]){c[t].dataInfo.push(l[a]);break}})),c))}var l,o,r,c},_=e=>{x.value=e,V(e)};i((()=>{V()}));const x=c("FT"),j=()=>{s.push({name:"Sport",params:{type:x.value}})};return(e,a)=>{const t=p("ArrowTitle"),s=p("SportsTabs"),l=p("Loading"),o=p("HomeEmpty"),n=p("HomeMatchHandicap"),r=p("van-collapse-item"),c=p("van-collapse");return h(),v(c,{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[y(r,{name:"1"},{title:f((()=>[y(t,{class:"mt10",src:g(C),text:e.$t("home.goofMatch")},null,8,["src","text"])])),default:f((()=>[M("div",A,[y(s,{class:"pb10 pt10",onReturnSportsSuccess:_}),w.value?(h(),T(b,{key:1},[g(S).length?Y("",!0):(h(),v(o,{key:0})),(h(!0),T(b,null,D(g(S),((e,a)=>(h(),v(n,{key:a,"send-params":e,class:"mb10"},null,8,["send-params"])))),128))],64)):(h(),v(l,{key:0})),g(S).length?(h(),T("div",{key:2,class:"Button-MatchMore mt10",onClick:j},[M("span",null,H(e.$t("home.lookMoreMatch")),1)])):Y("",!0)])])),_:1})])),_:1},8,["modelValue"])}}});const O={class:"LatestMatch"};var R=r({setup(e){const t=l,o=u((()=>a.state.home.refreshChangeTime)),r=c(""),k=c("1");m(o,(e=>{e&&(clearTimeout(r.value),r.value=setTimeout((()=>{k.value="1",V()}),100))}));const S=d([]),w=c(!1),V=async(e="FT")=>{w.value=!1;const a={gradeType:2,gameType:e,startDate:t().format("YYYY-MM-DD")+" 00:00:00",endDate:t().add(1,"day").format("YYYY-MM-DD")+" 23:59:59"},s=await n(a);if(w.value=!0,200===s.code){const e=(null==s?void 0:s.data)||{},{baseData:a}=e;S.length=0,S.push(...a)}},_=()=>{s.push({name:"HomeTime"})},x=e=>{V(e)};return i((()=>{V()})),(e,a)=>{const t=p("ArrowTitle"),s=p("SportsTabs"),l=p("Loading"),o=p("HomeEmpty"),n=p("HomeMatchHandicap"),r=p("van-collapse-item"),c=p("van-collapse");return h(),v(c,{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:f((()=>[y(r,{name:"1"},{title:f((()=>[y(t,{src:g(j),text:e.$t("home.latestMatch"),class:"mt10"},null,8,["src","text"])])),default:f((()=>[M("div",O,[y(s,{class:"pb10 pt10",onReturnSportsSuccess:x}),w.value?(h(),T(b,{key:1},[g(S).length?(h(!0),T(b,{key:1},D(g(S),((e,a)=>(h(),v(n,{key:a,"send-params":e,class:"mb10"},null,8,["send-params"])))),128)):(h(),v(o,{key:0,class:"marginAuto"}))],64)):(h(),v(l,{key:0})),g(S).length?(h(),T("div",{key:2,class:"Button-MatchMore mt10",onClick:_},[M("span",null,H(e.$t("home.lookMoreMatch")),1)])):Y("",!0)])])),_:1})])),_:1},8,["modelValue"])}}});const U={class:"home-page"};var K=r({setup(e){const t=x();return V((()=>{if(t.query.gidm){const e=JSON.parse(t.query.obj);a.dispatch("betting/setMoreShow",{status:!0,moreParams:e})}})),_((()=>{a.dispatch("home/setKeyValue",{key:"RrefShow",value:!0}),a.dispatch("home/setKeyValue",{key:"OUrefShow",value:!0}),a.dispatch("home/setKeyValue",{key:"MrefShow",value:!0})})),(e,a)=>{const t=p("FooterHeight");return h(),T("div",U,[y(q,{ref:"refHotMatch"},null,512),y(E,{ref:"refGoodMatch"},null,512),y(R,{ref:"refLatestMatch"},null,512),y(t)])}}});K.__scopeId="data-v-0e099cc4";export{K as default};
