import{_ as a}from"./return@2x.4699c821.js";import{_ as s}from"./noData.d948af1f.js";import{_ as t}from"./close.59fd75ea.js";import{m as e}from"./index.19388678.js";import{d as l,a as n,J as r,f as i,r as o,o as c,u as d,m as u,p as m,q as p,v as f,O as g,F as v,E as h,A as _,c as y,y as j,B as C,C as k}from"./vue.3b4f9705.js";import{d as x,f as b,I as A}from"./index.e96292d5.js";const D=a=>(C("data-v-73146645"),a=a(),k(),a),E={class:"notice"},L={class:"content"},T={key:0,class:"noData"},$=[D((()=>p("img",{class:"img_1",src:s},null,-1))),D((()=>p("p",null," 未查询到相关数据 ",-1)))],q={class:"list"},w=["onClick"],H={class:"font_1"},I=["innerHTML"],M={class:"font_3"},z=D((()=>p("span",null,"查看完整讯息",-1))),B=D((()=>p("img",{class:"img_close",src:t},null,-1)));var F=l({setup(s){const t=_(),l=n("消息"),C=n(!1),k=n(!1),D=r({arr:[]});i((async()=>{}));let F=0;const J=async()=>{F++;const a={page:F,pageSize:20},s=await e(a),t=s.data;200===s.code?(t.messages.forEach((a=>{D.arr.push(a)})),C.value=!1,k.value=D.arr.length===t.totalCount):x(s.msg)},O=a=>{if("string"==typeof a){const s=a.match(/<img.*?>/g);return Array.isArray(s)&&s.forEach((s=>{const t=s.match(/src=".*?"/g)[0].replace(/(src=")(.*?)(")/,"$2");a=a.replace(t,`${A}${t}`)})),a}return""},S=a=>{};return(s,e)=>{const n=o("van-nav-bar"),r=o("van-swipe-cell"),i=o("van-list");return c(),d("div",E,[u(n,{class:"bg-title",title:l.value},{left:m((()=>[p("img",{class:"img_1",src:a,alt:"",onClick:e[0]||(e[0]=a=>{t.push({path:"/home"})})})])),_:1},8,["title"]),p("div",L,[f(D).arr.length?g("",!0):(c(),d("div",T,$)),p("div",q,[u(i,{loading:C.value,"onUpdate:loading":e[1]||(e[1]=a=>C.value=a),finished:k.value,"finished-text":"没有更多了",onLoad:J},{default:m((()=>[(c(!0),d(v,null,h(f(D).arr,((a,s)=>(c(),y(r,{key:s,"before-close":S,class:"itemContent"},{right:m((()=>[B])),default:m((()=>[p("div",{class:"cell",onClick:s=>(a=>{t.push({path:"/user/noticeDetail",query:{id:a.id}})})(a)},[p("p",H,j(a.title),1),p("p",{class:"font_2",innerHTML:O(a.content)},null,8,I),p("div",M,[z,p("span",null,j(f(b)(a.optTime)),1)])],8,w)])),_:2},1024)))),128))])),_:1},8,["loading","finished"])])])])}}});F.__scopeId="data-v-73146645";export{F as default};
