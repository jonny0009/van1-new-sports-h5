import{_ as a}from"./edit.4295f099.js";import{_ as s}from"./pitch.818e46e3.js";import{d as e,b as l,a as i,f as t,r as c,o as r,u as o,m as d,p as n,q as u,x as v,A as p,B as m,C as f}from"./vue.3b4f9705.js";import{p as g,u as y,s as h}from"./index.19388678.js";import{d as k,s as I,I as x,j as _}from"./index.e96292d5.js";const C=a=>(m("data-v-6a78cc16"),a=a(),f(),a),b={class:"editUser"},j={class:"content"},w={class:"head"},V=["src"],N={class:"edit-name"},U=C((()=>u("span",null,"编辑昵称",-1))),$=C((()=>u("p",{class:"explain"},"个人简介",-1))),q={class:"explain-box"},z=C((()=>u("p",{class:"explain privacy"},"隐私设置",-1))),A={class:"account-1"},B={class:"top-1"},P={key:0,class:"img_1",src:s,alt:""},D=v(" 公开帐户（推荐） "),E=C((()=>u("div",{class:"top-2"}," 其他用户可以直接关注你，查看你的档案和注单。你还是可以隐藏具体的注单。这是默认设置。 ",-1))),F={class:"account-1"},G={class:"top-1"},H={key:0,class:"img_1",src:s,alt:""},J=v(" 私密帐户 "),K=C((()=>u("div",{class:"top-2"}," 其他用户只有在你接受他们的关注请求时才能看到你的档案和注单。你在平台的体验会比较私密。 ",-1)));var L=e({setup(s){const e=l((()=>I.state.user.userInfo)),v=p(),m=i(""),f=i(0),C=i({}),L=a=>{v.push("/user"+a)},M=async a=>{if(f.value===a)return;f.value=a;const s={privacy:f.value},e=await h(s);if(200!==e.code)return k(e.msg);k("编辑成功")},O=i("编辑档案");t((()=>{Q()}));const Q=async()=>{const a={fPlayerId:e.value.playerId},s=await g(a);if(200!==s.code)return k(s.msg);m.value=s.data.profiles,f.value=s.data.privacy,C.value=s.data};return(s,e)=>{const l=c("van-nav-bar"),i=c("van-field");return r(),o("div",b,[d(l,{class:"bg-title",title:O.value,border:!1},{left:n((()=>[u("span",{onClick:e[0]||(e[0]=a=>{v.push("/user/userInfo")})},"取消")])),right:n((()=>[u("span",{onClick:e[1]||(e[1]=a=>(async()=>{const a={nickName:"",headImg:"",profiles:m.value},s=await y(a);if(200!==s.code)return k(s.msg);k("编辑成功"),I.dispatch("user/userInfo"),v.push("/user/userInfo")})())},"保存")])),_:1},8,["title"]),u("div",j,[u("div",w,[u("img",{class:"img_1",src:(t=C.value.headImg,t?`${x}${t}`:_),alt:""},null,8,V),u("div",{class:"edit",onClick:e[2]||(e[2]=a=>L("/editImg"))},"编辑")]),u("div",N,[U,u("img",{class:"img_1",src:a,alt:"",onClick:e[3]||(e[3]=a=>L("/editName"))})]),$,u("div",q,[d(i,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),rows:"10",autosize:"",type:"textarea",maxlength:"256","show-word-limit":""},null,8,["modelValue"])]),z,u("div",A,[u("div",B,[0===f.value?(r(),o("img",P)):(r(),o("div",{key:1,class:"round",onClick:e[5]||(e[5]=a=>M(0))})),D]),E]),u("div",F,[u("div",G,[1===f.value?(r(),o("img",H)):(r(),o("div",{key:1,class:"round",onClick:e[6]||(e[6]=a=>M(1))})),J]),K])])]);var t}}});L.__scopeId="data-v-6a78cc16";export{L as default};
