import{m as e,n as a,o as t,p as l,q as s,s as n,v as o,w as i}from"./index.799525d8.js";import{s as c,d as r,b as u,r as d,o as v,R as p,P as b,u as m,F as f,S as g,_ as h,W as y,q as I,B as w,c as T,O as k,Y as $,Z as j,M as x,a as C,w as _,U as O,X as E,$ as M}from"./vue.97c0c246.js";const A=e=>(e=>{const a=[];let t=-1,l=-1,s=-1,n=0,o=!1;for(let i=0;i<e.length;++i){let c=e[i];c>=10&&(c%=10),3===c&&(c=2),-1===t||t!==c&&0!==c?(l++,s=l,n=0,o=!1,t=c,a.length<=l&&a.push([0,0,0,0,0,0]),a[l][n++]=1e3*e[i],0===t&&a[l][0]++):0===c?a[s][n-1]++:o||6===n||0!==a[l][n]?(o=!0,s++,1===n&&(l=s),a.length<=s&&a.push([0,0,0,0,0,0]),a[s][n-1]=1e3*e[i]):a[l][n++]=1e3*e[i]}return a})(e=e.map((e=>e%10==0?0:e))).map((e=>e.map((e=>{if(0!==e)return e})))),B=e=>{if(e.length<2)return!1;const a=(e[0]||[])[0];return!!(a&&a<1e3)};const L={class:"content"},U={class:"table-cover"},D=["src"],R={class:"table-road-list"},z={class:"good-bg"},S={class:"title-1"},K={class:"title-2"},P={class:"bottom"},V={class:"table-name"},X={class:"right"},q={class:"bet-money"},F={class:"number"};var N=c({props:{tableInfo:{type:Object,default:()=>{}}},setup(s){const n=s,o=r(!1),i=u((()=>o.value||!n.tableInfo.tableCover?"/assets/user.a56c1294.jpg":n.tableInfo.tableCover)),c=["he","xian","zhuang","zhuang"],T=u((()=>{let e=A(n.tableInfo.wins);if(B(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-15,15);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const r=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${c[r]} line`):n=`box ${c[r]}`,a[t][e].push(n)}}if(a.length<19){const e=19-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),k=e=>{const a={};if(e.indexOf("X")>-1){const t=(e=e.replaceAll(" ","")).split("X");a.str1=t[0],a.str2=t[1]}return a},$=async()=>{const e=n.tableInfo.tableId;a({duration:2e4,message:"加载中..."});const s=await t({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==s?void 0:s.code)){l();const a=s.data.url.replace("&isAi=1","");window.location.href=a+"&source=7lucky&hasLive=1&brandType=1&tableId="+e+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(a,t)=>{const l=d("SvgIcon");return v(),p("div",{class:"table-info-component",onClick:$},[b("div",L,[b("div",U,[b("img",{src:m(i),onError:t[0]||(t[0]=e=>o.value=!0),style:{"object-fit":"contain"}},null,40,D)]),b("div",R,[(v(!0),p(f,null,g(m(T),((e,a)=>(v(),p("div",{class:"road-col",key:a},[(v(!0),p(f,null,g(e,((e,a)=>(v(),p("div",{class:"road-item",key:a},[b("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),b("div",z,[b("div",S,y(k(s.tableInfo.goodRoadTitle).str1),1),b("div",K,"x"+y(k(s.tableInfo.goodRoadTitle).str2),1)])]),b("div",P,[b("span",V,y(s.tableInfo.tableName),1),b("div",X,[b("div",q,[I(e,{"class-name":"mr3 fs24"}),w(" "+y(s.tableInfo.tableLimitMin||0),1)]),b("div",F,[I(l,{name:"home-users",class:"users-icon"}),w(" "+y(s.tableInfo.tablePlayers||0),1)])])])])}}});N.__scopeId="data-v-6b79e389";const W=e=>($("data-v-e663d3ee"),e=e(),j(),e),Y={class:"good-road-view"},Z={class:"title"},G=[W((()=>b("span",{class:"units-icon"},null,-1))),W((()=>b("span",{class:"units-title"},"多台下注",-1)))],H={key:1,class:"list"},J=["src"];var Q=c({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup(e){const n=r(!1),o=r(""),i=async()=>{n.value=!n.value;a({duration:2e4,message:"加载中..."});const e=await t({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2}).finally((()=>{l()}));if(200===(null==e?void 0:e.code)){const a=localStorage.getItem("locale")||s(),t=e.data.url.replace("&isAi=1","");o.value=`${t}&language=${a}#/multiple`}};return(a,t)=>{const l=d("Loading"),s=d("EmptyData"),c=d("van-popup");return v(),p(f,null,[b("section",Y,[b("div",Z,[b("span",null,y(a.$t("home.casinoTitleObj.title1")),1),b("div",{class:"multiple-units",onClick:i},G)]),e.loading?(v(),T(l,{key:0})):e.list.length?(v(),p("div",H,[(v(!0),p(f,null,g(e.list,((e,a)=>(v(),T(N,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(v(),T(s,{key:2}))]),I(c,{round:"",show:n.value,"onUpdate:show":t[0]||(t[0]=e=>n.value=e),position:"bottom",teleport:"body",style:{height:"84%"}},{default:k((()=>[b("iframe",{width:"100%",height:"100%",style:{border:"none"},src:o.value,frameborder:"0"},null,8,J)])),_:1},8,["show"])],64)}}});Q.__scopeId="data-v-e663d3ee";const ee={class:"table-cover"},ae=["src"],te={class:"table-road-list"},le={class:"table-name"},se={class:"bottom"},ne={class:"bet-money"},oe={class:"number"};var ie=c({props:{tableInfo:{type:Object,default:()=>{}}},setup(s){const n=s,o=r(!1),i=u((()=>o.value||!n.tableInfo.tableCover?"/assets/table-bg.55aac982.jpg":n.tableInfo.tableCover)),c=["he","xian","zhuang","zhuang"],T=u((()=>{let e=A(n.tableInfo.wins);if(B(e)){const a=[];let t=0;e.forEach(((e,l)=>{0===l&&e[0]<1e3?t=e[0]:1===l&&0===a.length?(e[0]=e[0]+t,a.push(e)):a.push(e)})),e=a}const a=[];e=e.splice(-22,22);for(let t=0;t<e.length;t++){const l=e[t];for(let e=0;e<l.length;e++){let s=l[e],n="";if(a[t]||(a[t]=[]),a[t][e]||(a[t][e]=[]),void 0===s){a[t][e].push(n);continue}const o=document.createElement("div");let i=0;i=s<10?s:s>1e3?s%1e3:s%10,1===s&&(s=0);s=Math.floor(s/1e3)%10,3===s&&(s=2);const r=s%10;i?(i>1&&(o.innerText=`${i}`),n=`box ${c[r]} line`):n=`box ${c[r]}`,a[t][e].push(n)}}if(a.length<24){const e=24-a.length;for(let t=0;t<e;t++)a.push([0,0,0,0,0,0])}return a})),k=async()=>{const e=n.tableInfo.tableId;a({duration:2e4,message:"加载中..."});const s=await t({supplierId:"aigame",gameKey:"BAC-V2.0",openType:2,dirType:1,terType:2});if(200===(null==s?void 0:s.code)){l();const a=s.data.url.replace("&isAi=1","");window.location.href=a+"&source=7lucky&hasLive=1&brandType=1&tableId="+e+"&sourceUrl="+encodeURIComponent(window.location.href)}};return(a,t)=>{const l=d("SvgIcon");return v(),p("div",{class:"table-info-component",onClick:k},[b("div",ee,[b("img",{src:m(i),onError:t[0]||(t[0]=e=>o.value=!0),style:{"object-fit":"contain"}},null,40,ae)]),b("div",te,[(v(!0),p(f,null,g(m(T),((e,a)=>(v(),p("div",{class:"road-col",key:a},[(v(!0),p(f,null,g(e,((e,a)=>(v(),p("div",{class:"road-item",key:a},[b("span",{class:h(["round",e])},null,2)])))),128))])))),128))]),b("div",le,y(s.tableInfo.tableName),1),b("div",se,[b("span",ne,[I(e,{"class-name":"mr3 fs24"}),w(" "+y(s.tableInfo.tableLimitMin||0),1)]),b("span",oe,[I(l,{name:"home-users",class:"users-icon"}),w(" "+y(s.tableInfo.tablePlayers||0),1)])])])}}});ie.__scopeId="data-v-1264ffd9";const ce={class:"good-road-view"},re={class:"title"},ue={key:1,class:"list"};var de=c({props:{list:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0}},setup:e=>(a,t)=>{const l=d("Loading"),s=d("EmptyData");return v(),p("section",ce,[b("div",re,y(a.$t("home.casinoTitleObj.title2")),1),e.loading?(v(),T(l,{key:0})):e.list.length?(v(),p("div",ue,[(v(!0),p(f,null,g(e.list,((e,a)=>(v(),T(ie,{key:a,tableInfo:e},null,8,["tableInfo"])))),128))])):(v(),T(s,{key:2}))])}});de.__scopeId="data-v-ce3f15ec";const ve={key:0,class:"maintenance-view"},pe={class:"maintenance-title"},be={key:0,class:"maintenance-subtitle"},me={key:1,class:"maintenance-timer"};var fe=c({setup(e){const a=u((()=>n.state.app.showFixedBet)),t=u((()=>n.state.app.theme)),l=u((()=>"blue"===t.value?"/assets/maintenance-1.b0744d0b.png":"/assets/maintenance-2.661a1604.png")),s=r(!1),c=r(!1),d=r({}),g=r([]),w=r([]),T=r(),k=r(""),$=r(!0),j=r(!0);x((()=>{A(),B()})),C((()=>{clearInterval(T.value)})),clearInterval(T.value),T.value=setInterval((()=>{A(),B()}),1e4);const A=async()=>{const e=await o();$.value=!1;const a=(null==e?void 0:e.data)||[];g.value=a.slice(0,2)},B=async()=>{var e,a,t;const l=await i();j.value=!1,503===(null==(e=null==l?void 0:l.data)?void 0:e.code)?(s.value=!0,d.value=null==(a=null==l?void 0:l.data)?void 0:a.data):s.value=!1,w.value=(null==(t=null==l?void 0:l.data)?void 0:t.data)||[]};_((()=>s.value),(()=>{s.value&&L()}));const L=()=>{const e=d.value.endTime.replace(/-/g,"/"),a=new Date(e).getTime();if(Date.now()>a)return c.value=!1,!1;c.value=!0;const t=a-(new Date).getTime();let l,s,n;t>=0&&(l=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),l=l<10?"0"+l:l,s=s<10?"0"+s:s,n=n<10?"0"+n:n,k.value=`${l}:${s}:${n}`,setTimeout(L,1e3))},U=O(),D=()=>{U.push("/home")};return(e,t)=>(v(),p("div",{class:h(["casino-page",{"has-bet":m(a)}])},[s.value?(v(),p("div",ve,[b("div",{class:"maintenance-icon",style:E({backgroundImage:`url(${m(l)})`})},null,4),b("div",pe,y(e.$t("home.casinoTitleObj.title3")),1),c.value?(v(),p("div",be,y(e.$t("home.casinoTitleObj.title4")),1)):M("",!0),c.value?(v(),p("div",me,y(k.value),1)):M("",!0),b("div",{class:"go-btn",onClick:D},y(e.$t("home.casinoTitleObj.gohome")),1)])):(v(),p(f,{key:1},[I(Q,{list:g.value,loading:$.value},null,8,["list","loading"]),I(de,{list:w.value,loading:j.value},null,8,["list","loading"])],64))],2))}});fe.__scopeId="data-v-2b7a0d37";export{fe as default};
