var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,n=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))o.call(a,t)&&l(e,t,a[t]);return e};import{d as r,b as p,r as c,o as m,h as u,e as d,F as h,q as y,c as g,w as v,t as f,i as T,j as b,m as I,p as w,l as x,v as _,u as j,x as k,B as D,a5 as O,a3 as $,y as S}from"./vue.d1998281.js";import{t as C}from"./title-time.e1dee746.js";import{t as P}from"./title-recommend.59b8a30f.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang.247324f8.js";import{c as N}from"./league-icon.99b403d8.js";import{_ as z}from"./index.e195793d.js";import{J as L,j as R}from"./index.915b0e79.js";import{c as q}from"./index.9504a766.js";import{f as M,r as B}from"./index.6614964a.js";import"./dayjs.min.1e32a462.js";const E={class:"league-champion-item__content"},H={class:"betting-select"},K={class:"betting-select__list"},F={class:"up-betting-name betslipLine"},J={class:"text"},G=(e=>(w("data-v-435df47e"),e=e(),x(),e))((()=>d("span",{class:"point"},null,-1))),Q={class:"details"},U={class:"container"},V={class:"item"};var W=r({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,t=p(!1),s=p();s.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,i)=>{const o=c("BettingOption"),l=c("van-icon");return m(),u("div",E,[d("div",H,[d("div",K,[(m(!0),u(h,null,y(s.value,((e,a)=>(m(),g(o,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:v((()=>[d("span",F,[d("span",J,f(e.ratio),1),G]),d("div",Q,[d("div",U,[d("div",V,f(e.ior),1)])])])),_:2},1032,["market-info"])))),128))]),d("div",{class:"betting-select__more",onClick:i[0]||(i[0]=e=>(t.value=!t.value,void(t.value?s.value=a.gameDetail.champion.ratioData:s.value=a.gameDetail.champion.ratioData.slice(0,9))))},[T(f(t.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),b(l,{class:I(["icon",t.value?"up":""]),name:"play"},null,8,["class"])])])])}}});W.__scopeId="data-v-435df47e";const X={class:"sport-champion-list"},Y={class:"champion-title"},Z={class:"champion-group-body"},ee={class:"league-champion-item__header"},ae={class:"icon"},te={class:"title"};var se=r({props:{championList:{type:Array,default:function(){return[]}}},setup(e){const a=p(!0),t=e=>{console.log(e),a.value=!e};return(s,i)=>{const o=c("ArrowTitle"),l=_("img");return m(),u("div",X,[d("div",Y,[b(o,{class:"mt10 mb10",src:j(P),text:s.$t("sport.champion"),onReturnSuccess:t},null,8,["src","text"])]),k(d("div",Z,[(m(!0),u(h,null,y(e.championList,((e,a)=>(m(),u("div",{key:a,class:"league-champion-item"},[d("div",ee,[k(d("img",ae,null,512),[[l,j(N)]]),d("div",te,f(e.champion.championType),1)]),b(W,{"game-detail":e},null,8,["game-detail"])])))),128))],512),[[D,a.value]])])}}});se.__scopeId="data-v-3412fa64";const ie=["systemId","gidm","gameId","gameType","playType","ratioType","ratio","ior"];class oe{constructor(e){this.isChampion=!1,this.ratioName="",this.goldMax="",this.goldMin="",this.ratioKey="",this.systemId=e.systemId,this.leagueId=e.leagueId,this.gidm=e.gidm||"",this.hgid=e.hgid||"",this.sgidm=e.sgidm,this.gameId=e.gameId,this.pgidm=e.pgidm,this.optionId=e.optionId||e.id||"",this.sw=e.sw,this.championType=e.championType,this.oddfType=e.oddfType,this.showType=e.showType||e.showtype,this.showtype=e.showType||e.showtype,this.gameType=e.gameType,this.playType=e.playType||"",this.ratioType=e.ratioType||"",this.ratioIpo=e.ratioIpo,this.session=e.session,this.ratio=e.ratio||e.ratio1,this.ior=e.ior,this.leagueName=e.leagueName,this.homeTeam=e.homeTeam,this.awayTeam=e.awayTeam,this.suffix=e.suffix,this.homeTeamSuffix=e.homeTeamSuffix,this.sourceCompany=e.sourceCompany,"CP"===this.showtype||"CHAMPION"===this.playType?this.isChampion=!0:this.isChampion=!1;try{this.ratioName=L(n({},this))}catch(a){console.error(a)}this.checkoutAttrs(e),this.playOnlyId=this.getPlayOnlyId(),this.ratioKey=this.playOnlyId}checkoutAttrs(e){const a=[];ie.forEach((t=>{e[t]||a.push(t)})),a.length&&console.warn(`缺少：${a.toString()}`)}getPlayOnlyId(){let e=this.gidm;return this.sgidm&&(e=this.sgidm),this.optionId?`${e}/${this.optionId}/${this.playType}${this.ratioType}`:`${e}/${this.gameId}/${this.playType}/${this.ratioType}`}get vior(){return this.ior}}const le={class:"sport-page"},ne={class:"my-scroll__content"},re={class:"betting-sport-nav"},pe={key:0,class:"recommend-list"},ce={key:1,class:"early-list"},me=(e=>(w("data-v-35bb2a94"),e=e(),x(),e))((()=>d("div",{class:"footerHeight"},null,-1)));var ue=r({setup(e){const s=O(),i=p(s.query.leagueId),o=p(s.query.type),l=p(),r=p(),v=p(!0),f=e=>{console.log(e),v.value=!e},T=p(!0),I=e=>{console.log(e),T.value=!e};$((async()=>{if(x(),i.value){const e=p({gameType:o.value,leagueId:i.value,page:1,pageSize:20});L(e.value)}else{const e=p({gameType:o.value,gradeType:1,page:1,pageSize:20});L(e.value);const a=p({gameType:o.value,gradeType:2,page:1,pageSize:20});L(a.value)}H()}));const w=p([]),x=async()=>{if(o.value){const e=await M({gameType:o.value})||{};200===e.code&&e.data&&(w.value=e.data)}},_=p([]),N=p([]),L=async e=>{if(o.value){const a=await B(e)||{};200===a.code&&a.data?(_.value=a.data.baseData||[],(a.data.baseData||a.data.baseData.length)&&(l.value=a.data.baseData[0].leagueLogo,r.value=a.data.baseData[0].leagueShortName),i.value?N.value=[]:N.value=a.data.baseData||[]):(_.value=[],N.value=[])}},E=p([]),H=async()=>{if(i.value){const e=await q({page:1,pageSize:10,leagueIds:i.value})||{};if(200===e.code&&e.data){const s=e.data.gameDetail.map((e=>{const{systemId:s,gameId:i,gidm:o,gameType:l}=e,r=e.champion.playType,p=e.champion.championType,c=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new oe((m=n({},e),a(m,t({systemId:s,gameId:i,gidm:o,gameType:l,playType:r,sw:c,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));E.value=s}}else E.value=[]},K=e=>{e.leagueId?window.location.href="/sport?leagueId="+e.leagueId+"&type="+e.gameType:window.location.href="/sport?type="+o.value};return(e,a)=>{const t=c("ArrowTitle");return m(),u("div",le,[d("div",ne,[d("div",re,[b(z,{text:e.$t("sport.recommend"),active:!i.value,onClick:a[0]||(a[0]=e=>K({}))},null,8,["text","active"]),(m(!0),u(h,null,y(w.value,((e,a)=>(m(),g(R,{key:a,text:e.leagueNameAbbr,src:e.icon,active:i.value===e.leagueId,onClick:a=>K(e)},null,8,["text","src","active","onClick"])))),128))])]),_.value.length?(m(),u("div",pe,[i.value?(m(),g(t,{key:0,class:"mt10 mb10",src:l.value,text:r.value,onReturnSuccess:f},null,8,["src","text"])):(m(),g(t,{key:1,class:"mt10 mb10",src:j(P),text:e.$t("sport.recommend"),onReturnSuccess:f},null,8,["src","text"])),(m(!0),u(h,null,y(_.value,((e,a)=>k((m(),g(A,{key:a,"send-params":e},null,8,["send-params"])),[[D,v.value]]))),128))])):S("",!0),N.value.length?(m(),u("div",ce,[b(t,{class:"mt10 mb10",src:j(C),text:e.$t("sport.early"),onReturnSuccess:I},null,8,["src","text"]),(m(!0),u(h,null,y(N.value,((e,a)=>k((m(),g(A,{key:a,"send-params":e},null,8,["send-params"])),[[D,T.value]]))),128))])):S("",!0),E.value.length?(m(),g(se,{key:2,"champion-list":E.value},null,8,["champion-list"])):S("",!0),me])}}});ue.__scopeId="data-v-35bb2a94";export{ue as default};
