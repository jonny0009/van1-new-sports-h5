var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,u=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{t as n,a as i}from"./title-recommend.e2b9b6c8.js";import{s as r,d as c,r as v,o as p,S as d,P as m,F as g,Z as y,c as h,O as b,V as f,B as k,q as T,_,X as D,Y as x,E as I,u as w,x as S,y as j,R as V,a5 as L,b as M,g as O,n as $,a0 as C}from"./vue.7b2d67a6.js";import{c as A,d as H}from"./index.01bf9e34.js";import{_ as z}from"./index.6d99e7e5.js";import{s as B,j as P,M as E}from"./index.85f4fea5.js";import{f as R,a as U}from"./index.c0cc2381.js";const q={class:"league-champion-item__content"},F={class:"betting-select"},G={class:"betting-select__list"},N={class:"up-betting-name betslipLine"},X={class:"text"},Y=(e=>(D("data-v-27cd4b68"),e=e(),x(),e))((()=>m("span",{class:"point"},null,-1))),Z={class:"details"},J={class:"container"},K={class:"item"};var Q=r({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(e){const a=e,l=c(!1),t=c();t.value=a.gameDetail.champion.ratioData.slice(0,9);return(e,s)=>{const o=v("BettingOption"),u=v("van-icon");return p(),d("div",q,[m("div",F,[m("div",G,[(p(!0),d(g,null,y(t.value,((e,a)=>(p(),h(o,{key:a,"market-info":e.marketInfo,class:"betting-option"},{default:b((()=>[m("span",N,[m("span",X,f(e.ratio),1),Y]),m("div",Z,[m("div",J,[m("div",K,f(e.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),m("div",{class:"betting-select__more",onClick:s[0]||(s[0]=e=>(l.value=!l.value,void(l.value?t.value=a.gameDetail.champion.ratioData:t.value=a.gameDetail.champion.ratioData.slice(0,9))))},[k(f(l.value?e.$t("sport.close"):e.$t("sport.more"))+" ",1),T(u,{class:_(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});Q.__scopeId="data-v-27cd4b68";const W={class:"sport-champion-list"},ee={class:"champion-title"},ae={class:"champion-group-body"},le={class:"league-champion-item__header"},te={class:"icon"},se={class:"title"};var oe=r({props:{championList:{type:Array,default:function(){return[]}},championListLoading:{type:Boolean,default:function(){return!1}}},setup(e){const a=c(!0),l=e=>{a.value=!e};return(t,s)=>{const o=v("ArrowTitle"),u=v("Loading"),i=v("HomeEmpty"),r=I("img");return p(),d("div",W,[m("div",ee,[T(o,{class:"mt10 mb10 goodArrowTitle",src:w(n),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),S(m("div",ae,[e.championListLoading?(p(),h(u,{key:0})):(p(),d(g,{key:1},[e.championList.length?(p(!0),d(g,{key:0},y(e.championList,((e,a)=>(p(),d("div",{key:a,class:"league-champion-item"},[m("div",le,[S(m("img",te,null,512),[[r,w(A)]]),m("div",se,f(e.champion.championType),1)]),T(Q,{"game-detail":e},null,8,["game-detail"])])))),128)):(p(),h(i,{key:1}))],64))],512),[[j,a.value]])])}}});oe.__scopeId="data-v-98f9d664";const ue={class:"sport-page"},ne={key:0,class:"my-scroll__content"},ie={class:"betting-sport-nav"},re={class:"recommend-list"},ce={class:"early-list"},ve={key:0,class:"recommend-list"};var pe=r({setup(e){const r=c(),k=e=>{var a;P.push({name:"Sport",params:{type:e}}),B.dispatch("user/getLocationHeight",!1),null==(a=r.value)||a.setSports(e)};V();const D=L(),x=c("1"),I=c("b1"),S=c("c1"),j=c(D.query.leagueId);let A=M((()=>{var e;return(null==(e=D.params)?void 0:e.type)||"FT"}));const q=c(),F=c(),G=c(1),N=c(10),X=c(1),Y=c(10),Z=c(!1),J=c(!1),K=c(!1),Q=M((()=>B.state.user.locationHeight)),W=()=>{K.value=!1,ee()},ee=()=>{j.value="",G.value=1,X.value=1,te(),ae()},ae=async()=>{if(j.value){const e=c({gameType:A.value,leagueId:j.value,page:1,pageSize:20});be(e.value),Te()}else{const e=c({gameType:A.value,gradeType:1,page:G.value,pageSize:N.value});be(e.value);const a=c({gameType:A.value,gradeType:2,page:X.value,pageSize:Y.value});be(a.value)}},le=c([]),te=async()=>{if(A.value){const e=await R({gameType:A.value})||{};200===e.code&&e.data?le.value=e.data:le.value=[]}},se=c(!1),pe=async()=>{var e,a;if(Z.value)return;X.value=X.value+1;const l=c({gameType:A.value,gradeType:2,page:X.value,pageSize:Y.value});se.value=!0;const t=await U(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&ye.value.push(...t.data.baseData),ye.value.length<X.value*Y.value?Z.value=!0:Z.value=!1,se.value=!1},de=c(!1),me=async()=>{var e,a;if(J.value)return;G.value=G.value+1;const l=c({gameType:A.value,gradeType:1,page:G.value,pageSize:N.value});de.value=!0;const t=await U(l.value)||{};200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(a=t.data)?void 0:a.baseData.length)&&ge.value.push(...t.data.baseData),ge.value.length<G.value*N.value?J.value=!0:J.value=!1,de.value=!1},ge=c([]),ye=c([]),he=c(!1),be=async e=>{var a,l;if(A.value){he.value=!1;const t=await U(e)||{};he.value=!0;let s=[];200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)&&(s=t.data.baseData),1===e.gradeType||j.value?s.length?(q.value=s[0].leagueLogo,F.value=s[0].leagueShortName,ge.value=s):(q.value="",F.value="",ge.value=[]):2===e.gradeType&&(s.length?ye.value=s:ye.value=[])}},fe=c([]),ke=c(!1),Te=async()=>{var e;if(j.value){ke.value=!0;const n=await H({page:1,pageSize:10,leagueIds:j.value})||{};if(ke.value=!1,200===n.code&&n.data){const i=((null==(e=null==n?void 0:n.data)?void 0:e.gameDetail)||[]).map((e=>{const{systemId:n,gameId:i,gidm:r,gameType:c}=e,v=e.champion.playType,p=e.champion.championType,d=e.champion.sw;return e.champion.ratioData=e.champion.ratioData.map((e=>{var m;return e.marketInfo=new E((m=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&u(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&u(e,l,a[l]);return e})({},e),a(m,l({systemId:n,gameId:i,gidm:r,gameType:c,playType:v,sw:d,championType:p})))),e})).sort(((e,a)=>e.ior-a.ior)),e}));fe.value=i}}else fe.value=[]},_e=e=>{j.value=e.leagueId,ae()};return O((async()=>{var e;Q.value||(console.log("aaaa==="),j.value=(null==(e=D.query)?void 0:e.leagueId)||"",te(),ae(),$((()=>{var e;null==(e=r.value)||e.setSports(A.value)})))})),(e,a)=>{const l=v("SportsTabs"),t=v("ImageButton"),s=v("ArrowTitle"),o=v("Loading"),u=v("HomeMatchHandicap"),c=v("HomeEmpty"),D=v("van-collapse-item"),V=v("van-collapse"),L=v("van-pull-refresh"),M=v("FooterHeight");return p(),d("div",ue,[T(l,{ref_key:"refSportsTabs",ref:r,class:"pt20",onReturnSportsSuccess:k},null,512),T(L,{modelValue:K.value,"onUpdate:modelValue":a[4]||(a[4]=e=>K.value=e),onRefresh:W},{default:b((()=>[le.value.length?(p(),d("div",ne,[m("div",ie,[T(z,{text:e.$t("sport.all"),active:!j.value,onClick:a[0]||(a[0]=e=>_e({}))},null,8,["text","active"]),(p(!0),d(g,null,y(le.value,((e,a)=>(p(),h(t,{key:a,text:e.leagueNameAbbr,src:e.icon,active:j.value===e.leagueId,onClick:a=>_e(e)},null,8,["text","src","active","onClick"])))),128))])])):C("",!0),j.value?(p(),d(g,{key:2},[T(V,{modelValue:x.value,"onUpdate:modelValue":a[3]||(a[3]=e=>x.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(D,{name:"1"},{title:b((()=>[T(s,{class:"mt10 mb10",src:q.value,type:"6",text:F.value},null,8,["src","text"])])),default:b((()=>[he.value?(p(),d(g,{key:1},[ge.value.length?(p(),d("div",ve,[(p(!0),d(g,null,y(ge.value,((e,a)=>(p(),h(u,{key:a,"send-params":e},null,8,["send-params"])))),128))])):(p(),h(c,{key:1}))],64)):(p(),h(o,{key:0}))])),_:1})])),_:1},8,["modelValue"]),T(oe,{"champion-list":fe.value,"champion-list-loading":ke.value},null,8,["champion-list","champion-list-loading"])],64)):(p(),d(g,{key:1},[T(V,{modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(D,{name:"b1"},{title:b((()=>[T(s,{class:"mt10 mb10 goodArrowTitle",src:w(n),text:e.$t("sport.recommend")},null,8,["src","text"])])),default:b((()=>[!he.value||de.value?(p(),h(o,{key:0})):(p(),d(g,{key:1},[ge.value.length?(p(),d(g,{key:0},[m("div",re,[(p(!0),d(g,null,y(ge.value,((e,a)=>(p(),h(u,{key:a,"send-params":e},null,8,["send-params"])))),128))]),m("div",{class:_(["Button-MatchMore mt20 mb20",J.value?"no-more":""]),onClick:me},[m("span",null,f(J.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(p(),h(c,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"]),T(V,{modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e),accordion:"",border:!1,class:"GlobalCollapse"},{default:b((()=>[T(D,{name:"c1"},{title:b((()=>[T(s,{class:"mt10 mb10 latestArrowTitle",src:w(i),text:e.$t("sport.early")},null,8,["src","text"])])),default:b((()=>[!he.value||se.value?(p(),h(o,{key:0})):(p(),d(g,{key:1},[ye.value.length?(p(),d(g,{key:0},[m("div",ce,[(p(!0),d(g,null,y(ye.value,((e,a)=>(p(),h(u,{key:a,"send-params":e},null,8,["send-params"])))),128))]),m("div",{class:_(["Button-MatchMore mt20 mb20",Z.value?"no-more":""]),onClick:pe},[m("span",null,f(Z.value?e.$t("live.noMore"):e.$t("home.lookMoreMatch")),1)],2)],64)):(p(),h(c,{key:1}))],64))])),_:1})])),_:1},8,["modelValue"])],64))])),_:1},8,["modelValue"]),T(M)])}}});pe.__scopeId="data-v-56816055";export{pe as default};
