var a=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,n=(e,l,t)=>l in e?a(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t;import{s as o,d as v,r as i,o as c,R as r,P as p,F as m,Z as d,c as g,O as y,S as h,B as b,q as f,Y as k,W as D,X as x,E as T,u as _,x as I,y as j,V as w,_ as S,M,w as O,a2 as $}from"./vue.e791136f.js";import{t as z}from"./title-time.dad94643.js";import{t as C}from"./title-recommend.5cf4514a.js";import{c as P}from"./league-icon.ebdbcce0.js";import{_ as R}from"./index.700157ea.js";import{c as B}from"./index.f8593eaa.js";import{f as L,r as A}from"./index.972a74e3.js";import{aJ as H}from"./index.6e5309e9.js";const E={class:"league-champion-item__content"},q={class:"betting-select"},N={class:"betting-select__list"},F={class:"up-betting-name betslipLine"},J={class:"text"},V=(a=>(D("data-v-5f0326cf"),a=a(),x(),a))((()=>p("span",{class:"point"},null,-1))),W={class:"details"},X={class:"container"},Y={class:"item"};var Z=o({props:{gameDetail:{type:Object,default:function(){return{}}}},setup(a){const e=a,l=v(!1),t=v();t.value=e.gameDetail.champion.ratioData.slice(0,9);return(a,s)=>{const u=i("BettingOption"),n=i("van-icon");return c(),r("div",E,[p("div",q,[p("div",N,[(c(!0),r(m,null,d(t.value,((a,e)=>(c(),g(u,{key:e,"market-info":a.marketInfo,class:"betting-option"},{default:y((()=>[p("span",F,[p("span",J,h(a.ratio),1),V]),p("div",W,[p("div",X,[p("div",Y,h(a.marketInfo.vior),1)])])])),_:2},1032,["market-info"])))),128))]),p("div",{class:"betting-select__more",onClick:s[0]||(s[0]=a=>(l.value=!l.value,void(l.value?t.value=e.gameDetail.champion.ratioData:t.value=e.gameDetail.champion.ratioData.slice(0,9))))},[b(h(l.value?a.$t("sport.close"):a.$t("sport.more"))+" ",1),f(n,{class:k(["icon",l.value?"up":""]),name:"play"},null,8,["class"])])])])}}});Z.__scopeId="data-v-5f0326cf";const G={class:"sport-champion-list"},K={class:"champion-title"},Q={class:"champion-group-body"},U={class:"league-champion-item__header"},aa={class:"icon"},ea={class:"title"};var la=o({props:{championList:{type:Array,default:function(){return[]}}},setup(a){const e=v(!0),l=a=>{e.value=!a};return(t,s)=>{const u=i("ArrowTitle"),n=T("img");return c(),r("div",G,[p("div",K,[f(u,{class:"mt10 mb10",src:_(C),text:t.$t("sport.champion"),onReturnSuccess:l},null,8,["src","text"])]),I(p("div",Q,[(c(!0),r(m,null,d(a.championList,((a,e)=>(c(),r("div",{key:e,class:"league-champion-item"},[p("div",U,[I(p("img",aa,null,512),[[n,_(P)]]),p("div",ea,h(a.champion.championType),1)]),f(Z,{"game-detail":a},null,8,["game-detail"])])))),128))],512),[[j,e.value]])])}}});la.__scopeId="data-v-33760ca4";const ta={class:"sport-page"},sa={class:"my-scroll__content"},ua={class:"betting-sport-nav"},na={key:0,class:"recommend-list"},oa={key:0,class:"recommend-list"},va={key:0,class:"early-list"},ia=(a=>(D("data-v-26b541b5"),a=a(),x(),a))((()=>p("div",{class:"footerHeight"},null,-1)));var ca=o({setup(a){const{currentRoute:o}=w(),y=S(),b=v(y.query.leagueId),D=v(y.params.type),x=v(),T=v(),P=v(!0),E=v(1),q=v(10),N=v(1),F=v(10),J=v(!1),V=v(!1),W=a=>{P.value=!a},X=v(!0),Y=a=>{X.value=!a};M((async()=>{K(),Z()})),O((()=>o.value),(a=>{D.value=a.params.type,b.value="",E.value=1,N.value=1,console.log(D.value),K(),Z()}));const Z=async()=>{if(b.value){const a=v({gameType:D.value,leagueId:b.value,page:1,pageSize:20});ma(a.value),ga()}else{const a=v({gameType:D.value,gradeType:1,page:E.value,pageSize:q.value});ma(a.value);const e=v({gameType:D.value,gradeType:2,page:N.value,pageSize:F.value});ma(e.value)}},G=v([]),K=async()=>{if(D.value){const a=await L({gameType:D.value})||{};200===a.code&&a.data?G.value=a.data:G.value=[]}},Q=v(!1),U=async()=>{var a,e;if(J.value)return;N.value=N.value+1;const l=v({gameType:D.value,gradeType:2,page:N.value,pageSize:F.value});Q.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(e=t.data)?void 0:e.baseData.length)&&(ra.value.push(...t.data.baseData),console.log(ra.value.length)),ra.value.length<N.value*F.value?J.value=!0:J.value=!1,Q.value=!1},aa=v(!1),ea=async()=>{var a,e;if(V.value)return;E.value=E.value+1;const l=v({gameType:D.value,gradeType:1,page:E.value,pageSize:q.value});aa.value=!0;const t=await A(l.value)||{};200===t.code&&(null==(a=t.data)?void 0:a.baseData)&&(null==(e=t.data)?void 0:e.baseData.length)&&ca.value.push(...t.data.baseData),ca.value.length<E.value*q.value?V.value=!0:V.value=!1,aa.value=!1},ca=v([]),ra=v([]),pa=v(!1),ma=async a=>{var e,l;if(D.value){pa.value=!1;const t=await A(a)||{};pa.value=!0,200===t.code&&(null==(e=t.data)?void 0:e.baseData)&&(null==(l=t.data)?void 0:l.baseData.length)?(ca.value=t.data.baseData||[],t.data.baseData.length&&(x.value=t.data.baseData[0].leagueLogo,T.value=t.data.baseData[0].leagueShortName),b.value?ra.value=[]:ra.value=t.data.baseData||[]):(ca.value=[],ra.value=[])}},da=v([]),ga=async()=>{var a;if(b.value){const o=await B({page:1,pageSize:10,leagueIds:b.value})||{};if(200===o.code&&o.data){const v=((null==(a=null==o?void 0:o.data)?void 0:a.gameDetail)||[]).map((a=>{const{systemId:o,gameId:v,gidm:i,gameType:c}=a,r=a.champion.playType,p=a.champion.championType,m=a.champion.sw;return a.champion.ratioData=a.champion.ratioData.map((a=>{var d;return a.marketInfo=new H((d=((a,e)=>{for(var l in e||(e={}))s.call(e,l)&&n(a,l,e[l]);if(t)for(var l of t(e))u.call(e,l)&&n(a,l,e[l]);return a})({},a),e(d,l({systemId:o,gameId:v,gidm:i,gameType:c,playType:r,sw:m,championType:p})))),a})).sort(((a,e)=>a.ior-e.ior)),a}));da.value=v}}else da.value=[]},ya=a=>{b.value=a.leagueId,Z()};return(a,e)=>{const l=i("ImageButton"),t=i("ArrowTitle"),s=i("Loading"),u=i("HomeMatchHandicap"),n=i("HomeEmpty");return c(),r("div",ta,[p("div",sa,[p("div",ua,[f(R,{text:a.$t("sport.recommend"),active:!b.value,onClick:e[0]||(e[0]=a=>ya({}))},null,8,["text","active"]),(c(!0),r(m,null,d(G.value,((a,e)=>(c(),g(l,{key:e,text:a.leagueNameAbbr,src:a.icon,active:b.value===a.leagueId,onClick:e=>ya(a)},null,8,["text","src","active","onClick"])))),128))])]),ca.value.length&&b.value?(c(),r(m,{key:0},[f(t,{class:"mt10 mb10",src:x.value,text:T.value,onReturnSuccess:W},null,8,["src","text"]),P.value?(c(),r(m,{key:0},[pa.value?(c(),r(m,{key:1},[ca.value.length?(c(),r("div",na,[(c(!0),r(m,null,d(ca.value,((a,e)=>I((c(),g(u,{key:e,"send-params":a},null,8,["send-params"])),[[j,P.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0}))],64)):$("",!0)],64)):$("",!0),b.value?$("",!0):(c(),r(m,{key:1},[f(t,{class:"mt10 mb10",src:_(C),text:a.$t("sport.recommend"),onReturnSuccess:W},null,8,["src","text"]),P.value?(c(),r(m,{key:0},[pa.value?(c(),r(m,{key:1},[ca.value.length?(c(),r("div",oa,[(c(!0),r(m,null,d(ca.value,((a,e)=>I((c(),g(u,{key:e,"send-params":a},null,8,["send-params"])),[[j,P.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0})),!aa.value&&ca.value.length?(c(),r("div",{key:2,class:k(["Button-MatchMore mt20",V.value?"no-more":""]),onClick:ea},[p("span",null,h(V.value?a.$t("live.noMore"):a.$t("home.lookMoreMatch")),1)],2)):$("",!0),aa.value?(c(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),b.value?$("",!0):(c(),r(m,{key:2},[f(t,{class:"mt10 mb10",src:_(z),text:a.$t("sport.early"),onReturnSuccess:Y},null,8,["src","text"]),X.value?(c(),r(m,{key:0},[pa.value?(c(),r(m,{key:1},[ra.value.length?(c(),r("div",va,[(c(!0),r(m,null,d(ra.value,((a,e)=>I((c(),g(u,{key:e,"send-params":a},null,8,["send-params"])),[[j,X.value]]))),128))])):(c(),g(n,{key:1}))],64)):(c(),g(s,{key:0})),!Q.value&&ra.value.length?(c(),r("div",{key:2,class:k(["Button-MatchMore mt20",J.value?"no-more":""]),onClick:U},[p("span",null,h(J.value?a.$t("live.noMore"):a.$t("home.lookMoreMatch")),1)],2)):$("",!0),Q.value?(c(),g(s,{key:3})):$("",!0)],64)):$("",!0)],64)),da.value.length&&b.value?(c(),g(la,{key:3,"champion-list":da.value},null,8,["champion-list"])):$("",!0),ia])}}});ca.__scopeId="data-v-26b541b5";export{ca as default};
