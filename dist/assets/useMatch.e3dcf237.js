import{u as e,m as s,E as c}from"./index.89f88bbb.js";import{d as t,a7 as n}from"./vue.16414fe4.js";const r=s=>{const{t:c}=e(),t=s.se_now?+s.se_now.replace(/[^0-9]/gi,""):0;let n,r;s.sc_adv?"40"===s.sc_game_A&&"40"===s.sc_game_H?"0"===s.sc_adv?(n="A",r=+s.sc_game_H):"1"===s.sc_adv?(r="A",n=s.sc_game_A):(n=s.sc_game_A,r=s.sc_game_H):(n=s.sc_game_A,r=s.sc_game_H):"Adv"===s.sc_game_A||"A"===s.sc_game_A?(n="A",r=s.sc_game_H):"Adv"===s.sc_game_H||"A"===s.sc_game_H?(r="A",n=s.sc_game_A):(n=s.sc_game_A,r=s.sc_game_H);const _=s&&s.sc_iwd&&s.sc_iwd.trim()?JSON.parse(s.sc_iwd):"",a={sc1stA:s?+s.sc_1st_A:0,sc1stH:s?+s.sc_1st_H:0,sc2stA:s?+s.sc_2nd_A:0,sc2stH:s?+s.sc_2nd_H:0,sc3stA:s?+s.sc_3th_A:0,sc3stH:s?+s.sc_3th_H:0,sc4stA:s?+s.sc_4th_A:0,sc4stH:s?+s.sc_4th_H:0,sc5stA:s?+s.sc_5th_A:0,sc5stH:s?+s.sc_5th_H:0};let i={};const u=[];let m=1,l={scoreA:0,scoreH:0},H={};for(let e=1;e<5;e++){const s=o(e,a,l);if(u.push(s.scoreObj),!s.hasNext){m=e,l=s.scorePan,H=s.scoreJu;break}5===e&&(m=e,l=s.scorePan,H=s.scoreJu)}let p="",f="",A="",h="",g="",v="";const $=(""+(r||n?r+":"+n:"")).split(":"),T=$[0],w=$[1];return t?(p=c("home.bout",{number:t})+`${a[`sc${t}stH`]}:${a[`sc${t}stA`]}(${r||n?(r||0)+":"+(n||0):""})`,f=c("home.bout",{number:t}),A=`${a[`sc${t}stH`]||0}:${a[`sc${t}stA`]||0}`,h=`(${r||n?(r||0)+":"+(n||0):""})`,g=a[`sc${t}stH`]||0,v=a[`sc${t}stA`]||0):m&&(p=c("home.bout",{number:m})+`${a[`sc${m}stH`]||0}:${a[`sc${m}stA`]||0}(${r||n?(r||0)+":"+(n||0):""})`,f=c("home.bout",{number:m}),A=`${a[`sc${m}stH`]||0}:${a[`sc${m}stA`]||0}`,g=a[`sc${m}stH`]||0,v=a[`sc${m}stA`]||0,h=`(${r||n?(r||0)+":"+(n||0):""})`),i={scoreArr:u,currPanNum:m,sciwd:_,senow:t>0?t:m,showText:p,scorePan:l,scoreJu:H,score1:A,score2:h,score1Home:g,score1Away:v,score2Home:T,score2Away:w,panNum:f},i},o=(e,s,c)=>{const t={hasNext:!1},n=`sc${e}stA`,r=`sc${e}stH`,o=s[n],_=s[r];return o>=7||_>=7?t.hasNext=!0:6!==o&&6!==_||Math.abs(o-_)>=2&&(t.hasNext=!0),t.hasNext&&(o>_?c.scoreA+=1:c.scoreH+=1),t.scoreObj={[n]:o,[r]:_},t.scoreJu={scoreA:o,scoreH:_},t.scorePan=c,t},_=(s,c=5)=>{const{t:t}=e();if(!s)return"";const n={sc1stA:1*s.sc_1st_A||0,sc1stH:1*s.sc_1st_H||0,sc2stA:1*s.sc_2nd_A||0,sc2stH:1*s.sc_2nd_H||0,sc3stA:1*s.sc_3th_A||0,sc3stH:1*s.sc_3th_H||0,sc4stA:1*s.sc_4th_A||0,sc4stH:1*s.sc_4th_H||0,sc5stA:1*s.sc_5th_A||0,sc5stH:1*s.sc_5th_H||0,sc6stA:1*s.sc_6th_A||0,sc6stH:1*s.sc_6th_H||0,sc7stA:1*s.sc_7th_A||0,sc7stH:1*s.sc_7th_H||0,sc8stA:1*s.sc_8th_A||0,sc8stH:1*s.sc_8th_H||0,sc9stA:1*s.sc_9th_A||0,sc9stH:1*s.sc_9th_H||0,sc10stA:1*s.sc_10th_A||0,sc10stH:1*s.sc_10th_H||0};let r={};const o=[];let _=1;const i={scoreA:0,scoreH:0};let u={};for(let e=1;e<c+1;e++){const s=a(e,n,i);o.push(s.scoreObj),_=e,i.scoreA+=s.scoreJu.scoreA,i.scoreH+=s.scoreJu.scoreH,i.num=s.scorePan.num,(s.scoreJu.scoreA||s.scoreJu.scoreH)&&(u=s.scoreJu)}return i.num=s.se_now?.replace(/[^0-9]/gi,"")||null,s.inningNum&&"0"!==s.inningNum&&(i.num=s.inningNum),r={scoreArr:o,currPanNum:_,showText:t("home.set",{number:i.num})+` (${i.scoreH} : ${i.scoreA})`,scorePan:i,scoreJu:u},r},a=(e,s,c)=>{const t={},n=`sc${e}stA`,r=`sc${e}stH`,o=1*s[n],_=1*s[r];return t.scoreJu={},o>0||_>0?(t.hasNext=!0,c.num=e,t.scoreJu={scoreA:o,scoreH:_}):(c.num||(c.num=1),t.scoreJu.scoreA||(t.scoreJu={scoreA:o,scoreH:_})),t.scoreObj={[n]:o,[r]:_},t.scorePan=c,t},i=s=>{const{t:c}=e(),t={};return t.se_now=s.se_now&&"0"!==s.se_now?s.se_now.replace(/[^0-9]/gi,""):"",t.sc_half=s.sc_half?+s.sc_half?c("home.down"):c("home.up"):"",t.score=_(s,9).scorePan,t.sc_ot=s.sc_ot?+s.sc_ot:"",t.sc_fb=s.sc_fb?JSON.parse(s.sc_fb):"",t.sc_sb=s.sc_sb?JSON.parse(s.sc_sb):"",t.sc_tb=s.sc_tb?JSON.parse(s.sc_tb):"",t},u=(e,s="H")=>{if(e?.gameInfo&&("RB"===e?.showtype||"RB"===e?.showType)){let c,t;if("TN"===e?.gameType){const c=r(e?.gameInfo);return"H"===s?c.scorePan.scoreH||"0":c.scorePan.scoreA||"0"}if("BS"===e.gameType&&e.gidm.indexOf("ib")>-1){const c=i(e.gameInfo);return"H"===s?c.score.scoreH||"0":c.score.scoreA||"0"}return"FT"===e.gameType&&e.gidm.indexOf("ib")>-1&&e.homeTeamSuffix&&e.gameScene&&e.gameScene.scene&&e.gameScene.scene.score&&e.gameScene.scene.score.fullScore?"H"===s?e.gameScene.scene.score.fullScore.team1||"0":e.gameScene.scene.score.fullScore.team2||"0":"H"===s?((e.gameInfo.sc_FT_H||e.gameInfo.sc_game_H)&&(c=e.gameInfo.sc_FT_H||0),c||"0"):((e.gameInfo.sc_FT_H||e.gameInfo.sc_game_H)&&(t=e.gameInfo.sc_FT_A||e.gameInfo.sc_FT_C||0),t||"0")}},{t:m}=s.global,l={0:"",Q1:m("live.Q1"),Q2:m("live.Q2"),Q3:m("live.Q3"),Q4:m("live.Q4"),"1h":m("live.Q1"),"2h":m("live.Q2"),"3h":m("live.Q3"),"4h":m("live.Q4"),OT:m("live.OT"),HT:m("live.HT"),H1:m("live.H1"),H2:m("live.H2"),q1:m("live.Q1"),q2:m("live.Q2"),q3:m("live.Q3"),q4:m("live.Q4"),ot:m("live.OT"),ht:m("live.HT"),h1:m("live.H1"),h2:m("live.H2")};function H(){let e=t(0),s=t(""),o=t(null);H();const a=e=>l[e];function H(){clearInterval(o.value),o.value=null}return{BKSection:a,showRBTime:function(t={}){const{showtype:u,gameType:l,gameInfo:p,showType:f,homeTeamSuffix:A,gidm:h}=t,g=_(p,5),v=p&&p.se_now;if("RB"===u||"RB"===f){switch(n((()=>{!function(c={}){const{gameType:t,gameInfo:n}=c;"BK"===t&&n?+n.t_count?(s.value!==n.se_now&&(s.value=n.se_now,e.value=+n.t_count),e.value>=+n.t_count&&e.value>0&&(e.value=+n.t_count,H(),o.value=setInterval((()=>{e.value=e.value-1,e.value<=0&&(e.value=0,H())}),1e3))):(e.value=0,H()):H()}(t)})),l){case"FT":if(!p)return m("live.inprogress");if((A?.includes("点球")||A?.includes("點球"))&&(p.raceType="dianqiu",p.teamSuffix="点球大战"),(A?.includes("加时赛")||A?.includes("加時賽"))&&(p.raceType="jiashi",p.teamSuffix="加时"),p.raceType){if("jiashi"===p?.raceType&&("HT^^"===p?.re_time||"HT"===p?.re_time))return m("live.HT");if("jiashi"===p?.raceType&&p?.re_time&&new RegExp("LIVE").test(p?.re_time))return m("live.pause");if("jiashi"===p?.raceType&&p?.re_time.indexOf("^")>-1){const[e,s]=p.re_time.split("^"),c="1H"===e?`上${s}`:`下${s}`;return`${p.teamSuffix}<span class='time-h-number'>${c}</span>`}}if("HT^^"===p?.re_time||"HT"===p?.re_time)return m("live.HT");if(p?.re_time&&new RegExp("LIVE").test(p?.re_time))return m("live.pause");if(p?.re_time&&p?.re_time.indexOf("^")>-1){const[e,s]=p.re_time.split("^");let c="";if(s.indexOf("'")>-1){const[e]=s.split("'");c=`${e}<span class="time-h-dot">'</span>`}else c=s;return"1H"===e?`${m("live.H1")}&nbsp;<span class='time-h-Up'>${c}</span>`:`${m("live.H2")}&nbsp;<span class='time-h-d'>${c}</span>`}return p?.re_time?p.re_time:"-:-";case"TN":if(p){const e=r(p);if(e?.sciwd)return m("live.pause");const{panNum:s,score1:c,score2:t}=e;return`${s}<span>${c}${t}</span>`}return m("live.inprogress");case"BS":if(p){if(h&&h.indexOf("ic")>-1)return m("live.inprogress");const e=p?i(p):"";return`<span class="">第${p.inningNum?p?.inningNum:e.se_now>0?e.se_now:e.score.num}局</span>`}return m("live.inprogress");case"BK":return"HT"===p?.se_now||"ht"===p?.se_now?m("live.HT"):p?.se_now.indexOf("OT")>-1||p?.se_now.indexOf("ot")>-1?`加时<span>${c(1e3*e.value,"mm:ss")}</span>`:v&&e?`${a(p?.se_now)}&nbsp;<span>${c(1e3*e.value,"mm:ss")}</span>`:!e.value&&v?`${a(p.se_now)}&nbsp;<span>00:00</span>`:"";case"BK_AFT":if(p){if("HT"===p?.se_now||"ht"===p?.se_now)return m("live.inprogress");if(p?.se_now.indexOf("OT")>-1||p?.se_now.indexOf("ot")>-1)return`加时 <span>${c(1e3*p.t_count,"mm:ss")}</span>`;const e=p&&p.se_now,s=p&&+p.t_count;return e&&s?`${a(p.se_now)}&nbsp;<span>${c(1e3*p.t_count,"mm:ss")}</span>`:""}return m("live.notstarted");case"OP_TN":if(p){return p?.se_now.replace(/[^0-9]/gi,"")||""}return m("live.inprogress");case"OP_VB":return g?`第${g.scorePan.num}局`:"";case"OP_DJ":case"OP_IH":return m("live.inprogress")}return m("live.inprogress")}return H(),m("live.notstarted")},getScore:u}}export{u as g,H as u};
